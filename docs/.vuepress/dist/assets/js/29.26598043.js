(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{603:function(t,s,e){t.exports=e.p+"assets/img/3.主从架构.3d8cbc6f.jpg"},604:function(t,s,e){t.exports=e.p+"assets/img/5.配置protected-mode.58ce8fab.jpg"},605:function(t,s,e){t.exports=e.p+"assets/img/6.配置dir.c1871b35.jpg"},606:function(t,s,e){t.exports=e.p+"assets/img/7.配置pidfile.d6784fe1.jpg"},607:function(t,s,e){t.exports=e.p+"assets/img/8.配置logfile.d4d152a5.jpg"},608:function(t,s,e){t.exports=e.p+"assets/img/10配置dump.rdb名字.46be5586.jpg"},609:function(t,s,e){t.exports=e.p+"assets/img/11.配置appendfilename.60474a2e.jpg"},610:function(t,s,e){t.exports=e.p+"assets/img/12.从机配置主机密码.a15bc839.jpg"},793:function(t,s,e){"use strict";e.r(s);var p=e(5),a=Object(p.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"案例演示-配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#案例演示-配置文件"}},[t._v("#")]),t._v(" 案例演示-配置文件")]),t._v(" "),s("h3",{attrs:{id:"架构说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#架构说明"}},[t._v("#")]),t._v(" 架构说明")]),t._v(" "),s("p",[t._v("一个Master两个Slave，三台虚拟机，每台都安装redis")]),t._v(" "),s("p",[s("img",{attrs:{src:e(603),alt:""}})]),t._v(" "),s("p",[t._v("拷贝多个redis.conf文件")]),t._v(" "),s("p",[t._v("redis6379.conf、redis6380.conf、redis6381.conf")]),t._v(" "),s("h3",{attrs:{id:"小口诀"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小口诀"}},[t._v("#")]),t._v(" 小口诀")]),t._v(" "),s("p",[t._v("三台虚拟机需要能相互ping通且需要注意防火墙配置")]),t._v(" "),s("p",[t._v("三大命令：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("主从复制")]),t._v(" "),s("p",[t._v("replicaof 主库IP 主库端口，配从(库)不配主(库)")])]),t._v(" "),s("li",[s("p",[t._v("改换门庭")]),t._v(" "),s("p",[t._v("slaveof 新主库IP 新主库端口")])]),t._v(" "),s("li",[s("p",[t._v("自立为王")]),t._v(" "),s("p",[t._v("slaveof no one")])])]),t._v(" "),s("h3",{attrs:{id:"修改配置文件细节操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件细节操作"}},[t._v("#")]),t._v(" 修改配置文件细节操作")]),t._v(" "),s("p",[t._v("redis6379.conf为例，步骤如下：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("开启daemonize yes")]),t._v(" "),s("p",[t._v("![](images/4.配置daemonize .jpg)")])]),t._v(" "),s("li",[s("p",[t._v("注释掉bind 127.0.0.1")])]),t._v(" "),s("li",[s("p",[t._v("protected-mode no")]),t._v(" "),s("p",[s("img",{attrs:{src:e(604),alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("指定端口")])]),t._v(" "),s("li",[s("p",[t._v("指定当前工作目录，dir")]),t._v(" "),s("p",[s("img",{attrs:{src:e(605),alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("pid文件名字，pidfile")]),t._v(" "),s("p",[s("img",{attrs:{src:e(606),alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("log文件名字，logfile")]),t._v(" "),s("p",[s("strong",[t._v("如果日志文件和启动文件同级，这里可以配置为./6379.log，否则这里一定要写绝对路径，是个巨坑！！！")])]),t._v(" "),s("p",[s("img",{attrs:{src:e(607),alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("requiredpass")]),t._v(" "),s("p",[t._v("![](images/9.配置requiredpass .jpg)")])]),t._v(" "),s("li",[s("p",[t._v("dump.rdb名字")]),t._v(" "),s("p",[s("img",{attrs:{src:e(608),alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("aof文件，appendfilename")]),t._v(" "),s("p",[s("img",{attrs:{src:e(609),alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("$\\textcolor{red}{从机访问主机的通行密码masterauth，必须配置}$")]),t._v(" "),s("p",[s("img",{attrs:{src:e(610),alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("从机需要配置，主机不用")])])])])])}),[],!1,null,null,null);s.default=a.exports}}]);