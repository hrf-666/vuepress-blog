(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{635:function(s,t,e){s.exports=e.p+"assets/img/6.sentinel配置.7407c391.png"},636:function(s,t,e){s.exports=e.p+"assets/img/7.sentinel集群配置.7d5a96ce.png"},637:function(s,t,e){s.exports=e.p+"assets/img/8.sentinel部署.f65beb15.png"},638:function(s,t,e){s.exports=e.p+"assets/img/9.架构说明.8857827a.png"},639:function(s,t,e){s.exports=e.p+"assets/img/10.主机配置master访问密码.11fd718a.png"},640:function(s,t,e){s.exports=e.p+"assets/img/11.sentinel启动方式.414bacfd.png"},641:function(s,t,e){s.exports=e.p+"assets/img/12.sentinel启动结果查询.f347c2c5.png"},642:function(s,t,e){s.exports=e.p+"assets/img/13.sentinel文件重写.a239ad2a.png"},800:function(s,t,e){"use strict";e.r(t);var n=e(5),r=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"sentinel通用配置及主从配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sentinel通用配置及主从配置"}},[s._v("#")]),s._v(" sentinel通用配置及主从配置")]),s._v(" "),t("h3",{attrs:{id:"sentinel26379-conf、sentinel26380-conf、sentinel26381-conf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sentinel26379-conf、sentinel26380-conf、sentinel26381-conf"}},[s._v("#")]),s._v(" sentinel26379.conf、sentinel26380.conf、sentinel26381.conf")]),s._v(" "),t("p",[t("img",{attrs:{src:e(635),alt:""}})]),s._v(" "),t("h3",{attrs:{id:"最终配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#最终配置"}},[s._v("#")]),s._v(" 最终配置")]),s._v(" "),t("p",[t("img",{attrs:{src:e(636),alt:""}})]),s._v(" "),t("h3",{attrs:{id:"master主机配置文件说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#master主机配置文件说明"}},[s._v("#")]),s._v(" master主机配置文件说明")]),s._v(" "),t("p",[s._v("理论上sentinel配置文件应该部署在不同的服务器上，做成集群，但是本次演示将其放到一台机器上")]),s._v(" "),t("p",[t("img",{attrs:{src:e(637),alt:""}})]),s._v(" "),t("h3",{attrs:{id:"先启动一主二从3个redis实例-测试正常的主从复制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#先启动一主二从3个redis实例-测试正常的主从复制"}},[s._v("#")]),s._v(" 先启动一主二从3个redis实例，测试正常的主从复制")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("架构说明")]),s._v(" "),t("p",[t("img",{attrs:{src:e(638),alt:""}})])]),s._v(" "),t("li",[t("p",[s._v("主机6379配置修改")]),s._v(" "),t("p",[t("img",{attrs:{src:e(639),alt:""}})]),s._v(" "),t("p",[s._v("6379后续可能会变成从机，需要设置访问新主机的密码，所以此处会设置masterauth，"),t("strong",[s._v("不然后续可能会报错 master_link_status:down")])])]),s._v(" "),t("li",[t("p",[s._v("3台不同的虚拟机实例，启动三台真是机器实例并连接")]),s._v(" "),t("p",[s._v("redis-server redis6379.conf")]),s._v(" "),t("p",[s._v("redis-server redis6380.conf")]),s._v(" "),t("p",[s._v("redis-server redis6381.conf")]),s._v(" "),t("p",[s._v("redis-cli -a 123456 -p 6379")]),s._v(" "),t("p",[s._v("redis-cli -a 123456 -p 6380")]),s._v(" "),t("p",[s._v("redis-cli -a 123456 -p 6381")])]),s._v(" "),t("li",[t("p",[s._v("sentinel的两种启动方式")]),s._v(" "),t("p",[t("img",{attrs:{src:e(640),alt:""}})])]),s._v(" "),t("li",[t("p",[s._v("再启动3个哨兵监控后再测试一次主从复制")]),s._v(" "),t("p",[s._v("redis-server sentinel26379.conf --sentinel")]),s._v(" "),t("p",[s._v("redis-server sentinel26380.conf --sentinel")]),s._v(" "),t("p",[s._v("redis-server sentinel26381.conf --sentinel")]),s._v(" "),t("p",[t("img",{attrs:{src:e(641),alt:""}})])])]),s._v(" "),t("p",[s._v("启动后我们会发现sentinel配置文件会自动在配置文件中加上部分配置")]),s._v(" "),t("p",[t("img",{attrs:{src:e(642),alt:""}})])])}),[],!1,null,null,null);t.default=r.exports}}]);