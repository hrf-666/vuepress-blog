(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{388:function(e,_,v){"use strict";v.r(_);var t=v(2),a=Object(t.a)({},(function(){var e=this,_=e._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("p"),_("div",{staticClass:"table-of-contents"},[_("ul",[_("li",[_("a",{attrs:{href:"#åŸºç¡€"}},[e._v("åŸºç¡€")]),_("ul",[_("li",[_("a",{attrs:{href:"#_1-ä»€ä¹ˆæ˜¯å†…è¿æ¥ã€å¤–è¿æ¥ã€äº¤å‰è¿æ¥ã€ç¬›å¡å°”ç§¯å‘¢"}},[e._v("1\\. ä»€ä¹ˆæ˜¯å†…è¿æ¥ã€å¤–è¿æ¥ã€äº¤å‰è¿æ¥ã€ç¬›å¡å°”ç§¯å‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_2-é‚£-mysql-çš„å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥æœ‰æœ‰ä»€ä¹ˆåŒºåˆ«"}},[e._v("2\\. é‚£ MySQL çš„å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥æœ‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_3-è¯´ä¸€ä¸‹æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼"}},[e._v("3.è¯´ä¸€ä¸‹æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_4-varchar-ä¸-char-çš„åŒºåˆ«"}},[e._v("4.varchar ä¸ char çš„åŒºåˆ«ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_5-blob-å’Œ-text-æœ‰ä»€ä¹ˆåŒºåˆ«"}},[e._v("5.blob å’Œ text æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_6-datetime-å’Œ-timestamp-çš„å¼‚åŒ"}},[e._v("6.DATETIME å’Œ TIMESTAMP çš„å¼‚åŒï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_7-mysql-ä¸­-in-å’Œ-exists-çš„åŒºåˆ«"}},[e._v("7.MySQL ä¸­ in å’Œ exists çš„åŒºåˆ«ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_8-mysql-é‡Œè®°å½•è´§å¸ç”¨ä»€ä¹ˆå­—æ®µç±»å‹æ¯”è¾ƒå¥½"}},[e._v("8.MySQL é‡Œè®°å½•è´§å¸ç”¨ä»€ä¹ˆå­—æ®µç±»å‹æ¯”è¾ƒå¥½ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_9-mysql-æ€ä¹ˆå­˜å‚¨-emojiğŸ˜Š"}},[e._v("9.MySQL æ€ä¹ˆå­˜å‚¨ emojiğŸ˜Š?")])]),_("li",[_("a",{attrs:{href:"#_10-dropã€delete-ä¸-truncate-çš„åŒºåˆ«"}},[e._v("10.dropã€delete ä¸ truncate çš„åŒºåˆ«ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_11-union-ä¸-union-all-çš„åŒºåˆ«"}},[e._v("11.UNION ä¸ UNION ALL çš„åŒºåˆ«ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_12-count-1-ã€count-ä¸-count-åˆ—å-çš„åŒºåˆ«"}},[e._v("12.count(1)ã€count(*) ä¸ count(åˆ—å) çš„åŒºåˆ«ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_13-ä¸€æ¡-sql-æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œé¡ºåº"}},[e._v("13.ä¸€æ¡ SQL æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œé¡ºåºï¼Ÿ")])])])]),_("li",[_("a",{attrs:{href:"#æ•°æ®åº“æ¶æ„"}},[e._v("æ•°æ®åº“æ¶æ„")]),_("ul",[_("li",[_("a",{attrs:{href:"#_14-è¯´è¯´-mysql-çš„åŸºç¡€æ¶æ„"}},[e._v("14.è¯´è¯´ MySQL çš„åŸºç¡€æ¶æ„?")])]),_("li",[_("a",{attrs:{href:"#_15-ä¸€æ¡-sql-æŸ¥è¯¢è¯­å¥åœ¨-mysql-ä¸­å¦‚ä½•æ‰§è¡Œçš„"}},[e._v("15.ä¸€æ¡ SQL æŸ¥è¯¢è¯­å¥åœ¨ MySQL ä¸­å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿ")])])])]),_("li",[_("a",{attrs:{href:"#å­˜å‚¨å¼•æ“"}},[e._v("å­˜å‚¨å¼•æ“")]),_("ul",[_("li",[_("a",{attrs:{href:"#_16-mysql-æœ‰å“ªäº›å¸¸è§å­˜å‚¨å¼•æ“"}},[e._v("16.MySQL æœ‰å“ªäº›å¸¸è§å­˜å‚¨å¼•æ“ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_17-é‚£å­˜å‚¨å¼•æ“åº”è¯¥æ€ä¹ˆé€‰æ‹©"}},[e._v("17.é‚£å­˜å‚¨å¼•æ“åº”è¯¥æ€ä¹ˆé€‰æ‹©ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_18-innodb-å’Œ-mylsam-ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«"}},[e._v("18.InnoDB å’Œ MylSAM ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")])])])]),_("li",[_("a",{attrs:{href:"#æ—¥å¿—"}},[e._v("æ—¥å¿—")]),_("ul",[_("li",[_("a",{attrs:{href:"#_19-mysql-æ—¥å¿—æ–‡ä»¶æœ‰å“ªäº›-åˆ†åˆ«ä»‹ç»ä¸‹ä½œç”¨"}},[e._v("19.MySQL æ—¥å¿—æ–‡ä»¶æœ‰å“ªäº›ï¼Ÿåˆ†åˆ«ä»‹ç»ä¸‹ä½œç”¨ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_20-binlog-å’Œ-redo-log-æœ‰ä»€ä¹ˆåŒºåˆ«"}},[e._v("20.binlog å’Œ redo log æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_21-ä¸€æ¡æ›´æ–°è¯­å¥æ€ä¹ˆæ‰§è¡Œçš„äº†è§£å—"}},[e._v("21.ä¸€æ¡æ›´æ–°è¯­å¥æ€ä¹ˆæ‰§è¡Œçš„äº†è§£å—ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_22-é‚£ä¸ºä»€ä¹ˆè¦ä¸¤é˜¶æ®µæäº¤å‘¢"}},[e._v("22.é‚£ä¸ºä»€ä¹ˆè¦ä¸¤é˜¶æ®µæäº¤å‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_23-redo-log-æ€ä¹ˆåˆ·å…¥ç£ç›˜çš„çŸ¥é“å—"}},[e._v("23.redo log æ€ä¹ˆåˆ·å…¥ç£ç›˜çš„çŸ¥é“å—ï¼Ÿ")])])])]),_("li",[_("a",{attrs:{href:"#sql-ä¼˜åŒ–"}},[e._v("SQL ä¼˜åŒ–")]),_("ul",[_("li",[_("a",{attrs:{href:"#_24-æ…¢-sql-å¦‚ä½•å®šä½å‘¢"}},[e._v("24.æ…¢ SQL å¦‚ä½•å®šä½å‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_25-æœ‰å“ªäº›æ–¹å¼ä¼˜åŒ–æ…¢-sql"}},[e._v("25.æœ‰å“ªäº›æ–¹å¼ä¼˜åŒ–æ…¢ SQLï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_26-æ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’-explain-å¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰"}},[e._v("26.æ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’ï¼ˆexplainï¼‰ï¼Œå¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰ï¼Ÿ")])])])]),_("li",[_("a",{attrs:{href:"#ç´¢å¼•"}},[e._v("ç´¢å¼•")]),_("ul",[_("li",[_("a",{attrs:{href:"#_27-èƒ½ç®€å•è¯´ä¸€ä¸‹ç´¢å¼•çš„åˆ†ç±»å—"}},[e._v("27.èƒ½ç®€å•è¯´ä¸€ä¸‹ç´¢å¼•çš„åˆ†ç±»å—ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_28-ä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼•ä¼šåŠ å¿«æŸ¥è¯¢"}},[e._v("28.ä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼•ä¼šåŠ å¿«æŸ¥è¯¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_29-åˆ›å»ºç´¢å¼•æœ‰å“ªäº›æ³¨æ„ç‚¹"}},[e._v("29.åˆ›å»ºç´¢å¼•æœ‰å“ªäº›æ³¨æ„ç‚¹ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_30-ç´¢å¼•å“ªäº›æƒ…å†µä¸‹ä¼šå¤±æ•ˆå‘¢"}},[e._v("30.ç´¢å¼•å“ªäº›æƒ…å†µä¸‹ä¼šå¤±æ•ˆå‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_31-ç´¢å¼•ä¸é€‚åˆå“ªäº›åœºæ™¯å‘¢"}},[e._v("31.ç´¢å¼•ä¸é€‚åˆå“ªäº›åœºæ™¯å‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_32-ç´¢å¼•æ˜¯ä¸æ˜¯å»ºçš„è¶Šå¤šè¶Šå¥½å‘¢"}},[e._v("32.ç´¢å¼•æ˜¯ä¸æ˜¯å»ºçš„è¶Šå¤šè¶Šå¥½å‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_33-mysql-ç´¢å¼•ç”¨çš„ä»€ä¹ˆæ•°æ®ç»“æ„äº†è§£å—"}},[e._v("33.MySQL ç´¢å¼•ç”¨çš„ä»€ä¹ˆæ•°æ®ç»“æ„äº†è§£å—ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_34-é‚£ä¸€æ£µ-b-æ ‘èƒ½å­˜å‚¨å¤šå°‘æ¡æ•°æ®å‘¢"}},[e._v("34.é‚£ä¸€æ£µ B+æ ‘èƒ½å­˜å‚¨å¤šå°‘æ¡æ•°æ®å‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_35-ä¸ºä»€ä¹ˆè¦ç”¨-b-æ ‘-è€Œä¸ç”¨æ™®é€šäºŒå‰æ ‘"}},[e._v("35.ä¸ºä»€ä¹ˆè¦ç”¨ B+ æ ‘ï¼Œè€Œä¸ç”¨æ™®é€šäºŒå‰æ ‘ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_36-ä¸ºä»€ä¹ˆç”¨-b-æ ‘è€Œä¸ç”¨-b-æ ‘å‘¢"}},[e._v("36.ä¸ºä»€ä¹ˆç”¨ B+ æ ‘è€Œä¸ç”¨ B æ ‘å‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_37-hash-ç´¢å¼•å’Œ-b-æ ‘ç´¢å¼•åŒºåˆ«æ˜¯ä»€ä¹ˆ"}},[e._v("37.Hash ç´¢å¼•å’Œ B+ æ ‘ç´¢å¼•åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_38-èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•çš„åŒºåˆ«"}},[e._v("38.èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•çš„åŒºåˆ«ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_39-å›è¡¨äº†è§£å—"}},[e._v("39.å›è¡¨äº†è§£å—ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_40-è¦†ç›–ç´¢å¼•äº†è§£å—"}},[e._v("40.è¦†ç›–ç´¢å¼•äº†è§£å—ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_41-ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™-æœ€å·¦åŒ¹é…åŸåˆ™"}},[e._v("41.ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™/æœ€å·¦åŒ¹é…åŸåˆ™ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_42-ä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–"}},[e._v("42.ä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–ï¼Ÿ")])])])]),_("li",[_("a",{attrs:{href:"#é”"}},[e._v("é”")]),_("ul",[_("li",[_("a",{attrs:{href:"#_43-mysql-ä¸­æœ‰å“ªå‡ ç§é”-åˆ—ä¸¾ä¸€ä¸‹"}},[e._v("43.MySQL ä¸­æœ‰å“ªå‡ ç§é”ï¼Œåˆ—ä¸¾ä¸€ä¸‹ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_44-è¯´è¯´-innodb-é‡Œçš„è¡Œé”å®ç°"}},[e._v("44.è¯´è¯´ InnoDB é‡Œçš„è¡Œé”å®ç°?")])]),_("li",[_("a",{attrs:{href:"#_45-æ„å‘é”æ˜¯ä»€ä¹ˆçŸ¥é“å—"}},[e._v("45.æ„å‘é”æ˜¯ä»€ä¹ˆçŸ¥é“å—ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_46-mysql-çš„ä¹è§‚é”å’Œæ‚²è§‚é”äº†è§£å—"}},[e._v("46.MySQL çš„ä¹è§‚é”å’Œæ‚²è§‚é”äº†è§£å—ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_47-mysql-é‡åˆ°è¿‡æ­»é”é—®é¢˜å—-ä½ æ˜¯å¦‚ä½•è§£å†³çš„"}},[e._v("47.MySQL é‡åˆ°è¿‡æ­»é”é—®é¢˜å—ï¼Œä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ")])])])]),_("li",[_("a",{attrs:{href:"#äº‹åŠ¡"}},[e._v("äº‹åŠ¡")]),_("ul",[_("li",[_("a",{attrs:{href:"#_48-mysql-äº‹åŠ¡çš„å››å¤§ç‰¹æ€§è¯´ä¸€ä¸‹"}},[e._v("48.MySQL äº‹åŠ¡çš„å››å¤§ç‰¹æ€§è¯´ä¸€ä¸‹ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_49-é‚£-acid-é ä»€ä¹ˆä¿è¯çš„å‘¢"}},[e._v("49.é‚£ ACID é ä»€ä¹ˆä¿è¯çš„å‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_50-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›-mysql-çš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯ä»€ä¹ˆ"}},[e._v("50.äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼ŸMySQL çš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_51-ä»€ä¹ˆæ˜¯å¹»è¯»-è„è¯»-ä¸å¯é‡å¤è¯»å‘¢"}},[e._v("51.ä»€ä¹ˆæ˜¯å¹»è¯»ï¼Œè„è¯»ï¼Œä¸å¯é‡å¤è¯»å‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_52-äº‹åŠ¡çš„å„ä¸ªéš”ç¦»çº§åˆ«éƒ½æ˜¯å¦‚ä½•å®ç°çš„"}},[e._v("52.äº‹åŠ¡çš„å„ä¸ªéš”ç¦»çº§åˆ«éƒ½æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_53-mvcc-äº†è§£å—-æ€ä¹ˆå®ç°çš„"}},[e._v("53.MVCC äº†è§£å—ï¼Ÿæ€ä¹ˆå®ç°çš„ï¼Ÿ")])])])]),_("li",[_("a",{attrs:{href:"#é«˜å¯ç”¨-æ€§èƒ½"}},[e._v("é«˜å¯ç”¨/æ€§èƒ½")]),_("ul",[_("li",[_("a",{attrs:{href:"#_54-æ•°æ®åº“è¯»å†™åˆ†ç¦»äº†è§£å—"}},[e._v("54.æ•°æ®åº“è¯»å†™åˆ†ç¦»äº†è§£å—ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_55-é‚£è¯»å†™åˆ†ç¦»çš„åˆ†é…æ€ä¹ˆå®ç°å‘¢"}},[e._v("55.é‚£è¯»å†™åˆ†ç¦»çš„åˆ†é…æ€ä¹ˆå®ç°å‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_56-ä¸»ä»å¤åˆ¶åŸç†äº†è§£å—"}},[e._v("56.ä¸»ä»å¤åˆ¶åŸç†äº†è§£å—ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_57-ä¸»ä»åŒæ­¥å»¶è¿Ÿæ€ä¹ˆå¤„ç†"}},[e._v("57.ä¸»ä»åŒæ­¥å»¶è¿Ÿæ€ä¹ˆå¤„ç†ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_58-ä½ ä»¬ä¸€èˆ¬æ˜¯æ€ä¹ˆåˆ†åº“çš„å‘¢"}},[e._v("58.ä½ ä»¬ä¸€èˆ¬æ˜¯æ€ä¹ˆåˆ†åº“çš„å‘¢ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_59-é‚£ä½ ä»¬æ˜¯æ€ä¹ˆåˆ†è¡¨çš„"}},[e._v("59.é‚£ä½ ä»¬æ˜¯æ€ä¹ˆåˆ†è¡¨çš„ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_60-æ°´å¹³åˆ†è¡¨æœ‰å“ªå‡ ç§è·¯ç”±æ–¹å¼"}},[e._v("60.æ°´å¹³åˆ†è¡¨æœ‰å“ªå‡ ç§è·¯ç”±æ–¹å¼ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_61-ä¸åœæœºæ‰©å®¹æ€ä¹ˆå®ç°"}},[e._v("61.ä¸åœæœºæ‰©å®¹æ€ä¹ˆå®ç°ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_62-å¸¸ç”¨çš„åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶æœ‰å“ªäº›"}},[e._v("62.å¸¸ç”¨çš„åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶æœ‰å“ªäº›ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_63-é‚£ä½ è§‰å¾—åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢"}},[e._v("63.é‚£ä½ è§‰å¾—åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ")])])])]),_("li",[_("a",{attrs:{href:"#è¿ç»´"}},[e._v("è¿ç»´")]),_("ul",[_("li",[_("a",{attrs:{href:"#_64-ç™¾ä¸‡çº§åˆ«ä»¥ä¸Šçš„æ•°æ®å¦‚ä½•åˆ é™¤"}},[e._v("64.ç™¾ä¸‡çº§åˆ«ä»¥ä¸Šçš„æ•°æ®å¦‚ä½•åˆ é™¤ï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_65-ç™¾ä¸‡åƒä¸‡çº§å¤§è¡¨å¦‚ä½•æ·»åŠ å­—æ®µ"}},[e._v("65.ç™¾ä¸‡åƒä¸‡çº§å¤§è¡¨å¦‚ä½•æ·»åŠ å­—æ®µï¼Ÿ")])]),_("li",[_("a",{attrs:{href:"#_66-mysql-æ•°æ®åº“-cpu-é£™å‡çš„è¯-è¦æ€ä¹ˆå¤„ç†å‘¢"}},[e._v("66.MySQL æ•°æ®åº“ cpu é£™å‡çš„è¯ï¼Œè¦æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ")])])])])])]),_("p"),e._v(" "),_("h2",{attrs:{id:"åŸºç¡€"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#åŸºç¡€"}},[e._v("#")]),e._v(" åŸºç¡€")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-1992b6dd-1c1d-4b8b-b98a-8407e8c51ff9.jpg",alt:""}})]),e._v(" "),_("p",[e._v("ä½œä¸º SQL Boyï¼ŒåŸºç¡€éƒ¨åˆ†ä¸ä¼šæœ‰äººä¸ä¼šå§ï¼Ÿé¢è¯•ä¹Ÿä¸æ€ä¹ˆé—®ï¼ŒåŸºç¡€æŒæ¡ä¸é”™çš„å°ä¼™ä¼´å¯ä»¥"),_("strong",[e._v("è·³è¿‡")]),e._v("è¿™ä¸€éƒ¨åˆ†ã€‚å½“ç„¶ï¼Œå¯èƒ½ä¼šç°åœºå†™ä¸€äº› SQL è¯­å¥ï¼ŒSQ è¯­å¥å¯ä»¥é€šè¿‡ç‰›å®¢ã€LeetCodeã€LintCode ä¹‹ç±»çš„ç½‘ç«™æ¥ç»ƒä¹ ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_1-ä»€ä¹ˆæ˜¯å†…è¿æ¥ã€å¤–è¿æ¥ã€äº¤å‰è¿æ¥ã€ç¬›å¡å°”ç§¯å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä»€ä¹ˆæ˜¯å†…è¿æ¥ã€å¤–è¿æ¥ã€äº¤å‰è¿æ¥ã€ç¬›å¡å°”ç§¯å‘¢"}},[e._v("#")]),e._v(" 1. ä»€ä¹ˆæ˜¯å†…è¿æ¥ã€å¤–è¿æ¥ã€äº¤å‰è¿æ¥ã€ç¬›å¡å°”ç§¯å‘¢ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("å†…è¿æ¥ï¼ˆinner joinï¼‰ï¼šå–å¾—ä¸¤å¼ è¡¨ä¸­æ»¡è¶³å­˜åœ¨è¿æ¥åŒ¹é…å…³ç³»çš„è®°å½•ã€‚")]),e._v(" "),_("li",[e._v("å¤–è¿æ¥ï¼ˆouter joinï¼‰ï¼šä¸åªå–å¾—ä¸¤å¼ è¡¨ä¸­æ»¡è¶³å­˜åœ¨è¿æ¥åŒ¹é…å…³ç³»çš„è®°å½•ï¼Œè¿˜åŒ…æ‹¬æŸå¼ è¡¨ï¼ˆæˆ–ä¸¤å¼ è¡¨ï¼‰ä¸­ä¸æ»¡è¶³åŒ¹é…å…³ç³»çš„è®°å½•ã€‚")]),e._v(" "),_("li",[e._v("äº¤å‰è¿æ¥ï¼ˆcross joinï¼‰ï¼šæ˜¾ç¤ºä¸¤å¼ è¡¨æ‰€æœ‰è®°å½•ä¸€ä¸€å¯¹åº”ï¼Œæ²¡æœ‰åŒ¹é…å…³ç³»è¿›è¡Œç­›é€‰ï¼Œå®ƒæ˜¯ç¬›å¡å°”ç§¯åœ¨ SQL ä¸­çš„å®ç°ï¼Œå¦‚æœ A è¡¨æœ‰ m è¡Œï¼ŒB è¡¨æœ‰ n è¡Œï¼Œé‚£ä¹ˆ A å’Œ B äº¤å‰è¿æ¥çš„ç»“æœå°±æœ‰ m*n è¡Œã€‚")]),e._v(" "),_("li",[e._v("ç¬›å¡å°”ç§¯ï¼šæ˜¯æ•°å­¦ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œä¾‹å¦‚é›†åˆ A={a,b}ï¼Œé›†åˆ B={0,1,2}ï¼Œé‚£ä¹ˆ Aâœ–ï¸B="),_("code",[e._v("{<a,o>,<a,1>,<a,2>,<b,0>,<b,1>,<b,2>,}")]),e._v("ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_2-é‚£-mysql-çš„å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥æœ‰æœ‰ä»€ä¹ˆåŒºåˆ«"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-é‚£-mysql-çš„å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥æœ‰æœ‰ä»€ä¹ˆåŒºåˆ«"}},[e._v("#")]),e._v(" 2. é‚£ MySQL çš„å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥æœ‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")]),e._v(" "),_("p",[e._v("MySQL çš„è¿æ¥ä¸»è¦åˆ†ä¸ºå†…è¿æ¥å’Œå¤–è¿æ¥ï¼Œå¤–è¿æ¥å¸¸ç”¨çš„æœ‰å·¦è¿æ¥ã€å³è¿æ¥ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-fcdaad5f-c50e-4834-9f9a-0b676cc6be83.jpg",alt:""}})]),e._v(" "),_("p",[e._v("MySQL-joins-æ¥æºèœé¸Ÿæ•™ç¨‹")]),e._v(" "),_("ul",[_("li",[e._v("inner join å†…è¿æ¥ï¼Œåœ¨ä¸¤å¼ è¡¨è¿›è¡Œè¿æ¥æŸ¥è¯¢æ—¶ï¼Œåªä¿ç•™ä¸¤å¼ è¡¨ä¸­å®Œå…¨åŒ¹é…çš„ç»“æœé›†")]),e._v(" "),_("li",[e._v("left join åœ¨ä¸¤å¼ è¡¨è¿›è¡Œè¿æ¥æŸ¥è¯¢æ—¶ï¼Œä¼šè¿”å›å·¦è¡¨æ‰€æœ‰çš„è¡Œï¼Œå³ä½¿åœ¨å³è¡¨ä¸­æ²¡æœ‰åŒ¹é…çš„è®°å½•ã€‚")]),e._v(" "),_("li",[e._v("right join åœ¨ä¸¤å¼ è¡¨è¿›è¡Œè¿æ¥æŸ¥è¯¢æ—¶ï¼Œä¼šè¿”å›å³è¡¨æ‰€æœ‰çš„è¡Œï¼Œå³ä½¿åœ¨å·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…çš„è®°å½•ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_3-è¯´ä¸€ä¸‹æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-è¯´ä¸€ä¸‹æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼"}},[e._v("#")]),e._v(" 3.è¯´ä¸€ä¸‹æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼ï¼Ÿ")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-16e74a6b-a42a-464e-9b10-0252ee7ecc6e.jpg",alt:"æ•°æ®åº“ä¸‰èŒƒå¼"}})]),e._v(" "),_("ul",[_("li",[e._v("ç¬¬ä¸€èŒƒå¼ï¼šæ•°æ®è¡¨ä¸­çš„æ¯ä¸€åˆ—ï¼ˆæ¯ä¸ªå­—æ®µï¼‰éƒ½ä¸å¯ä»¥å†æ‹†åˆ†ã€‚ä¾‹å¦‚ç”¨æˆ·è¡¨ï¼Œç”¨æˆ·åœ°å€è¿˜å¯ä»¥æ‹†åˆ†æˆå›½å®¶ã€çœä»½ã€å¸‚ï¼Œè¿™æ ·æ‰æ˜¯ç¬¦åˆç¬¬ä¸€èŒƒå¼çš„ã€‚")]),e._v(" "),_("li",[e._v("ç¬¬äºŒèŒƒå¼ï¼šåœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¸Šï¼Œéä¸»é”®åˆ—å®Œå…¨ä¾èµ–äºä¸»é”®ï¼Œè€Œä¸èƒ½æ˜¯ä¾èµ–äºä¸»é”®çš„ä¸€éƒ¨åˆ†ã€‚ä¾‹å¦‚è®¢å•è¡¨é‡Œï¼Œå­˜å‚¨äº†å•†å“ä¿¡æ¯ï¼ˆå•†å“ä»·æ ¼ã€å•†å“ç±»å‹ï¼‰ï¼Œé‚£å°±éœ€è¦æŠŠå•†å“ ID å’Œè®¢å• ID ä½œä¸ºè”åˆä¸»é”®ï¼Œæ‰æ»¡è¶³ç¬¬äºŒèŒƒå¼ã€‚")]),e._v(" "),_("li",[e._v("ç¬¬ä¸‰èŒƒå¼ï¼šåœ¨æ»¡è¶³ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¸Šï¼Œè¡¨ä¸­çš„éä¸»é”®åªä¾èµ–äºä¸»é”®ï¼Œè€Œä¸ä¾èµ–äºå…¶ä»–éä¸»é”®ã€‚ä¾‹å¦‚è®¢å•è¡¨ï¼Œå°±ä¸èƒ½å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼ˆå§“åã€åœ°å€ï¼‰ã€‚")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-5351d57d-1cea-49c8-b6bb-b7d49abb4427.jpg",alt:"ä½ è®¾è®¡éµå®ˆèŒƒå¼å—ï¼Ÿ"}})]),e._v(" "),_("p",[e._v("ä¸‰å¤§èŒƒå¼çš„ä½œç”¨æ˜¯ä¸ºäº†æ§åˆ¶æ•°æ®åº“çš„å†—ä½™ï¼Œæ˜¯å¯¹ç©ºé—´çš„èŠ‚çœï¼Œå®é™…ä¸Šï¼Œä¸€èˆ¬äº’è”ç½‘å…¬å¸çš„è®¾è®¡éƒ½æ˜¯åèŒƒå¼çš„ï¼Œé€šè¿‡å†—ä½™ä¸€äº›æ•°æ®ï¼Œé¿å…è·¨è¡¨è·¨åº“ï¼Œåˆ©ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œæé«˜æ€§èƒ½ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_4-varchar-ä¸-char-çš„åŒºåˆ«"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_4-varchar-ä¸-char-çš„åŒºåˆ«"}},[e._v("#")]),e._v(" 4.varchar ä¸ char çš„åŒºåˆ«ï¼Ÿ")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-40f42d59-a295-4543-8a03-43925da4d6d9.jpg",alt:"varchar"}})]),e._v(" "),_("p",[_("strong",[e._v("char")]),e._v("ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("char è¡¨ç¤ºå®šé•¿å­—ç¬¦ä¸²ï¼Œé•¿åº¦æ˜¯å›ºå®šçš„ï¼›")]),e._v(" "),_("li",[e._v("å¦‚æœæ’å…¥æ•°æ®çš„é•¿åº¦å°äº char çš„å›ºå®šé•¿åº¦æ—¶ï¼Œåˆ™ç”¨ç©ºæ ¼å¡«å……ï¼›")]),e._v(" "),_("li",[e._v("å› ä¸ºé•¿åº¦å›ºå®šï¼Œæ‰€ä»¥å­˜å–é€Ÿåº¦è¦æ¯” varchar å¿«å¾ˆå¤šï¼Œç”šè‡³èƒ½å¿« 50%ï¼Œä½†æ­£å› ä¸ºå…¶é•¿åº¦å›ºå®šï¼Œæ‰€ä»¥ä¼šå æ®å¤šä½™çš„ç©ºé—´ï¼Œæ˜¯ç©ºé—´æ¢æ—¶é—´çš„åšæ³•ï¼›")]),e._v(" "),_("li",[e._v("å¯¹äº char æ¥è¯´ï¼Œæœ€å¤šèƒ½å­˜æ”¾çš„å­—ç¬¦ä¸ªæ•°ä¸º 255ï¼Œå’Œç¼–ç æ— å…³")])]),e._v(" "),_("p",[_("strong",[e._v("varchar")]),e._v("ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("varchar è¡¨ç¤ºå¯å˜é•¿å­—ç¬¦ä¸²ï¼Œé•¿åº¦æ˜¯å¯å˜çš„ï¼›")]),e._v(" "),_("li",[e._v("æ’å…¥çš„æ•°æ®æ˜¯å¤šé•¿ï¼Œå°±æŒ‰ç…§å¤šé•¿æ¥å­˜å‚¨ï¼›")]),e._v(" "),_("li",[e._v("varchar åœ¨å­˜å–æ–¹é¢ä¸ char ç›¸åï¼Œå®ƒå­˜å–æ…¢ï¼Œå› ä¸ºé•¿åº¦ä¸å›ºå®šï¼Œä½†æ­£å› å¦‚æ­¤ï¼Œä¸å æ®å¤šä½™çš„ç©ºé—´ï¼Œæ˜¯æ—¶é—´æ¢ç©ºé—´çš„åšæ³•ï¼›")]),e._v(" "),_("li",[e._v("å¯¹äº varchar æ¥è¯´ï¼Œæœ€å¤šèƒ½å­˜æ”¾çš„å­—ç¬¦ä¸ªæ•°ä¸º 65532")])]),e._v(" "),_("p",[e._v("æ—¥å¸¸çš„è®¾è®¡ï¼Œå¯¹äºé•¿åº¦ç›¸å¯¹å›ºå®šçš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨ charï¼Œå¯¹äºé•¿åº¦ä¸ç¡®å®šçš„ï¼Œä½¿ç”¨ varchar æ›´åˆé€‚ä¸€äº›ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_5-blob-å’Œ-text-æœ‰ä»€ä¹ˆåŒºåˆ«"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_5-blob-å’Œ-text-æœ‰ä»€ä¹ˆåŒºåˆ«"}},[e._v("#")]),e._v(" 5.blob å’Œ text æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("blob ç”¨äºå­˜å‚¨äºŒè¿›åˆ¶æ•°æ®ï¼Œè€Œ text ç”¨äºå­˜å‚¨å¤§å­—ç¬¦ä¸²ã€‚")]),e._v(" "),_("li",[e._v("blob æ²¡æœ‰å­—ç¬¦é›†ï¼Œtext æœ‰ä¸€ä¸ªå­—ç¬¦é›†ï¼Œå¹¶ä¸”æ ¹æ®å­—ç¬¦é›†çš„æ ¡å¯¹è§„åˆ™å¯¹å€¼è¿›è¡Œæ’åºå’Œæ¯”è¾ƒ")])]),e._v(" "),_("h3",{attrs:{id:"_6-datetime-å’Œ-timestamp-çš„å¼‚åŒ"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-datetime-å’Œ-timestamp-çš„å¼‚åŒ"}},[e._v("#")]),e._v(" 6.DATETIME å’Œ TIMESTAMP çš„å¼‚åŒï¼Ÿ")]),e._v(" "),_("p",[_("strong",[e._v("ç›¸åŒç‚¹")]),e._v("ï¼š")]),e._v(" "),_("ol",[_("li",[e._v("ä¸¤ä¸ªæ•°æ®ç±»å‹å­˜å‚¨æ—¶é—´çš„è¡¨ç°æ ¼å¼ä¸€è‡´ã€‚å‡ä¸º "),_("code",[e._v("YYYY-MM-DD HH:MM:SS")])]),e._v(" "),_("li",[e._v("ä¸¤ä¸ªæ•°æ®ç±»å‹éƒ½åŒ…å«ã€Œæ—¥æœŸã€å’Œã€Œæ—¶é—´ã€éƒ¨åˆ†ã€‚")]),e._v(" "),_("li",[e._v("ä¸¤ä¸ªæ•°æ®ç±»å‹éƒ½å¯ä»¥å­˜å‚¨å¾®ç§’çš„å°æ•°ç§’ï¼ˆç§’å 6 ä½å°æ•°ç§’ï¼‰")])]),e._v(" "),_("p",[_("strong",[e._v("åŒºåˆ«")]),e._v("ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-d94e5e1c-2614-4b8b-acdb-efb333032854.jpg",alt:""}})]),e._v(" "),_("p",[e._v("DATETIME å’Œ TIMESTAMP çš„åŒºåˆ«")]),e._v(" "),_("ol",[_("li",[_("strong",[e._v("æ—¥æœŸèŒƒå›´")]),e._v("ï¼šDATETIME çš„æ—¥æœŸèŒƒå›´æ˜¯ "),_("code",[e._v("1000-01-01 00:00:00.000000")]),e._v(" åˆ° "),_("code",[e._v("9999-12-31 23:59:59.999999")]),e._v("ï¼›TIMESTAMP çš„æ—¶é—´èŒƒå›´æ˜¯"),_("code",[e._v("1970-01-01 00:00:01.000000")]),e._v(" UTC "),_("code",[e._v("åˆ° ``2038-01-09 03:14:07.999999")]),e._v(" UTC")]),e._v(" "),_("li",[_("strong",[e._v("å­˜å‚¨ç©ºé—´")]),e._v("ï¼šDATETIME çš„å­˜å‚¨ç©ºé—´ä¸º 8 å­—èŠ‚ï¼›TIMESTAMP çš„å­˜å‚¨ç©ºé—´ä¸º 4 å­—èŠ‚")]),e._v(" "),_("li",[_("strong",[e._v("æ—¶åŒºç›¸å…³")]),e._v("ï¼šDATETIME å­˜å‚¨æ—¶é—´ä¸æ—¶åŒºæ— å…³ï¼›TIMESTAMP å­˜å‚¨æ—¶é—´ä¸æ—¶åŒºæœ‰å…³ï¼Œæ˜¾ç¤ºçš„å€¼ä¹Ÿä¾èµ–äºæ—¶åŒº")]),e._v(" "),_("li",[_("strong",[e._v("é»˜è®¤å€¼")]),e._v("ï¼šDATETIME çš„é»˜è®¤å€¼ä¸º nullï¼›TIMESTAMP çš„å­—æ®µé»˜è®¤ä¸ä¸ºç©º(not null)ï¼Œé»˜è®¤å€¼ä¸ºå½“å‰æ—¶é—´(CURRENT_TIMESTAMP)")])]),e._v(" "),_("h3",{attrs:{id:"_7-mysql-ä¸­-in-å’Œ-exists-çš„åŒºåˆ«"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_7-mysql-ä¸­-in-å’Œ-exists-çš„åŒºåˆ«"}},[e._v("#")]),e._v(" 7.MySQL ä¸­ in å’Œ exists çš„åŒºåˆ«ï¼Ÿ")]),e._v(" "),_("p",[e._v("MySQL ä¸­çš„ in è¯­å¥æ˜¯æŠŠå¤–è¡¨å’Œå†…è¡¨ä½œ hash è¿æ¥ï¼Œè€Œ exists è¯­å¥æ˜¯å¯¹å¤–è¡¨ä½œ loop å¾ªç¯ï¼Œæ¯æ¬¡ loop å¾ªç¯å†å¯¹å†…è¡¨è¿›è¡ŒæŸ¥è¯¢ã€‚æˆ‘ä»¬å¯èƒ½è®¤ä¸º exists æ¯” in è¯­å¥çš„æ•ˆç‡è¦é«˜ï¼Œè¿™ç§è¯´æ³•å…¶å®æ˜¯ä¸å‡†ç¡®çš„ï¼Œè¦åŒºåˆ†æƒ…æ™¯ï¼š")]),e._v(" "),_("ol",[_("li",[e._v("å¦‚æœæŸ¥è¯¢çš„ä¸¤ä¸ªè¡¨å¤§å°ç›¸å½“ï¼Œé‚£ä¹ˆç”¨ in å’Œ exists å·®åˆ«ä¸å¤§ã€‚")]),e._v(" "),_("li",[e._v("å¦‚æœä¸¤ä¸ªè¡¨ä¸­ä¸€ä¸ªè¾ƒå°ï¼Œä¸€ä¸ªæ˜¯å¤§è¡¨ï¼Œåˆ™å­æŸ¥è¯¢è¡¨å¤§çš„ç”¨ existsï¼Œå­æŸ¥è¯¢è¡¨å°çš„ç”¨ inã€‚")]),e._v(" "),_("li",[e._v("not in å’Œ not existsï¼šå¦‚æœæŸ¥è¯¢è¯­å¥ä½¿ç”¨äº† not inï¼Œé‚£ä¹ˆå†…å¤–è¡¨éƒ½è¿›è¡Œå…¨è¡¨æ‰«æï¼Œæ²¡æœ‰ç”¨åˆ°ç´¢å¼•ï¼›è€Œ not extsts çš„å­æŸ¥è¯¢ä¾ç„¶èƒ½ç”¨åˆ°è¡¨ä¸Šçš„ç´¢å¼•ã€‚æ‰€ä»¥æ— è®ºé‚£ä¸ªè¡¨å¤§ï¼Œç”¨ not exists éƒ½æ¯” not in è¦å¿«ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_8-mysql-é‡Œè®°å½•è´§å¸ç”¨ä»€ä¹ˆå­—æ®µç±»å‹æ¯”è¾ƒå¥½"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_8-mysql-é‡Œè®°å½•è´§å¸ç”¨ä»€ä¹ˆå­—æ®µç±»å‹æ¯”è¾ƒå¥½"}},[e._v("#")]),e._v(" 8.MySQL é‡Œè®°å½•è´§å¸ç”¨ä»€ä¹ˆå­—æ®µç±»å‹æ¯”è¾ƒå¥½ï¼Ÿ")]),e._v(" "),_("p",[e._v("è´§å¸åœ¨æ•°æ®åº“ä¸­ MySQL å¸¸ç”¨ Decimal å’Œ Numric ç±»å‹è¡¨ç¤ºï¼Œè¿™ä¸¤ç§ç±»å‹è¢« MySQL å®ç°ä¸ºåŒæ ·çš„ç±»å‹ã€‚ä»–ä»¬è¢«ç”¨äºä¿å­˜ä¸è´§å¸æœ‰å…³çš„æ•°æ®ã€‚")]),e._v(" "),_("p",[e._v("ä¾‹å¦‚ salary DECIMAL(9,2)ï¼Œ9(precision)ä»£è¡¨å°†è¢«ç”¨äºå­˜å‚¨å€¼çš„æ€»çš„å°æ•°ä½æ•°ï¼Œè€Œ 2(scale)ä»£è¡¨å°†è¢«ç”¨äºå­˜å‚¨å°æ•°ç‚¹åçš„ä½æ•°ã€‚å­˜å‚¨åœ¨ salary åˆ—ä¸­çš„å€¼çš„èŒƒå›´æ˜¯ä»-9999999.99 åˆ° 9999999.99ã€‚")]),e._v(" "),_("p",[e._v("DECIMAL å’Œ NUMERIC å€¼ä½œä¸ºå­—ç¬¦ä¸²å­˜å‚¨ï¼Œè€Œä¸æ˜¯ä½œä¸ºäºŒè¿›åˆ¶æµ®ç‚¹æ•°ï¼Œä»¥ä¾¿ä¿å­˜é‚£äº›å€¼çš„å°æ•°ç²¾åº¦ã€‚")]),e._v(" "),_("p",[e._v("ä¹‹æ‰€ä»¥ä¸ä½¿ç”¨ float æˆ–è€… double çš„åŸå› ï¼šå› ä¸º float å’Œ double æ˜¯ä»¥äºŒè¿›åˆ¶å­˜å‚¨çš„ï¼Œæ‰€ä»¥æœ‰ä¸€å®šçš„è¯¯å·®ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_9-mysql-æ€ä¹ˆå­˜å‚¨-emojiğŸ˜Š"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_9-mysql-æ€ä¹ˆå­˜å‚¨-emojiğŸ˜Š"}},[e._v("#")]),e._v(" 9.MySQL æ€ä¹ˆå­˜å‚¨ emojiğŸ˜Š?")]),e._v(" "),_("p",[e._v("MySQL å¯ä»¥ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²å­˜å‚¨ emojiã€‚")]),e._v(" "),_("p",[e._v("ä½†æ˜¯éœ€è¦æ³¨æ„çš„ï¼Œutf8 ç¼–ç æ˜¯ä¸è¡Œçš„ï¼ŒMySQL ä¸­çš„ utf8 æ˜¯é˜‰å‰²ç‰ˆçš„ utf8ï¼Œå®ƒæœ€å¤šåªç”¨ 3 ä¸ªå­—èŠ‚å­˜å‚¨å­—ç¬¦ï¼Œæ‰€ä»¥å­˜å‚¨ä¸äº†è¡¨æƒ…ã€‚é‚£è¯¥æ€ä¹ˆåŠï¼Ÿ")]),e._v(" "),_("p",[e._v("éœ€è¦ä½¿ç”¨ utf8mb4 ç¼–ç ã€‚")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("alterÂ tableÂ blogsÂ modifyÂ contentÂ textÂ CHARACTERÂ SETÂ utf8mb4Â COLLATEÂ utf8mb4_unicode_ciÂ notÂ null;\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br")])]),_("h3",{attrs:{id:"_10-dropã€delete-ä¸-truncate-çš„åŒºåˆ«"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_10-dropã€delete-ä¸-truncate-çš„åŒºåˆ«"}},[e._v("#")]),e._v(" 10.dropã€delete ä¸ truncate çš„åŒºåˆ«ï¼Ÿ")]),e._v(" "),_("p",[e._v("ä¸‰è€…éƒ½è¡¨ç¤ºåˆ é™¤ï¼Œä½†æ˜¯ä¸‰è€…æœ‰ä¸€äº›å·®åˆ«ï¼š")]),e._v(" "),_("table",[_("thead",[_("tr",[_("th",[e._v("delete")]),e._v(" "),_("th",[e._v("truncate")]),e._v(" "),_("th",[e._v("drop")])])]),e._v(" "),_("tbody",[_("tr",[_("td",[e._v("ç±»å‹")]),e._v(" "),_("td",[e._v("å±äº DML")]),e._v(" "),_("td",[e._v("å±äº DDL")])]),e._v(" "),_("tr",[_("td",[e._v("å›æ»š")]),e._v(" "),_("td",[e._v("å¯å›æ»š")]),e._v(" "),_("td",[e._v("ä¸å¯å›æ»š")])]),e._v(" "),_("tr",[_("td",[e._v("åˆ é™¤å†…å®¹")]),e._v(" "),_("td",[e._v("è¡¨ç»“æ„è¿˜åœ¨ï¼Œåˆ é™¤è¡¨çš„å…¨éƒ¨æˆ–è€…ä¸€éƒ¨åˆ†æ•°æ®è¡Œ")]),e._v(" "),_("td",[e._v("è¡¨ç»“æ„è¿˜åœ¨ï¼Œåˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®")])]),e._v(" "),_("tr",[_("td",[e._v("åˆ é™¤é€Ÿåº¦")]),e._v(" "),_("td",[e._v("åˆ é™¤é€Ÿåº¦æ…¢ï¼Œéœ€è¦é€è¡Œåˆ é™¤")]),e._v(" "),_("td",[e._v("åˆ é™¤é€Ÿåº¦å¿«")])])])]),e._v(" "),_("p",[e._v("å› æ­¤ï¼Œåœ¨ä¸å†éœ€è¦ä¸€å¼ è¡¨çš„æ—¶å€™ï¼Œç”¨ dropï¼›åœ¨æƒ³åˆ é™¤éƒ¨åˆ†æ•°æ®è¡Œæ—¶å€™ï¼Œç”¨ deleteï¼›åœ¨ä¿ç•™è¡¨è€Œåˆ é™¤æ‰€æœ‰æ•°æ®çš„æ—¶å€™ç”¨ truncateã€‚")]),e._v(" "),_("h3",{attrs:{id:"_11-union-ä¸-union-all-çš„åŒºåˆ«"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_11-union-ä¸-union-all-çš„åŒºåˆ«"}},[e._v("#")]),e._v(" 11.UNION ä¸ UNION ALL çš„åŒºåˆ«ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("å¦‚æœä½¿ç”¨ UNIONï¼Œä¼šåœ¨è¡¨é“¾æ¥åç­›é€‰æ‰é‡å¤çš„è®°å½•è¡Œ")]),e._v(" "),_("li",[e._v("å¦‚æœä½¿ç”¨ UNION ALLï¼Œä¸ä¼šåˆå¹¶é‡å¤çš„è®°å½•è¡Œ")]),e._v(" "),_("li",[e._v("ä»æ•ˆç‡ä¸Šè¯´ï¼ŒUNION ALL è¦æ¯” UNION å¿«å¾ˆå¤šï¼Œå¦‚æœåˆå¹¶æ²¡æœ‰åˆ»æ„è¦åˆ é™¤é‡å¤è¡Œï¼Œé‚£ä¹ˆå°±ä½¿ç”¨ UNION All")])]),e._v(" "),_("h3",{attrs:{id:"_12-count-1-ã€count-ä¸-count-åˆ—å-çš„åŒºåˆ«"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_12-count-1-ã€count-ä¸-count-åˆ—å-çš„åŒºåˆ«"}},[e._v("#")]),e._v(" 12.count(1)ã€count(*) ä¸ count(åˆ—å) çš„åŒºåˆ«ï¼Ÿ")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-2c754ee2-20c4-4c03-9db0-22c7c9eb7f01.jpg",alt:"ä¸‰ç§è®¡æ•°æ–¹å¼"}})]),e._v(" "),_("p",[_("strong",[e._v("æ‰§è¡Œæ•ˆæœ")]),e._v("ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("count(*)åŒ…æ‹¬äº†æ‰€æœ‰çš„åˆ—ï¼Œç›¸å½“äºè¡Œæ•°ï¼Œåœ¨ç»Ÿè®¡ç»“æœçš„æ—¶å€™ï¼Œä¸ä¼šå¿½ç•¥åˆ—å€¼ä¸º NULL")]),e._v(" "),_("li",[e._v("count(1)åŒ…æ‹¬äº†å¿½ç•¥æ‰€æœ‰åˆ—ï¼Œç”¨ 1 ä»£è¡¨ä»£ç è¡Œï¼Œåœ¨ç»Ÿè®¡ç»“æœçš„æ—¶å€™ï¼Œä¸ä¼šå¿½ç•¥åˆ—å€¼ä¸º NULL")]),e._v(" "),_("li",[e._v("count(åˆ—å)åªåŒ…æ‹¬åˆ—åé‚£ä¸€åˆ—ï¼Œåœ¨ç»Ÿè®¡ç»“æœçš„æ—¶å€™ï¼Œä¼šå¿½ç•¥åˆ—å€¼ä¸ºç©ºï¼ˆè¿™é‡Œçš„ç©ºä¸æ˜¯åªç©ºå­—ç¬¦ä¸²æˆ–è€… 0ï¼Œè€Œæ˜¯è¡¨ç¤º nullï¼‰çš„è®¡æ•°ï¼Œå³æŸä¸ªå­—æ®µå€¼ä¸º NULL æ—¶ï¼Œä¸ç»Ÿè®¡ã€‚")])]),e._v(" "),_("p",[_("strong",[e._v("æ‰§è¡Œé€Ÿåº¦")]),e._v("ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("åˆ—åä¸ºä¸»é”®ï¼Œcount(åˆ—å)ä¼šæ¯” count(1)å¿«")]),e._v(" "),_("li",[e._v("åˆ—åä¸ä¸ºä¸»é”®ï¼Œcount(1)ä¼šæ¯” count(åˆ—å)å¿«")]),e._v(" "),_("li",[e._v("å¦‚æœè¡¨å¤šä¸ªåˆ—å¹¶ä¸”æ²¡æœ‰ä¸»é”®ï¼Œåˆ™ countï¼ˆ1ï¼‰ çš„æ‰§è¡Œæ•ˆç‡ä¼˜äº countï¼ˆ*ï¼‰")]),e._v(" "),_("li",[e._v("å¦‚æœæœ‰ä¸»é”®ï¼Œåˆ™ select countï¼ˆä¸»é”®ï¼‰çš„æ‰§è¡Œæ•ˆç‡æ˜¯æœ€ä¼˜çš„")]),e._v(" "),_("li",[e._v("å¦‚æœè¡¨åªæœ‰ä¸€ä¸ªå­—æ®µï¼Œåˆ™ select countï¼ˆ*ï¼‰æœ€ä¼˜ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_13-ä¸€æ¡-sql-æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œé¡ºåº"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_13-ä¸€æ¡-sql-æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œé¡ºåº"}},[e._v("#")]),e._v(" 13.ä¸€æ¡ SQL æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œé¡ºåºï¼Ÿ")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-47ddea92-cf8f-49c4-ab2e-69a829ff1be2.jpg",alt:"æŸ¥è¯¢è¯­å¥æ‰§è¡Œé¡ºåº"}})]),e._v(" "),_("ol",[_("li",[_("strong",[e._v("FROM")]),e._v("ï¼šå¯¹ FROM å­å¥ä¸­çš„å·¦è¡¨<left_table>å’Œå³è¡¨<right_table>æ‰§è¡Œç¬›å¡å„¿ç§¯ï¼ˆCartesianproductï¼‰ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨ VT1")]),e._v(" "),_("li",[_("strong",[e._v("ON")]),e._v("ï¼šå¯¹è™šæ‹Ÿè¡¨ VT1 åº”ç”¨ ON ç­›é€‰ï¼Œåªæœ‰é‚£äº›ç¬¦åˆ<join_condition>çš„è¡Œæ‰è¢«æ’å…¥è™šæ‹Ÿè¡¨ VT2 ä¸­")]),e._v(" "),_("li",[_("strong",[e._v("JOIN")]),e._v("ï¼šå¦‚æœæŒ‡å®šäº† OUTER JOINï¼ˆå¦‚ LEFT OUTER JOINã€RIGHT OUTER JOINï¼‰ï¼Œé‚£ä¹ˆä¿ç•™è¡¨ä¸­æœªåŒ¹é…çš„è¡Œä½œä¸ºå¤–éƒ¨è¡Œæ·»åŠ åˆ°è™šæ‹Ÿè¡¨ VT2 ä¸­ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨ VT3ã€‚å¦‚æœ FROM å­å¥åŒ…å«ä¸¤ä¸ªä»¥ä¸Šè¡¨ï¼Œåˆ™å¯¹ä¸Šä¸€ä¸ªè¿æ¥ç”Ÿæˆçš„ç»“æœè¡¨ VT3 å’Œä¸‹ä¸€ä¸ªè¡¨é‡å¤æ‰§è¡Œæ­¥éª¤ 1ï¼‰ï½æ­¥éª¤ 3ï¼‰ï¼Œç›´åˆ°å¤„ç†å®Œæ‰€æœ‰çš„è¡¨ä¸ºæ­¢")]),e._v(" "),_("li",[_("strong",[e._v("WHERE")]),e._v("ï¼šå¯¹è™šæ‹Ÿè¡¨ VT3 åº”ç”¨ WHERE è¿‡æ»¤æ¡ä»¶ï¼Œåªæœ‰ç¬¦åˆ<where_condition>çš„è®°å½•æ‰è¢«æ’å…¥è™šæ‹Ÿè¡¨ VT4 ä¸­")]),e._v(" "),_("li",[_("strong",[e._v("GROUP BY")]),e._v("ï¼šæ ¹æ® GROUP BY å­å¥ä¸­çš„åˆ—ï¼Œå¯¹ VT4 ä¸­çš„è®°å½•è¿›è¡Œåˆ†ç»„æ“ä½œï¼Œäº§ç”Ÿ VT5")]),e._v(" "),_("li",[_("strong",[e._v("CUBE|ROLLUP")]),e._v("ï¼šå¯¹è¡¨ VT5 è¿›è¡Œ CUBE æˆ– ROLLUP æ“ä½œï¼Œäº§ç”Ÿè¡¨ VT6")]),e._v(" "),_("li",[_("strong",[e._v("HAVING")]),e._v("ï¼šå¯¹è™šæ‹Ÿè¡¨ VT6 åº”ç”¨ HAVING è¿‡æ»¤å™¨ï¼Œåªæœ‰ç¬¦åˆ<having_condition>çš„è®°å½•æ‰è¢«æ’å…¥è™šæ‹Ÿè¡¨ VT7 ä¸­ã€‚")]),e._v(" "),_("li",[_("strong",[e._v("SELECT")]),e._v("ï¼šç¬¬äºŒæ¬¡æ‰§è¡Œ SELECT æ“ä½œï¼Œé€‰æ‹©æŒ‡å®šçš„åˆ—ï¼Œæ’å…¥åˆ°è™šæ‹Ÿè¡¨ VT8 ä¸­")]),e._v(" "),_("li",[_("strong",[e._v("DISTINCT")]),e._v("ï¼šå»é™¤é‡å¤æ•°æ®ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨ VT9")]),e._v(" "),_("li",[_("strong",[e._v("ORDER BY")]),e._v("ï¼šå°†è™šæ‹Ÿè¡¨ VT9 ä¸­çš„è®°å½•æŒ‰ç…§<order_by_list>è¿›è¡Œæ’åºæ“ä½œï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨ VT10ã€‚11ï¼‰")]),e._v(" "),_("li",[_("strong",[e._v("LIMIT")]),e._v("ï¼šå–å‡ºæŒ‡å®šè¡Œçš„è®°å½•ï¼Œäº§ç”Ÿè™šæ‹Ÿè¡¨ VT11ï¼Œå¹¶è¿”å›ç»™æŸ¥è¯¢ç”¨æˆ·")])]),e._v(" "),_("h2",{attrs:{id:"æ•°æ®åº“æ¶æ„"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®åº“æ¶æ„"}},[e._v("#")]),e._v(" æ•°æ®åº“æ¶æ„")]),e._v(" "),_("h3",{attrs:{id:"_14-è¯´è¯´-mysql-çš„åŸºç¡€æ¶æ„"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_14-è¯´è¯´-mysql-çš„åŸºç¡€æ¶æ„"}},[e._v("#")]),e._v(" 14.è¯´è¯´ MySQL çš„åŸºç¡€æ¶æ„?")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-77626fdb-d2b0-4256-a483-d1c60e68d8ec.jpg",alt:""}})]),e._v(" "),_("p",[e._v("MySQL é€»è¾‘æ¶æ„å›¾ä¸»è¦åˆ†ä¸‰å±‚ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("å®¢æˆ·ç«¯ï¼šæœ€ä¸Šå±‚çš„æœåŠ¡å¹¶ä¸æ˜¯ MySQL æ‰€ç‹¬æœ‰çš„ï¼Œå¤§å¤šæ•°åŸºäºç½‘ç»œçš„å®¢æˆ·ç«¯/æœåŠ¡å™¨çš„å·¥å…·æˆ–è€…æœåŠ¡éƒ½æœ‰ç±»ä¼¼çš„æ¶æ„ã€‚æ¯”å¦‚è¿æ¥å¤„ç†ã€æˆæƒè®¤è¯ã€å®‰å…¨ç­‰ç­‰ã€‚")]),e._v(" "),_("li",[e._v("Server å±‚ï¼šå¤§å¤šæ•° MySQL çš„æ ¸å¿ƒæœåŠ¡åŠŸèƒ½éƒ½åœ¨è¿™ä¸€å±‚ï¼ŒåŒ…æ‹¬æŸ¥è¯¢è§£æã€åˆ†æã€ä¼˜åŒ–ã€ç¼“å­˜ä»¥åŠæ‰€æœ‰çš„å†…ç½®å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œæ—¥æœŸã€æ—¶é—´ã€æ•°å­¦å’ŒåŠ å¯†å‡½æ•°ï¼‰ï¼Œæ‰€æœ‰è·¨å­˜å‚¨å¼•æ“çš„åŠŸèƒ½éƒ½åœ¨è¿™ä¸€å±‚å®ç°ï¼šå­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨ã€è§†å›¾ç­‰ã€‚")]),e._v(" "),_("li",[e._v("å­˜å‚¨å¼•æ“å±‚ï¼šç¬¬ä¸‰å±‚åŒ…å«äº†å­˜å‚¨å¼•æ“ã€‚å­˜å‚¨å¼•æ“è´Ÿè´£ MySQL ä¸­æ•°æ®çš„å­˜å‚¨å’Œæå–ã€‚Server å±‚é€šè¿‡ API ä¸å­˜å‚¨å¼•æ“è¿›è¡Œé€šä¿¡ã€‚è¿™äº›æ¥å£å±è”½äº†ä¸åŒå­˜å‚¨å¼•æ“ä¹‹é—´çš„å·®å¼‚ï¼Œä½¿å¾—è¿™äº›å·®å¼‚å¯¹ä¸Šå±‚çš„æŸ¥è¯¢è¿‡ç¨‹é€æ˜ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_15-ä¸€æ¡-sql-æŸ¥è¯¢è¯­å¥åœ¨-mysql-ä¸­å¦‚ä½•æ‰§è¡Œçš„"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_15-ä¸€æ¡-sql-æŸ¥è¯¢è¯­å¥åœ¨-mysql-ä¸­å¦‚ä½•æ‰§è¡Œçš„"}},[e._v("#")]),e._v(" 15.ä¸€æ¡ SQL æŸ¥è¯¢è¯­å¥åœ¨ MySQL ä¸­å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("å…ˆæ£€æŸ¥è¯¥è¯­å¥"),_("code",[e._v("æ˜¯å¦æœ‰æƒé™")]),e._v("ï¼Œå¦‚æœæ²¡æœ‰æƒé™ï¼Œç›´æ¥è¿”å›é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æœæœ‰æƒé™ä¼šå…ˆæŸ¥è¯¢ç¼“å­˜ (MySQL8.0 ç‰ˆæœ¬ä»¥å‰)ã€‚")]),e._v(" "),_("li",[e._v("å¦‚æœæ²¡æœ‰ç¼“å­˜ï¼Œåˆ†æå™¨è¿›è¡Œ"),_("code",[e._v("è¯­æ³•åˆ†æ")]),e._v("ï¼Œæå– sql è¯­å¥ä¸­ select ç­‰å…³é”®å…ƒç´ ï¼Œç„¶ååˆ¤æ–­ sql è¯­å¥æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œæ¯”å¦‚å…³é”®è¯æ˜¯å¦æ­£ç¡®ç­‰ç­‰ã€‚")]),e._v(" "),_("li",[e._v("è¯­æ³•è§£æä¹‹åï¼ŒMySQL çš„æœåŠ¡å™¨ä¼šå¯¹æŸ¥è¯¢çš„è¯­å¥è¿›è¡Œä¼˜åŒ–ï¼Œç¡®å®šæ‰§è¡Œçš„æ–¹æ¡ˆã€‚")]),e._v(" "),_("li",[e._v("å®ŒæˆæŸ¥è¯¢ä¼˜åŒ–åï¼ŒæŒ‰ç…§ç”Ÿæˆçš„æ‰§è¡Œè®¡åˆ’"),_("code",[e._v("è°ƒç”¨æ•°æ®åº“å¼•æ“æ¥å£")]),e._v("ï¼Œè¿”å›æ‰§è¡Œç»“æœã€‚")])]),e._v(" "),_("h2",{attrs:{id:"å­˜å‚¨å¼•æ“"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#å­˜å‚¨å¼•æ“"}},[e._v("#")]),e._v(" å­˜å‚¨å¼•æ“")]),e._v(" "),_("h3",{attrs:{id:"_16-mysql-æœ‰å“ªäº›å¸¸è§å­˜å‚¨å¼•æ“"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_16-mysql-æœ‰å“ªäº›å¸¸è§å­˜å‚¨å¼•æ“"}},[e._v("#")]),e._v(" 16.MySQL æœ‰å“ªäº›å¸¸è§å­˜å‚¨å¼•æ“ï¼Ÿ")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-db586190-6d1f-49ef-a5b5-496c13e7050d.jpg",alt:"ä¸»è¦å­˜å‚¨å¼•æ“"}})]),e._v(" "),_("p",[e._v("ä¸»è¦å­˜å‚¨å¼•æ“ä»¥åŠåŠŸèƒ½å¦‚ä¸‹ï¼š")]),e._v(" "),_("table",[_("thead",[_("tr",[_("th",[e._v("åŠŸèƒ½")]),e._v(" "),_("th",[e._v("MylSAM")]),e._v(" "),_("th",[e._v("MEMORY")]),e._v(" "),_("th",[e._v("InnoDB")])])]),e._v(" "),_("tbody",[_("tr",[_("td",[e._v("å­˜å‚¨é™åˆ¶")]),e._v(" "),_("td",[e._v("256TB")]),e._v(" "),_("td",[e._v("RAM")]),e._v(" "),_("td",[e._v("64TB")])]),e._v(" "),_("tr",[_("td",[e._v("æ”¯æŒäº‹åŠ¡")]),e._v(" "),_("td",[e._v("No")]),e._v(" "),_("td",[e._v("No")]),e._v(" "),_("td",[e._v("Yes")])]),e._v(" "),_("tr",[_("td",[e._v("æ”¯æŒå…¨æ–‡ç´¢å¼•")]),e._v(" "),_("td",[e._v("Yes")]),e._v(" "),_("td",[e._v("No")]),e._v(" "),_("td",[e._v("Yes")])]),e._v(" "),_("tr",[_("td",[e._v("æ”¯æŒæ ‘ç´¢å¼•")]),e._v(" "),_("td",[e._v("Yes")]),e._v(" "),_("td",[e._v("Yes")]),e._v(" "),_("td",[e._v("Yes")])]),e._v(" "),_("tr",[_("td",[e._v("æ”¯æŒå“ˆå¸Œç´¢å¼•")]),e._v(" "),_("td",[e._v("No")]),e._v(" "),_("td",[e._v("Yes")]),e._v(" "),_("td",[e._v("Yes")])]),e._v(" "),_("tr",[_("td",[e._v("æ”¯æŒæ•°æ®ç¼“å­˜")]),e._v(" "),_("td",[e._v("No")]),e._v(" "),_("td",[e._v("N/A")]),e._v(" "),_("td",[e._v("Yes")])]),e._v(" "),_("tr",[_("td",[e._v("æ”¯æŒå¤–é”®")]),e._v(" "),_("td",[e._v("No")]),e._v(" "),_("td",[e._v("No")]),e._v(" "),_("td",[e._v("Yes")])])])]),e._v(" "),_("p",[e._v("MySQL5.5 ä¹‹å‰ï¼Œé»˜è®¤å­˜å‚¨å¼•æ“æ˜¯ MylSAMï¼Œ5.5 ä¹‹åå˜æˆäº† InnoDBã€‚")]),e._v(" "),_("blockquote",[_("p",[e._v("InnoDB æ”¯æŒçš„å“ˆå¸Œç´¢å¼•æ˜¯è‡ªé€‚åº”çš„ï¼ŒInnoDB ä¼šæ ¹æ®è¡¨çš„ä½¿ç”¨æƒ…å†µè‡ªåŠ¨ä¸ºè¡¨ç”Ÿæˆå“ˆå¸Œç´¢å¼•ï¼Œä¸èƒ½äººä¸ºå¹²é¢„æ˜¯å¦åœ¨ä¸€å¼ è¡¨ä¸­ç”Ÿæˆå“ˆå¸Œç´¢å¼•ã€‚")])]),e._v(" "),_("blockquote",[_("p",[e._v("MySQL 5.6 å¼€å§‹ InnoDB æ”¯æŒå…¨æ–‡ç´¢å¼•ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_17-é‚£å­˜å‚¨å¼•æ“åº”è¯¥æ€ä¹ˆé€‰æ‹©"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_17-é‚£å­˜å‚¨å¼•æ“åº”è¯¥æ€ä¹ˆé€‰æ‹©"}},[e._v("#")]),e._v(" 17.é‚£å­˜å‚¨å¼•æ“åº”è¯¥æ€ä¹ˆé€‰æ‹©ï¼Ÿ")]),e._v(" "),_("p",[e._v("å¤§è‡´ä¸Šå¯ä»¥è¿™ä¹ˆé€‰æ‹©ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨é»˜è®¤çš„ InnoDB å°±å¤Ÿäº†ã€‚å¦‚æœè¦æä¾›æäº¤ã€å›æ»šå’Œæ¢å¤çš„äº‹åŠ¡å®‰å…¨ï¼ˆACID å…¼å®¹ï¼‰èƒ½åŠ›ï¼Œå¹¶è¦æ±‚å®ç°å¹¶å‘æ§åˆ¶ï¼ŒInnoDB å°±æ˜¯æ¯”è¾ƒé å‰çš„é€‰æ‹©äº†ã€‚")]),e._v(" "),_("li",[e._v("å¦‚æœæ•°æ®è¡¨ä¸»è¦ç”¨æ¥æ’å…¥å’ŒæŸ¥è¯¢è®°å½•ï¼Œåˆ™ MyISAM å¼•æ“æä¾›è¾ƒé«˜çš„å¤„ç†æ•ˆç‡ã€‚")]),e._v(" "),_("li",[e._v("å¦‚æœåªæ˜¯ä¸´æ—¶å­˜æ”¾æ•°æ®ï¼Œæ•°æ®é‡ä¸å¤§ï¼Œå¹¶ä¸”ä¸éœ€è¦è¾ƒé«˜çš„æ•°æ®å®‰å…¨æ€§ï¼Œå¯ä»¥é€‰æ‹©å°†æ•°æ®ä¿å­˜åœ¨å†…å­˜çš„ MEMORY å¼•æ“ä¸­ï¼ŒMySQL ä¸­ä½¿ç”¨è¯¥å¼•æ“ä½œä¸ºä¸´æ—¶è¡¨ï¼Œå­˜æ”¾æŸ¥è¯¢çš„ä¸­é—´ç»“æœã€‚")])]),e._v(" "),_("p",[e._v("ä½¿ç”¨å“ªä¸€ç§å¼•æ“å¯ä»¥æ ¹æ®éœ€è¦çµæ´»é€‰æ‹©ï¼Œå› ä¸ºå­˜å‚¨å¼•æ“æ˜¯åŸºäºè¡¨çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªæ•°æ®åº“ä¸­å¤šä¸ªè¡¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„å¼•æ“ä»¥æ»¡è¶³å„ç§æ€§èƒ½å’Œå®é™…éœ€æ±‚ã€‚ä½¿ç”¨åˆé€‚çš„å­˜å‚¨å¼•æ“å°†ä¼šæé«˜æ•´ä¸ªæ•°æ®åº“çš„æ€§èƒ½ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_18-innodb-å’Œ-mylsam-ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_18-innodb-å’Œ-mylsam-ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«"}},[e._v("#")]),e._v(" 18.InnoDB å’Œ MylSAM ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")]),e._v(" "),_("p",[e._v("PS:MySQL8.0 éƒ½å¼€å§‹æ…¢æ…¢æµè¡Œäº†ï¼Œå¦‚æœä¸æ˜¯é¢è¯•ï¼ŒMylSAM å…¶å®å¯ä»¥ä¸ç”¨æ€ä¹ˆäº†è§£ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-b7aa040e-a3a7-4133-8c43-baccc3c8d012.jpg",alt:"InnoDB å’Œ MylSAM ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«"}})]),e._v(" "),_("p",[_("strong",[e._v("1. Â  å­˜å‚¨ç»“æ„")]),e._v("ï¼šæ¯ä¸ª MyISAM åœ¨ç£ç›˜ä¸Šå­˜å‚¨æˆä¸‰ä¸ªæ–‡ä»¶ï¼›InnoDB æ‰€æœ‰çš„è¡¨éƒ½ä¿å­˜åœ¨åŒä¸€ä¸ªæ•°æ®æ–‡ä»¶ä¸­ï¼ˆä¹Ÿå¯èƒ½æ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œæˆ–è€…æ˜¯ç‹¬ç«‹çš„è¡¨ç©ºé—´æ–‡ä»¶ï¼‰ï¼ŒInnoDB è¡¨çš„å¤§å°åªå—é™äºæ“ä½œç³»ç»Ÿæ–‡ä»¶çš„å¤§å°ï¼Œä¸€èˆ¬ä¸º 2GBã€‚")]),e._v(" "),_("p",[_("strong",[e._v("2. äº‹åŠ¡æ”¯æŒ")]),e._v("ï¼šMyISAM ä¸æä¾›äº‹åŠ¡æ”¯æŒï¼›InnoDB æä¾›äº‹åŠ¡æ”¯æŒäº‹åŠ¡ï¼Œå…·æœ‰äº‹åŠ¡(commit)ã€å›æ»š(rollback)å’Œå´©æºƒä¿®å¤èƒ½åŠ›(crash recovery capabilities)çš„äº‹åŠ¡å®‰å…¨ç‰¹æ€§ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("3 Â  æœ€å°é”ç²’åº¦")]),e._v("ï¼šMyISAM åªæ”¯æŒè¡¨çº§é”ï¼Œæ›´æ–°æ—¶ä¼šé”ä½æ•´å¼ è¡¨ï¼Œå¯¼è‡´å…¶å®ƒæŸ¥è¯¢å’Œæ›´æ–°éƒ½ä¼šè¢«é˜»å¡ InnoDB æ”¯æŒè¡Œçº§é”ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("4. ç´¢å¼•ç±»å‹")]),e._v("ï¼šMyISAM çš„ç´¢å¼•ä¸ºéèšç°‡ç´¢å¼•ï¼Œæ•°æ®ç»“æ„æ˜¯ B æ ‘ï¼›InnoDB çš„ç´¢å¼•æ˜¯èšç°‡ç´¢å¼•ï¼Œæ•°æ®ç»“æ„æ˜¯ B+æ ‘ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("5. Â  ä¸»é”®å¿…éœ€")]),e._v("ï¼šMyISAM å…è®¸æ²¡æœ‰ä»»ä½•ç´¢å¼•å’Œä¸»é”®çš„è¡¨å­˜åœ¨ï¼›InnoDB å¦‚æœæ²¡æœ‰è®¾å®šä¸»é”®æˆ–è€…éç©ºå”¯ä¸€ç´¢å¼•ï¼Œ**å°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª 6 å­—èŠ‚çš„ä¸»é”®(ç”¨æˆ·ä¸å¯è§)**ï¼Œæ•°æ®æ˜¯ä¸»ç´¢å¼•çš„ä¸€éƒ¨åˆ†ï¼Œé™„åŠ ç´¢å¼•ä¿å­˜çš„æ˜¯ä¸»ç´¢å¼•çš„å€¼ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("6. è¡¨çš„å…·ä½“è¡Œæ•°")]),e._v("ï¼šMyISAM ä¿å­˜äº†è¡¨çš„æ€»è¡Œæ•°ï¼Œå¦‚æœ select count(*) from table;ä¼šç›´æ¥å–å‡ºå‡ºè¯¥å€¼; InnoDB æ²¡æœ‰ä¿å­˜è¡¨çš„æ€»è¡Œæ•°ï¼Œå¦‚æœä½¿ç”¨ select count(*) from tableï¼›å°±ä¼šéå†æ•´ä¸ªè¡¨;ä½†æ˜¯åœ¨åŠ äº† wehre æ¡ä»¶åï¼ŒMyISAM å’Œ InnoDB å¤„ç†çš„æ–¹å¼éƒ½ä¸€æ ·ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("7. Â  å¤–é”®æ”¯æŒ")]),e._v("ï¼šMyISAM ä¸æ”¯æŒå¤–é”®ï¼›InnoDB æ”¯æŒå¤–é”®ã€‚")]),e._v(" "),_("h2",{attrs:{id:"æ—¥å¿—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#æ—¥å¿—"}},[e._v("#")]),e._v(" æ—¥å¿—")]),e._v(" "),_("h3",{attrs:{id:"_19-mysql-æ—¥å¿—æ–‡ä»¶æœ‰å“ªäº›-åˆ†åˆ«ä»‹ç»ä¸‹ä½œç”¨"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_19-mysql-æ—¥å¿—æ–‡ä»¶æœ‰å“ªäº›-åˆ†åˆ«ä»‹ç»ä¸‹ä½œç”¨"}},[e._v("#")]),e._v(" 19.MySQL æ—¥å¿—æ–‡ä»¶æœ‰å“ªäº›ï¼Ÿåˆ†åˆ«ä»‹ç»ä¸‹ä½œç”¨ï¼Ÿ")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-c0ef6e68-bb33-48fc-b3a2-b9cdadd8e403.jpg",alt:"MySQL ä¸»è¦æ—¥å¿—"}})]),e._v(" "),_("p",[e._v("MySQL æ—¥å¿—æ–‡ä»¶æœ‰å¾ˆå¤šï¼ŒåŒ…æ‹¬ ï¼š")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("é”™è¯¯æ—¥å¿—")]),e._v("ï¼ˆerror logï¼‰ï¼šé”™è¯¯æ—¥å¿—æ–‡ä»¶å¯¹ MySQL çš„å¯åŠ¨ã€è¿è¡Œã€å…³é—­è¿‡ç¨‹è¿›è¡Œäº†è®°å½•ï¼Œèƒ½å¸®åŠ©å®šä½ MySQL é—®é¢˜ã€‚")]),e._v(" "),_("li",[_("strong",[e._v("æ…¢æŸ¥è¯¢æ—¥å¿—")]),e._v("ï¼ˆslow query logï¼‰ï¼šæ…¢æŸ¥è¯¢æ—¥å¿—æ˜¯ç”¨æ¥è®°å½•æ‰§è¡Œæ—¶é—´è¶…è¿‡ long_query_time è¿™ä¸ªå˜é‡å®šä¹‰çš„æ—¶é•¿çš„æŸ¥è¯¢è¯­å¥ã€‚é€šè¿‡æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œå¯ä»¥æŸ¥æ‰¾å‡ºå“ªäº›æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œæ•ˆç‡å¾ˆä½ï¼Œä»¥ä¾¿è¿›è¡Œä¼˜åŒ–ã€‚")]),e._v(" "),_("li",[_("strong",[e._v("ä¸€èˆ¬æŸ¥è¯¢æ—¥å¿—")]),e._v("ï¼ˆgeneral logï¼‰ï¼šä¸€èˆ¬æŸ¥è¯¢æ—¥å¿—è®°å½•äº†æ‰€æœ‰å¯¹ MySQL æ•°æ®åº“è¯·æ±‚çš„ä¿¡æ¯ï¼Œæ— è®ºè¯·æ±‚æ˜¯å¦æ­£ç¡®æ‰§è¡Œã€‚")]),e._v(" "),_("li",[_("strong",[e._v("äºŒè¿›åˆ¶æ—¥å¿—")]),e._v("ï¼ˆbin logï¼‰ï¼šå…³äºäºŒè¿›åˆ¶æ—¥å¿—ï¼Œå®ƒè®°å½•äº†æ•°æ®åº“æ‰€æœ‰æ‰§è¡Œçš„ DDL å’Œ DML è¯­å¥ï¼ˆé™¤äº†æ•°æ®æŸ¥è¯¢è¯­å¥ selectã€show ç­‰ï¼‰ï¼Œä»¥äº‹ä»¶å½¢å¼è®°å½•å¹¶ä¿å­˜åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚")])]),e._v(" "),_("p",[e._v("è¿˜æœ‰ä¸¤ä¸ª InnoDB å­˜å‚¨å¼•æ“ç‰¹æœ‰çš„æ—¥å¿—æ–‡ä»¶ï¼š")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("é‡åšæ—¥å¿—")]),e._v("ï¼ˆredo logï¼‰ï¼šé‡åšæ—¥å¿—è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒä»¬è®°å½•äº†å¯¹äº InnoDB å­˜å‚¨å¼•æ“çš„äº‹åŠ¡æ—¥å¿—ã€‚")]),e._v(" "),_("li",[_("strong",[e._v("å›æ»šæ—¥å¿—")]),e._v("ï¼ˆundo logï¼‰ï¼šå›æ»šæ—¥å¿—åŒæ ·ä¹Ÿæ˜¯ InnoDB å¼•æ“æä¾›çš„æ—¥å¿—ï¼Œé¡¾åæ€ä¹‰ï¼Œå›æ»šæ—¥å¿—çš„ä½œç”¨å°±æ˜¯å¯¹æ•°æ®è¿›è¡Œå›æ»šã€‚å½“äº‹åŠ¡å¯¹æ•°æ®åº“è¿›è¡Œä¿®æ”¹ï¼ŒInnoDB å¼•æ“ä¸ä»…ä¼šè®°å½• redo logï¼Œè¿˜ä¼šç”Ÿæˆå¯¹åº”çš„ undo log æ—¥å¿—ï¼›å¦‚æœäº‹åŠ¡æ‰§è¡Œå¤±è´¥æˆ–è°ƒç”¨äº† rollbackï¼Œå¯¼è‡´äº‹åŠ¡éœ€è¦å›æ»šï¼Œå°±å¯ä»¥åˆ©ç”¨ undo log ä¸­çš„ä¿¡æ¯å°†æ•°æ®å›æ»šåˆ°ä¿®æ”¹ä¹‹å‰çš„æ ·å­ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_20-binlog-å’Œ-redo-log-æœ‰ä»€ä¹ˆåŒºåˆ«"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_20-binlog-å’Œ-redo-log-æœ‰ä»€ä¹ˆåŒºåˆ«"}},[e._v("#")]),e._v(" 20.binlog å’Œ redo log æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("bin log ä¼šè®°å½•æ‰€æœ‰ä¸æ•°æ®åº“æœ‰å…³çš„æ—¥å¿—è®°å½•ï¼ŒåŒ…æ‹¬ InnoDBã€MyISAM ç­‰å­˜å‚¨å¼•æ“çš„æ—¥å¿—ï¼Œè€Œ redo log åªè®° InnoDB å­˜å‚¨å¼•æ“çš„æ—¥å¿—ã€‚")]),e._v(" "),_("li",[e._v("è®°å½•çš„å†…å®¹ä¸åŒï¼Œbin log è®°å½•çš„æ˜¯å…³äºä¸€ä¸ªäº‹åŠ¡çš„å…·ä½“æ“ä½œå†…å®¹ï¼Œå³è¯¥æ—¥å¿—æ˜¯é€»è¾‘æ—¥å¿—ã€‚è€Œ redo log è®°å½•çš„æ˜¯å…³äºæ¯ä¸ªé¡µï¼ˆPageï¼‰çš„æ›´æ”¹çš„ç‰©ç†æƒ…å†µã€‚")]),e._v(" "),_("li",[e._v("å†™å…¥çš„æ—¶é—´ä¸åŒï¼Œbin log ä»…åœ¨äº‹åŠ¡æäº¤å‰è¿›è¡Œæäº¤ï¼Œä¹Ÿå°±æ˜¯åªå†™ç£ç›˜ä¸€æ¬¡ã€‚è€Œåœ¨äº‹åŠ¡è¿›è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå´ä¸æ–­æœ‰ redo ertry è¢«å†™å…¥ redo log ä¸­ã€‚")]),e._v(" "),_("li",[e._v("å†™å…¥çš„æ–¹å¼ä¹Ÿä¸ç›¸åŒï¼Œredo log æ˜¯å¾ªç¯å†™å…¥å’Œæ“¦é™¤ï¼Œbin log æ˜¯è¿½åŠ å†™å…¥ï¼Œä¸ä¼šè¦†ç›–å·²ç»å†™çš„æ–‡ä»¶ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_21-ä¸€æ¡æ›´æ–°è¯­å¥æ€ä¹ˆæ‰§è¡Œçš„äº†è§£å—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_21-ä¸€æ¡æ›´æ–°è¯­å¥æ€ä¹ˆæ‰§è¡Œçš„äº†è§£å—"}},[e._v("#")]),e._v(" 21.ä¸€æ¡æ›´æ–°è¯­å¥æ€ä¹ˆæ‰§è¡Œçš„äº†è§£å—ï¼Ÿ")]),e._v(" "),_("p",[e._v("æ›´æ–°è¯­å¥çš„æ‰§è¡Œæ˜¯ Server å±‚å’Œå¼•æ“å±‚é…åˆå®Œæˆï¼Œæ•°æ®é™¤äº†è¦å†™å…¥è¡¨ä¸­ï¼Œè¿˜è¦è®°å½•ç›¸åº”çš„æ—¥å¿—ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-812fb038-39de-4204-ac9f-93d8b7448a18.jpg",alt:"update æ‰§è¡Œ"}})]),e._v(" "),_("ol",[_("li",[e._v("æ‰§è¡Œå™¨å…ˆæ‰¾å¼•æ“è·å– ID=2 è¿™ä¸€è¡Œã€‚ID æ˜¯ä¸»é”®ï¼Œå­˜å‚¨å¼•æ“æ£€ç´¢æ•°æ®ï¼Œæ‰¾åˆ°è¿™ä¸€è¡Œã€‚å¦‚æœ ID=2 è¿™ä¸€è¡Œæ‰€åœ¨çš„æ•°æ®é¡µæœ¬æ¥å°±åœ¨å†…å­˜ä¸­ï¼Œå°±ç›´æ¥è¿”å›ç»™æ‰§è¡Œå™¨ï¼›å¦åˆ™ï¼Œéœ€è¦å…ˆä»ç£ç›˜è¯»å…¥å†…å­˜ï¼Œç„¶åå†è¿”å›ã€‚")]),e._v(" "),_("li",[e._v("æ‰§è¡Œå™¨æ‹¿åˆ°å¼•æ“ç»™çš„è¡Œæ•°æ®ï¼ŒæŠŠè¿™ä¸ªå€¼åŠ ä¸Š 1ï¼Œæ¯”å¦‚åŸæ¥æ˜¯ Nï¼Œç°åœ¨å°±æ˜¯ N+1ï¼Œå¾—åˆ°æ–°çš„ä¸€è¡Œæ•°æ®ï¼Œå†è°ƒç”¨å¼•æ“æ¥å£å†™å…¥è¿™è¡Œæ–°æ•°æ®ã€‚")]),e._v(" "),_("li",[e._v("å¼•æ“å°†è¿™è¡Œæ–°æ•°æ®æ›´æ–°åˆ°å†…å­˜ä¸­ï¼ŒåŒæ—¶å°†è¿™ä¸ªæ›´æ–°æ“ä½œè®°å½•åˆ° redo log é‡Œé¢ï¼Œæ­¤æ—¶ redo log å¤„äº prepare çŠ¶æ€ã€‚ç„¶åå‘ŠçŸ¥æ‰§è¡Œå™¨æ‰§è¡Œå®Œæˆäº†ï¼Œéšæ—¶å¯ä»¥æäº¤äº‹åŠ¡ã€‚")]),e._v(" "),_("li",[e._v("æ‰§è¡Œå™¨ç”Ÿæˆè¿™ä¸ªæ“ä½œçš„ binlogï¼Œå¹¶æŠŠ binlog å†™å…¥ç£ç›˜ã€‚")]),e._v(" "),_("li",[e._v("æ‰§è¡Œå™¨è°ƒç”¨å¼•æ“çš„æäº¤äº‹åŠ¡æ¥å£ï¼Œå¼•æ“æŠŠåˆšåˆšå†™å…¥çš„ redo log æ”¹æˆæäº¤ï¼ˆcommitï¼‰çŠ¶æ€ï¼Œæ›´æ–°å®Œæˆã€‚")])]),e._v(" "),_("p",[e._v("ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼ŒMySQL åœ¨æ‰§è¡Œæ›´æ–°è¯­å¥çš„æ—¶å€™ï¼Œåœ¨æœåŠ¡å±‚è¿›è¡Œè¯­å¥çš„è§£æå’Œæ‰§è¡Œï¼Œåœ¨å¼•æ“å±‚è¿›è¡Œæ•°æ®çš„æå–å’Œå­˜å‚¨ï¼›åŒæ—¶åœ¨æœåŠ¡å±‚å¯¹ binlog è¿›è¡Œå†™å…¥ï¼Œåœ¨ InnoDB å†…è¿›è¡Œ redo log çš„å†™å…¥ã€‚")]),e._v(" "),_("p",[e._v("ä¸ä»…å¦‚æ­¤ï¼Œåœ¨å¯¹ redo log å†™å…¥æ—¶æœ‰ä¸¤ä¸ªé˜¶æ®µçš„æäº¤ï¼Œä¸€æ˜¯ binlog å†™å…¥ä¹‹å‰"),_("code",[e._v("prepare")]),e._v("çŠ¶æ€çš„å†™å…¥ï¼ŒäºŒæ˜¯ binlog å†™å…¥ä¹‹å"),_("code",[e._v("commit")]),e._v("çŠ¶æ€çš„å†™å…¥ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_22-é‚£ä¸ºä»€ä¹ˆè¦ä¸¤é˜¶æ®µæäº¤å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_22-é‚£ä¸ºä»€ä¹ˆè¦ä¸¤é˜¶æ®µæäº¤å‘¢"}},[e._v("#")]),e._v(" 22.é‚£ä¸ºä»€ä¹ˆè¦ä¸¤é˜¶æ®µæäº¤å‘¢ï¼Ÿ")]),e._v(" "),_("p",[e._v("ä¸ºä»€ä¹ˆè¦ä¸¤é˜¶æ®µæäº¤å‘¢ï¼Ÿç›´æ¥æäº¤ä¸è¡Œå—ï¼Ÿ")]),e._v(" "),_("p",[e._v("æˆ‘ä»¬å¯ä»¥å‡è®¾ä¸é‡‡ç”¨ä¸¤é˜¶æ®µæäº¤çš„æ–¹å¼ï¼Œè€Œæ˜¯é‡‡ç”¨â€œå•é˜¶æ®µâ€è¿›è¡Œæäº¤ï¼Œå³è¦ä¹ˆå…ˆå†™å…¥ redo logï¼Œåå†™å…¥ binlogï¼›è¦ä¹ˆå…ˆå†™å…¥ binlogï¼Œåå†™å…¥ redo logã€‚è¿™ä¸¤ç§æ–¹å¼çš„æäº¤éƒ½ä¼šå¯¼è‡´åŸå…ˆæ•°æ®åº“çš„çŠ¶æ€å’Œè¢«æ¢å¤åçš„æ•°æ®åº“çš„çŠ¶æ€ä¸ä¸€è‡´ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("å…ˆå†™å…¥ redo logï¼Œåå†™å…¥ binlogï¼š")])]),e._v(" "),_("p",[e._v("åœ¨å†™å®Œ redo log ä¹‹åï¼Œæ•°æ®æ­¤æ—¶å…·æœ‰"),_("code",[e._v("crash-safe")]),e._v("èƒ½åŠ›ï¼Œå› æ­¤ç³»ç»Ÿå´©æºƒï¼Œæ•°æ®ä¼šæ¢å¤æˆäº‹åŠ¡å¼€å§‹ä¹‹å‰çš„çŠ¶æ€ã€‚ä½†æ˜¯ï¼Œè‹¥åœ¨ redo log å†™å®Œæ—¶å€™ï¼Œbinlog å†™å…¥ä¹‹å‰ï¼Œç³»ç»Ÿå‘ç”Ÿäº†å®•æœºã€‚æ­¤æ—¶ binlog æ²¡æœ‰å¯¹ä¸Šé¢çš„æ›´æ–°è¯­å¥è¿›è¡Œä¿å­˜ï¼Œå¯¼è‡´å½“ä½¿ç”¨ binlog è¿›è¡Œæ•°æ®åº“çš„å¤‡ä»½æˆ–è€…æ¢å¤æ—¶ï¼Œå°±å°‘äº†ä¸Šè¿°çš„æ›´æ–°è¯­å¥ã€‚ä»è€Œä½¿å¾—"),_("code",[e._v("id=2")]),e._v("è¿™ä¸€è¡Œçš„æ•°æ®æ²¡æœ‰è¢«æ›´æ–°ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-75d5226b-cab9-461a-89a9-befcb2dfb996.jpg",alt:"å…ˆå†™ redo logï¼Œåå†™ bin log çš„é—®é¢˜"}})]),e._v(" "),_("p",[_("strong",[e._v("å…ˆå†™å…¥ binlogï¼Œåå†™å…¥ redo logï¼š")])]),e._v(" "),_("p",[e._v("å†™å®Œ binlog ä¹‹åï¼Œæ‰€æœ‰çš„è¯­å¥éƒ½è¢«ä¿å­˜ï¼Œæ‰€ä»¥é€šè¿‡ binlog å¤åˆ¶æˆ–æ¢å¤å‡ºæ¥çš„æ•°æ®åº“ä¸­ id=2 è¿™ä¸€è¡Œçš„æ•°æ®ä¼šè¢«æ›´æ–°ä¸º a=1ã€‚ä½†æ˜¯å¦‚æœåœ¨ redo log å†™å…¥ä¹‹å‰ï¼Œç³»ç»Ÿå´©æºƒï¼Œé‚£ä¹ˆ redo log ä¸­è®°å½•çš„è¿™ä¸ªäº‹åŠ¡ä¼šæ— æ•ˆï¼Œå¯¼è‡´å®é™…æ•°æ®åº“ä¸­"),_("code",[e._v("id=2")]),e._v("è¿™ä¸€è¡Œçš„æ•°æ®å¹¶æ²¡æœ‰æ›´æ–°ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-869c309b-9b93-46e1-8414-b35128e287a5.jpg",alt:"å…ˆå†™ bin logï¼Œåå†™ redo log çš„é—®é¢˜"}})]),e._v(" "),_("p",[e._v("ç®€å•è¯´ï¼Œredo log å’Œ binlog éƒ½å¯ä»¥ç”¨äºè¡¨ç¤ºäº‹åŠ¡çš„æäº¤çŠ¶æ€ï¼Œè€Œä¸¤é˜¶æ®µæäº¤å°±æ˜¯è®©è¿™ä¸¤ä¸ªçŠ¶æ€ä¿æŒé€»è¾‘ä¸Šçš„ä¸€è‡´ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_23-redo-log-æ€ä¹ˆåˆ·å…¥ç£ç›˜çš„çŸ¥é“å—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_23-redo-log-æ€ä¹ˆåˆ·å…¥ç£ç›˜çš„çŸ¥é“å—"}},[e._v("#")]),e._v(" 23.redo log æ€ä¹ˆåˆ·å…¥ç£ç›˜çš„çŸ¥é“å—ï¼Ÿ")]),e._v(" "),_("p",[e._v("redo log çš„å†™å…¥ä¸æ˜¯ç›´æ¥è½åˆ°ç£ç›˜ï¼Œè€Œæ˜¯åœ¨å†…å­˜ä¸­è®¾ç½®äº†ä¸€ç‰‡ç§°ä¹‹ä¸º"),_("code",[e._v("redo log buffer")]),e._v("çš„è¿ç»­å†…å­˜ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯"),_("code",[e._v("redo æ—¥å¿—ç¼“å†²åŒº")]),e._v("ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-e1f59341-0695-45db-b759-30db73314e39.jpg",alt:"redo log ç¼“å†²"}})]),e._v(" "),_("blockquote",[_("p",[_("strong",[e._v("ä»€ä¹ˆæ—¶å€™ä¼šåˆ·å…¥ç£ç›˜ï¼Ÿ")])])]),e._v(" "),_("p",[e._v("åœ¨å¦‚ä¸‹çš„ä¸€äº›æƒ…å†µä¸­ï¼Œlog buffer çš„æ•°æ®ä¼šåˆ·å…¥ç£ç›˜ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("log buffer ç©ºé—´ä¸è¶³æ—¶")])]),e._v(" "),_("p",[e._v("log buffer çš„å¤§å°æ˜¯æœ‰é™çš„ï¼Œå¦‚æœä¸åœçš„å¾€è¿™ä¸ªæœ‰é™å¤§å°çš„ log buffer é‡Œå¡å…¥æ—¥å¿—ï¼Œå¾ˆå¿«å®ƒå°±ä¼šè¢«å¡«æ»¡ã€‚å¦‚æœå½“å‰å†™å…¥ log buffer çš„ redo æ—¥å¿—é‡å·²ç»å æ»¡äº† log buffer æ€»å®¹é‡çš„å¤§çº¦"),_("strong",[e._v("ä¸€åŠ")]),e._v("å·¦å³ï¼Œå°±éœ€è¦æŠŠè¿™äº›æ—¥å¿—åˆ·æ–°åˆ°ç£ç›˜ä¸Šã€‚")]),e._v(" "),_("ul",[_("li",[e._v("äº‹åŠ¡æäº¤æ—¶")])]),e._v(" "),_("p",[e._v("åœ¨äº‹åŠ¡æäº¤æ—¶ï¼Œä¸ºäº†ä¿è¯æŒä¹…æ€§ï¼Œä¼šæŠŠ log buffer ä¸­çš„æ—¥å¿—å…¨éƒ¨åˆ·åˆ°ç£ç›˜ã€‚æ³¨æ„ï¼Œè¿™æ—¶å€™ï¼Œé™¤äº†æœ¬äº‹åŠ¡çš„ï¼Œå¯èƒ½è¿˜ä¼šåˆ·å…¥å…¶å®ƒäº‹åŠ¡çš„æ—¥å¿—ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("åå°çº¿ç¨‹è¾“å…¥")])]),e._v(" "),_("p",[e._v("æœ‰ä¸€ä¸ªåå°çº¿ç¨‹ï¼Œå¤§çº¦æ¯ç§’éƒ½ä¼šåˆ·æ–°ä¸€æ¬¡"),_("code",[e._v("log buffer")]),e._v("ä¸­çš„"),_("code",[e._v("redo log")]),e._v("åˆ°ç£ç›˜ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("æ­£å¸¸å…³é—­æœåŠ¡å™¨æ—¶")]),e._v(" "),_("li",[_("strong",[e._v("è§¦å‘ checkpoint è§„åˆ™")])])]),e._v(" "),_("p",[e._v("é‡åšæ—¥å¿—ç¼“å­˜ã€é‡åšæ—¥å¿—æ–‡ä»¶éƒ½æ˜¯ä»¥"),_("strong",[e._v("å—ï¼ˆblockï¼‰"),_("strong",[e._v("çš„æ–¹å¼è¿›è¡Œä¿å­˜çš„ï¼Œç§°ä¹‹ä¸º")]),e._v("é‡åšæ—¥å¿—å—ï¼ˆredo log blockï¼‰")]),e._v(",å—çš„å¤§å°æ˜¯å›ºå®šçš„ 512 å­—èŠ‚ã€‚æˆ‘ä»¬çš„ redo log å®ƒæ˜¯å›ºå®šå¤§å°çš„ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šçš„ "),_("strong",[e._v("log group")]),e._v("ï¼Œç”±ä¸€å®šæ•°é‡çš„"),_("strong",[e._v("log block")]),e._v(" ç»„æˆã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-8d944e76-89ba-4fa6-9066-64ff4f55b532.jpg",alt:"redo log åˆ†å—å’Œå†™å…¥"}})]),e._v(" "),_("p",[e._v("å®ƒçš„å†™å…¥æ–¹å¼æ˜¯ä»å¤´åˆ°å°¾å¼€å§‹å†™ï¼Œå†™åˆ°æœ«å°¾åˆå›åˆ°å¼€å¤´å¾ªç¯å†™ã€‚")]),e._v(" "),_("p",[e._v("å…¶ä¸­æœ‰ä¸¤ä¸ªæ ‡è®°ä½ç½®ï¼š")]),e._v(" "),_("p",[_("code",[e._v("write pos")]),e._v("æ˜¯å½“å‰è®°å½•çš„ä½ç½®ï¼Œä¸€è¾¹å†™ä¸€è¾¹åç§»ï¼Œå†™åˆ°ç¬¬ 3 å·æ–‡ä»¶æœ«å°¾åå°±å›åˆ° 0 å·æ–‡ä»¶å¼€å¤´ã€‚"),_("code",[e._v("checkpoint")]),e._v("æ˜¯å½“å‰è¦æ“¦é™¤çš„ä½ç½®ï¼Œä¹Ÿæ˜¯å¾€åæ¨ç§»å¹¶ä¸”å¾ªç¯çš„ï¼Œæ“¦é™¤è®°å½•å‰è¦æŠŠè®°å½•æ›´æ–°åˆ°ç£ç›˜ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-31a14149-b261-45d9-bd3b-6afaec16e136.jpg",alt:"write pos å’Œ checkpoint"}})]),e._v(" "),_("p",[e._v("å½“"),_("code",[e._v("write_pos")]),e._v("è¿½ä¸Š"),_("code",[e._v("checkpoint")]),e._v("æ—¶ï¼Œè¡¨ç¤º redo log æ—¥å¿—å·²ç»å†™æ»¡ã€‚è¿™æ—¶å€™å°±ä¸èƒ½æ¥ç€å¾€é‡Œå†™æ•°æ®äº†ï¼Œéœ€è¦æ‰§è¡Œ"),_("code",[e._v("checkpoint")]),e._v("è§„åˆ™è…¾å‡ºå¯å†™ç©ºé—´ã€‚")]),e._v(" "),_("p",[e._v("æ‰€è°“çš„"),_("strong",[e._v("checkpoint è§„åˆ™")]),e._v("ï¼Œå°±æ˜¯ checkpoint è§¦å‘åï¼Œå°† buffer ä¸­æ—¥å¿—é¡µéƒ½åˆ·åˆ°ç£ç›˜ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png",alt:""}})]),e._v(" "),_("h2",{attrs:{id:"sql-ä¼˜åŒ–"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#sql-ä¼˜åŒ–"}},[e._v("#")]),e._v(" SQL ä¼˜åŒ–")]),e._v(" "),_("h3",{attrs:{id:"_24-æ…¢-sql-å¦‚ä½•å®šä½å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_24-æ…¢-sql-å¦‚ä½•å®šä½å‘¢"}},[e._v("#")]),e._v(" 24.æ…¢ SQL å¦‚ä½•å®šä½å‘¢ï¼Ÿ")]),e._v(" "),_("p",[e._v("æ…¢ SQL çš„ç›‘æ§ä¸»è¦é€šè¿‡ä¸¤ä¸ªé€”å¾„ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-c0c43f82-3930-44f0-9abc-b33b08c02d2d.jpg",alt:"å‘ç°æ…¢ SQL"}})]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("æ…¢æŸ¥è¯¢æ—¥å¿—")]),e._v("ï¼šå¼€å¯ MySQL çš„æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œå†é€šè¿‡ä¸€äº›å·¥å…·æ¯”å¦‚ mysqldumpslow å»åˆ†æå¯¹åº”çš„æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œå½“ç„¶ç°åœ¨ä¸€èˆ¬çš„äº‘å‚å•†éƒ½æä¾›äº†å¯è§†åŒ–çš„å¹³å°ã€‚")]),e._v(" "),_("li",[_("strong",[e._v("æœåŠ¡ç›‘æ§")]),e._v("ï¼šå¯ä»¥åœ¨ä¸šåŠ¡çš„åŸºå»ºä¸­åŠ å…¥å¯¹æ…¢ SQL çš„ç›‘æ§ï¼Œå¸¸è§çš„æ–¹æ¡ˆæœ‰å­—èŠ‚ç æ’æ¡©ã€è¿æ¥æ± æ‰©å±•ã€ORM æ¡†æ¶è¿‡ç¨‹ï¼Œå¯¹æœåŠ¡è¿è¡Œä¸­çš„æ…¢ SQL è¿›è¡Œç›‘æ§å’Œå‘Šè­¦ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_25-æœ‰å“ªäº›æ–¹å¼ä¼˜åŒ–æ…¢-sql"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_25-æœ‰å“ªäº›æ–¹å¼ä¼˜åŒ–æ…¢-sql"}},[e._v("#")]),e._v(" 25.æœ‰å“ªäº›æ–¹å¼ä¼˜åŒ–æ…¢ SQLï¼Ÿ")]),e._v(" "),_("p",[e._v("æ…¢ SQL çš„ä¼˜åŒ–ï¼Œä¸»è¦ä»ä¸¤ä¸ªæ–¹é¢è€ƒè™‘ï¼ŒSQL è¯­å¥æœ¬èº«çš„ä¼˜åŒ–ï¼Œä»¥åŠæ•°æ®åº“è®¾è®¡çš„ä¼˜åŒ–ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-e65e2428-a8f7-4381-9e15-c3e18b4c4d9c.jpg",alt:"SQL ä¼˜åŒ–"}})]),e._v(" "),_("h4",{attrs:{id:"é¿å…ä¸å¿…è¦çš„åˆ—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#é¿å…ä¸å¿…è¦çš„åˆ—"}},[e._v("#")]),e._v(" é¿å…ä¸å¿…è¦çš„åˆ—")]),e._v(" "),_("p",[e._v("è¿™ä¸ªæ˜¯è€ç”Ÿå¸¸è°ˆï¼Œä½†è¿˜æ˜¯ç»å¸¸ä¼šå‡ºçš„æƒ…å†µï¼ŒSQL æŸ¥è¯¢çš„æ—¶å€™ï¼Œåº”è¯¥åªæŸ¥è¯¢éœ€è¦çš„åˆ—ï¼Œè€Œä¸è¦åŒ…å«é¢å¤–çš„åˆ—ï¼Œåƒ"),_("code",[e._v("slect *")]),e._v(" è¿™ç§å†™æ³•åº”è¯¥å°½é‡é¿å…ã€‚")]),e._v(" "),_("h4",{attrs:{id:"åˆ†é¡µä¼˜åŒ–"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†é¡µä¼˜åŒ–"}},[e._v("#")]),e._v(" åˆ†é¡µä¼˜åŒ–")]),e._v(" "),_("p",[e._v("åœ¨æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œåˆ†é¡µæ¯”è¾ƒæ·±çš„æƒ…å†µä¸‹ï¼Œéœ€è¦è€ƒè™‘åˆ†é¡µçš„ä¼˜åŒ–ã€‚")]),e._v(" "),_("p",[e._v("ä¾‹å¦‚ï¼š")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("selectÂ *Â fromÂ tableÂ whereÂ typeÂ =Â 2Â andÂ levelÂ =Â 9Â orderÂ byÂ idÂ ascÂ limitÂ 190289,10;\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br")])]),_("p",[e._v("ä¼˜åŒ–æ–¹æ¡ˆï¼š")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("å»¶è¿Ÿå…³è”")])])]),e._v(" "),_("p",[e._v("å…ˆé€šè¿‡ where æ¡ä»¶æå–å‡ºä¸»é”®ï¼Œåœ¨å°†è¯¥è¡¨ä¸åŸæ•°æ®è¡¨å…³è”ï¼Œé€šè¿‡ä¸»é”® id æå–æ•°æ®è¡Œï¼Œè€Œä¸æ˜¯é€šè¿‡åŸæ¥çš„äºŒçº§ç´¢å¼•æå–æ•°æ®è¡Œ")]),e._v(" "),_("p",[e._v("ä¾‹å¦‚ï¼š")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("selectÂ a.*Â fromÂ tableÂ a,Â \nÂ (selectÂ idÂ fromÂ tableÂ whereÂ typeÂ =Â 2Â andÂ levelÂ =Â 9Â orderÂ byÂ idÂ ascÂ limitÂ 190289,10Â )Â b\nÂ whereÂ a.idÂ =Â b.id\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br"),_("span",{staticClass:"line-number"},[e._v("2")]),_("br"),_("span",{staticClass:"line-number"},[e._v("3")]),_("br")])]),_("ul",[_("li",[_("strong",[e._v("ä¹¦ç­¾æ–¹å¼")])])]),e._v(" "),_("p",[e._v("ä¹¦ç­¾æ–¹å¼å°±æ˜¯æ‰¾åˆ° limit ç¬¬ä¸€ä¸ªå‚æ•°å¯¹åº”çš„ä¸»é”®å€¼ï¼Œæ ¹æ®è¿™ä¸ªä¸»é”®å€¼å†å»è¿‡æ»¤å¹¶ limit")]),e._v(" "),_("p",[e._v("ä¾‹å¦‚ï¼š")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("Â Â selectÂ *Â fromÂ tableÂ whereÂ idÂ >\nÂ Â (selectÂ *Â fromÂ tableÂ whereÂ typeÂ =Â 2Â andÂ levelÂ =Â 9Â orderÂ byÂ idÂ ascÂ limitÂ 190\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br"),_("span",{staticClass:"line-number"},[e._v("2")]),_("br")])]),_("h4",{attrs:{id:"ç´¢å¼•ä¼˜åŒ–"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ç´¢å¼•ä¼˜åŒ–"}},[e._v("#")]),e._v(" ç´¢å¼•ä¼˜åŒ–")]),e._v(" "),_("p",[e._v("åˆç†åœ°è®¾è®¡å’Œä½¿ç”¨ç´¢å¼•ï¼Œæ˜¯ä¼˜åŒ–æ…¢ SQL çš„åˆ©å™¨ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("åˆ©ç”¨è¦†ç›–ç´¢å¼•")])]),e._v(" "),_("p",[e._v("InnoDB ä½¿ç”¨éä¸»é”®ç´¢å¼•æŸ¥è¯¢æ•°æ®æ—¶ä¼šå›è¡¨ï¼Œä½†æ˜¯å¦‚æœç´¢å¼•çš„å¶èŠ‚ç‚¹ä¸­å·²ç»åŒ…å«è¦æŸ¥è¯¢çš„å­—æ®µï¼Œé‚£å®ƒæ²¡æœ‰å¿…è¦å†å›è¡¨æŸ¥è¯¢äº†ï¼Œè¿™å°±å«è¦†ç›–ç´¢å¼•")]),e._v(" "),_("p",[e._v("ä¾‹å¦‚å¯¹äºå¦‚ä¸‹æŸ¥è¯¢ï¼š")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("selectÂ nameÂ fromÂ testÂ whereÂ city='ä¸Šæµ·'\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br")])]),_("p",[e._v("æˆ‘ä»¬å°†è¢«æŸ¥è¯¢çš„å­—æ®µå»ºç«‹åˆ°è”åˆç´¢å¼•ä¸­ï¼Œè¿™æ ·æŸ¥è¯¢ç»“æœå°±å¯ä»¥ç›´æ¥ä»ç´¢å¼•ä¸­è·å–")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("alterÂ tableÂ testÂ addÂ indexÂ idx_city_nameÂ (city,Â name);\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br")])]),_("p",[_("strong",[e._v("ä½ç‰ˆæœ¬é¿å…ä½¿ç”¨ or æŸ¥è¯¢")])]),e._v(" "),_("p",[e._v("åœ¨ MySQL 5.0 ä¹‹å‰çš„ç‰ˆæœ¬è¦å°½é‡é¿å…ä½¿ç”¨ or æŸ¥è¯¢ï¼Œå¯ä»¥ä½¿ç”¨ union æˆ–è€…å­æŸ¥è¯¢æ¥æ›¿ä»£ï¼Œå› ä¸ºæ—©æœŸçš„ MySQL ç‰ˆæœ¬ä½¿ç”¨ or æŸ¥è¯¢å¯èƒ½ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œé«˜ç‰ˆæœ¬å¼•å…¥äº†ç´¢å¼•åˆå¹¶ï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("é¿å…ä½¿ç”¨ != æˆ–è€… <> æ“ä½œç¬¦")])]),e._v(" "),_("p",[e._v("SQL ä¸­ï¼Œä¸ç­‰äºæ“ä½œç¬¦ä¼šå¯¼è‡´æŸ¥è¯¢å¼•æ“æ”¾å¼ƒæŸ¥è¯¢ç´¢å¼•ï¼Œå¼•èµ·å…¨è¡¨æ‰«æï¼Œå³ä½¿æ¯”è¾ƒçš„å­—æ®µä¸Šæœ‰ç´¢å¼•")]),e._v(" "),_("p",[e._v("è§£å†³æ–¹æ³•ï¼šé€šè¿‡æŠŠä¸ç­‰äºæ“ä½œç¬¦æ”¹æˆ orï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼•ï¼Œé¿å…å…¨è¡¨æ‰«æ")]),e._v(" "),_("p",[e._v("ä¾‹å¦‚ï¼ŒæŠŠ"),_("code",[e._v("column<>â€™aaaâ€™ï¼Œæ”¹æˆcolumn>â€™aaaâ€™ or column<â€™aaaâ€™")]),e._v("ï¼Œå°±å¯ä»¥ä½¿ç”¨ç´¢å¼•äº†")]),e._v(" "),_("p",[_("strong",[e._v("é€‚å½“ä½¿ç”¨å‰ç¼€ç´¢å¼•")])]),e._v(" "),_("p",[e._v("é€‚å½“åœ°ä½¿ç”¨å‰ç¼€æ‰€äº‘ï¼Œå¯ä»¥é™ä½ç´¢å¼•çš„ç©ºé—´å ç”¨ï¼Œæé«˜ç´¢å¼•çš„æŸ¥è¯¢æ•ˆç‡ã€‚")]),e._v(" "),_("p",[e._v("æ¯”å¦‚ï¼Œé‚®ç®±çš„åç¼€éƒ½æ˜¯å›ºå®šçš„â€œ"),_("code",[e._v("@xxx.com")]),e._v("â€ï¼Œé‚£ä¹ˆç±»ä¼¼è¿™ç§åé¢å‡ ä½ä¸ºå›ºå®šå€¼çš„å­—æ®µå°±éå¸¸é€‚åˆå®šä¹‰ä¸ºå‰ç¼€ç´¢å¼•")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("alterÂ tableÂ testÂ addÂ indexÂ index2(email(6));\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br")])]),_("p",[e._v("PS:éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‰ç¼€ç´¢å¼•ä¹Ÿå­˜åœ¨ç¼ºç‚¹ï¼ŒMySQL æ— æ³•åˆ©ç”¨å‰ç¼€ç´¢å¼•åš order by å’Œ group by æ“ä½œï¼Œä¹Ÿæ— æ³•ä½œä¸ºè¦†ç›–ç´¢å¼•")]),e._v(" "),_("p",[_("strong",[e._v("é¿å…åˆ—ä¸Šå‡½æ•°è¿ç®—")])]),e._v(" "),_("p",[e._v("è¦é¿å…åœ¨åˆ—å­—æ®µä¸Šè¿›è¡Œç®—æœ¯è¿ç®—æˆ–å…¶ä»–è¡¨è¾¾å¼è¿ç®—ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´å­˜å‚¨å¼•æ“æ— æ³•æ­£ç¡®ä½¿ç”¨ç´¢å¼•ï¼Œä»è€Œå½±å“äº†æŸ¥è¯¢çš„æ•ˆç‡")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("selectÂ *Â fromÂ testÂ whereÂ idÂ +Â 1Â =Â 50;\nselectÂ *Â fromÂ testÂ whereÂ month(updateTime)Â =Â 7;\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br"),_("span",{staticClass:"line-number"},[e._v("2")]),_("br")])]),_("p",[_("strong",[e._v("æ­£ç¡®ä½¿ç”¨è”åˆç´¢å¼•")])]),e._v(" "),_("p",[e._v("ä½¿ç”¨è”åˆç´¢å¼•çš„æ—¶å€™ï¼Œæ³¨æ„æœ€å·¦åŒ¹é…åŸåˆ™ã€‚")]),e._v(" "),_("h4",{attrs:{id:"join-ä¼˜åŒ–"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#join-ä¼˜åŒ–"}},[e._v("#")]),e._v(" JOIN ä¼˜åŒ–")]),e._v(" "),_("p",[_("strong",[e._v("ä¼˜åŒ–å­æŸ¥è¯¢")])]),e._v(" "),_("p",[e._v("å°½é‡ä½¿ç”¨ Join è¯­å¥æ¥æ›¿ä»£å­æŸ¥è¯¢ï¼Œå› ä¸ºå­æŸ¥è¯¢æ˜¯åµŒå¥—æŸ¥è¯¢ï¼Œè€ŒåµŒå¥—æŸ¥è¯¢ä¼šæ–°åˆ›å»ºä¸€å¼ ä¸´æ—¶è¡¨ï¼Œè€Œä¸´æ—¶è¡¨çš„åˆ›å»ºä¸é”€æ¯ä¼šå ç”¨ä¸€å®šçš„ç³»ç»Ÿèµ„æºä»¥åŠèŠ±è´¹ä¸€å®šçš„æ—¶é—´ï¼ŒåŒæ—¶å¯¹äºè¿”å›ç»“æœé›†æ¯”è¾ƒå¤§çš„å­æŸ¥è¯¢ï¼Œå…¶å¯¹æŸ¥è¯¢æ€§èƒ½çš„å½±å“æ›´å¤§")]),e._v(" "),_("p",[_("strong",[e._v("å°è¡¨é©±åŠ¨å¤§è¡¨")])]),e._v(" "),_("p",[e._v("å…³è”æŸ¥è¯¢çš„æ—¶å€™è¦æ‹¿å°è¡¨å»é©±åŠ¨å¤§è¡¨ï¼Œå› ä¸ºå…³è”çš„æ—¶å€™ï¼ŒMySQL å†…éƒ¨ä¼šéå†é©±åŠ¨è¡¨ï¼Œå†å»è¿æ¥è¢«é©±åŠ¨è¡¨ã€‚")]),e._v(" "),_("p",[e._v("æ¯”å¦‚ left joinï¼Œå·¦è¡¨å°±æ˜¯é©±åŠ¨è¡¨ï¼ŒA è¡¨å°äº B è¡¨ï¼Œå»ºç«‹è¿æ¥çš„æ¬¡æ•°å°±å°‘ï¼ŒæŸ¥è¯¢é€Ÿåº¦å°±è¢«åŠ å¿«äº†ã€‚")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("Â selectÂ nameÂ fromÂ AÂ leftÂ joinÂ BÂ ;\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br")])]),_("p",[_("strong",[e._v("é€‚å½“å¢åŠ å†—ä½™å­—æ®µ")])]),e._v(" "),_("p",[e._v("å¢åŠ å†—ä½™å­—æ®µå¯ä»¥å‡å°‘å¤§é‡çš„è¿è¡¨æŸ¥è¯¢ï¼Œå› ä¸ºå¤šå¼ è¡¨çš„è¿è¡¨æŸ¥è¯¢æ€§èƒ½å¾ˆä½ï¼Œæ‰€æœ‰å¯ä»¥é€‚å½“çš„å¢åŠ å†—ä½™å­—æ®µï¼Œä»¥å‡å°‘å¤šå¼ è¡¨çš„å…³è”æŸ¥è¯¢ï¼Œè¿™æ˜¯ä»¥ç©ºé—´æ¢æ—¶é—´çš„ä¼˜åŒ–ç­–ç•¥")]),e._v(" "),_("p",[_("strong",[e._v("é¿å…ä½¿ç”¨ JOIN å…³è”å¤ªå¤šçš„è¡¨")])]),e._v(" "),_("p",[e._v("ã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹è§„å®šä¸è¦ join è¶…è¿‡ä¸‰å¼ è¡¨ï¼Œç¬¬ä¸€ join å¤ªå¤šé™ä½æŸ¥è¯¢çš„é€Ÿåº¦ï¼Œç¬¬äºŒ join çš„ buffer ä¼šå ç”¨æ›´å¤šçš„å†…å­˜ã€‚")]),e._v(" "),_("p",[e._v("å¦‚æœä¸å¯é¿å…è¦ join å¤šå¼ è¡¨ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ•°æ®å¼‚æ„çš„æ–¹å¼å¼‚æ„åˆ° ES ä¸­æŸ¥è¯¢ã€‚")]),e._v(" "),_("h4",{attrs:{id:"æ’åºä¼˜åŒ–"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#æ’åºä¼˜åŒ–"}},[e._v("#")]),e._v(" æ’åºä¼˜åŒ–")]),e._v(" "),_("p",[_("strong",[e._v("åˆ©ç”¨ç´¢å¼•æ‰«æåšæ’åº")])]),e._v(" "),_("p",[e._v("MySQL æœ‰ä¸¤ç§æ–¹å¼ç”Ÿæˆæœ‰åºç»“æœï¼šå…¶ä¸€æ˜¯å¯¹ç»“æœé›†è¿›è¡Œæ’åºçš„æ“ä½œï¼Œå…¶äºŒæ˜¯æŒ‰ç…§ç´¢å¼•é¡ºåºæ‰«æå¾—å‡ºçš„ç»“æœè‡ªç„¶æ˜¯æœ‰åºçš„")]),e._v(" "),_("p",[e._v("ä½†æ˜¯å¦‚æœç´¢å¼•ä¸èƒ½è¦†ç›–æŸ¥è¯¢æ‰€éœ€åˆ—ï¼Œå°±ä¸å¾—ä¸æ¯æ‰«æä¸€æ¡è®°å½•å›è¡¨æŸ¥è¯¢ä¸€æ¬¡ï¼Œè¿™ä¸ªè¯»æ“ä½œæ˜¯éšæœº IOï¼Œé€šå¸¸ä¼šæ¯”é¡ºåºå…¨è¡¨æ‰«æè¿˜æ…¢")]),e._v(" "),_("p",[e._v("å› æ­¤ï¼Œåœ¨è®¾è®¡ç´¢å¼•æ—¶ï¼Œå°½å¯èƒ½ä½¿ç”¨åŒä¸€ä¸ªç´¢å¼•æ—¢æ»¡è¶³æ’åºåˆç”¨äºæŸ¥æ‰¾è¡Œ")]),e._v(" "),_("p",[e._v("ä¾‹å¦‚ï¼š")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("--å»ºç«‹ç´¢å¼•ï¼ˆdate,staff_id,customer_idï¼‰\nselectÂ staff_id,Â customer_idÂ fromÂ testÂ whereÂ dateÂ =Â '2010-01-01'Â orderÂ byÂ staff_id,customer_id;\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br"),_("span",{staticClass:"line-number"},[e._v("2")]),_("br")])]),_("p",[e._v("åªæœ‰å½“ç´¢å¼•çš„åˆ—é¡ºåºå’Œ ORDER BY å­å¥çš„é¡ºåºå®Œå…¨ä¸€è‡´ï¼Œå¹¶ä¸”æ‰€æœ‰åˆ—çš„æ’åºæ–¹å‘éƒ½ä¸€æ ·æ—¶ï¼Œæ‰èƒ½å¤Ÿä½¿ç”¨ç´¢å¼•æ¥å¯¹ç»“æœåšæ’åº")]),e._v(" "),_("h4",{attrs:{id:"union-ä¼˜åŒ–"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#union-ä¼˜åŒ–"}},[e._v("#")]),e._v(" UNION ä¼˜åŒ–")]),e._v(" "),_("p",[_("strong",[e._v("æ¡ä»¶ä¸‹æ¨")])]),e._v(" "),_("p",[e._v("MySQL å¤„ç† union çš„ç­–ç•¥æ˜¯å…ˆåˆ›å»ºä¸´æ—¶è¡¨ï¼Œç„¶åå°†å„ä¸ªæŸ¥è¯¢ç»“æœå¡«å……åˆ°ä¸´æ—¶è¡¨ä¸­æœ€åå†æ¥åšæŸ¥è¯¢ï¼Œå¾ˆå¤šä¼˜åŒ–ç­–ç•¥åœ¨ union æŸ¥è¯¢ä¸­éƒ½ä¼šå¤±æ•ˆï¼Œå› ä¸ºå®ƒæ— æ³•åˆ©ç”¨ç´¢å¼•")]),e._v(" "),_("p",[e._v("æœ€å¥½æ‰‹å·¥å°† whereã€limit ç­‰å­å¥ä¸‹æ¨åˆ° union çš„å„ä¸ªå­æŸ¥è¯¢ä¸­ï¼Œä»¥ä¾¿ä¼˜åŒ–å™¨å¯ä»¥å……åˆ†åˆ©ç”¨è¿™äº›æ¡ä»¶è¿›è¡Œä¼˜åŒ–")]),e._v(" "),_("p",[e._v("æ­¤å¤–ï¼Œé™¤éç¡®å®éœ€è¦æœåŠ¡å™¨å»é‡ï¼Œä¸€å®šè¦ä½¿ç”¨ union allï¼Œå¦‚æœä¸åŠ  all å…³é”®å­—ï¼ŒMySQL ä¼šç»™ä¸´æ—¶è¡¨åŠ ä¸Š distinct é€‰é¡¹ï¼Œè¿™ä¼šå¯¼è‡´å¯¹æ•´ä¸ªä¸´æ—¶è¡¨åšå”¯ä¸€æ€§æ£€æŸ¥ï¼Œä»£ä»·å¾ˆé«˜ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_26-æ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’-explain-å¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_26-æ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’-explain-å¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰"}},[e._v("#")]),e._v(" 26.æ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’ï¼ˆexplainï¼‰ï¼Œå¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰ï¼Ÿ")]),e._v(" "),_("p",[e._v("explain æ˜¯ sql ä¼˜åŒ–çš„åˆ©å™¨ï¼Œé™¤äº†ä¼˜åŒ–æ…¢ sqlï¼Œå¹³æ—¶çš„ sql ç¼–å†™ï¼Œä¹Ÿåº”è¯¥å…ˆ explainï¼ŒæŸ¥çœ‹ä¸€ä¸‹æ‰§è¡Œè®¡åˆ’ï¼Œçœ‹çœ‹æ˜¯å¦è¿˜æœ‰ä¼˜åŒ–çš„ç©ºé—´ã€‚")]),e._v(" "),_("p",[e._v("ç›´æ¥åœ¨ select è¯­å¥ä¹‹å‰å¢åŠ "),_("code",[e._v("explain")]),e._v(" å…³é”®å­—ï¼Œå°±ä¼šè¿”å›æ‰§è¡Œè®¡åˆ’çš„ä¿¡æ¯ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-77711553-bb7b-4580-968a-4a973e3a31ca.jpg",alt:""}})]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-e234658f-5672-4a8d-9a75-872b305a171d.jpg",alt:""}})]),e._v(" "),_("ol",[_("li",[_("strong",[e._v("id")]),e._v(" åˆ—ï¼šMySQL ä¼šä¸ºæ¯ä¸ª select è¯­å¥åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ id å€¼")]),e._v(" "),_("li",[_("strong",[e._v("select_type")]),e._v(" åˆ—ï¼ŒæŸ¥è¯¢çš„ç±»å‹ï¼Œæ ¹æ®å…³è”ã€unionã€å­æŸ¥è¯¢ç­‰ç­‰åˆ†ç±»ï¼Œå¸¸è§çš„æŸ¥è¯¢ç±»å‹æœ‰ SIMPLEã€PRIMARYã€‚")]),e._v(" "),_("li",[_("strong",[e._v("table")]),e._v(" åˆ—ï¼šè¡¨ç¤º explain çš„ä¸€è¡Œæ­£åœ¨è®¿é—®å“ªä¸ªè¡¨ã€‚")]),e._v(" "),_("li",[_("strong",[e._v("type")]),e._v(" åˆ—ï¼šæœ€é‡è¦çš„åˆ—ä¹‹ä¸€ã€‚è¡¨ç¤ºå…³è”ç±»å‹æˆ–è®¿é—®ç±»å‹ï¼Œå³ MySQL å†³å®šå¦‚ä½•æŸ¥æ‰¾è¡¨ä¸­çš„è¡Œã€‚")])]),e._v(" "),_("p",[e._v("æ€§èƒ½ä»æœ€ä¼˜åˆ°æœ€å·®åˆ†åˆ«ä¸ºï¼šsystem > const > eq_ref > ref > fulltext > ref_or_null > index_merge > unique_subquery > index_subquery > range > index > ALL")]),e._v(" "),_("ul",[_("li",[e._v("system")])]),e._v(" "),_("p",[_("code",[e._v("system")]),e._v("ï¼šå½“è¡¨ä»…æœ‰ä¸€è¡Œè®°å½•æ—¶(ç³»ç»Ÿè¡¨)ï¼Œæ•°æ®é‡å¾ˆå°‘ï¼Œå¾€å¾€ä¸éœ€è¦è¿›è¡Œç£ç›˜ IOï¼Œé€Ÿåº¦éå¸¸å¿«")]),e._v(" "),_("ul",[_("li",[e._v("const")])]),e._v(" "),_("p",[_("code",[e._v("const")]),e._v("ï¼šè¡¨ç¤ºæŸ¥è¯¢æ—¶å‘½ä¸­ "),_("code",[e._v("primary key")]),e._v(" ä¸»é”®æˆ–è€… "),_("code",[e._v("unique")]),e._v(" å”¯ä¸€ç´¢å¼•ï¼Œæˆ–è€…è¢«è¿æ¥çš„éƒ¨åˆ†æ˜¯ä¸€ä¸ªå¸¸é‡("),_("code",[e._v("const")]),e._v(")å€¼ã€‚è¿™ç±»æ‰«ææ•ˆç‡æé«˜ï¼Œè¿”å›æ•°æ®é‡å°‘ï¼Œé€Ÿåº¦éå¸¸å¿«ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("eq_ref")])]),e._v(" "),_("p",[_("code",[e._v("eq_ref")]),e._v("ï¼šæŸ¥è¯¢æ—¶å‘½ä¸­ä¸»é”®"),_("code",[e._v("primary key")]),e._v(" æˆ–è€… "),_("code",[e._v("unique key")]),e._v("ç´¢å¼•ï¼Œ "),_("code",[e._v("type")]),e._v(" å°±æ˜¯ "),_("code",[e._v("eq_ref")]),e._v("ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("ref_or_null")])]),e._v(" "),_("p",[_("code",[e._v("ref_or_null")]),e._v("ï¼šè¿™ç§è¿æ¥ç±»å‹ç±»ä¼¼äº refï¼ŒåŒºåˆ«åœ¨äº "),_("code",[e._v("MySQL")]),e._v("ä¼šé¢å¤–æœç´¢åŒ…å«"),_("code",[e._v("NULL")]),e._v("å€¼çš„è¡Œã€‚")]),e._v(" "),_("ul",[_("li",[e._v("index_merge")])]),e._v(" "),_("p",[_("code",[e._v("index_merge")]),e._v("ï¼šä½¿ç”¨äº†ç´¢å¼•åˆå¹¶ä¼˜åŒ–æ–¹æ³•ï¼ŒæŸ¥è¯¢ä½¿ç”¨äº†ä¸¤ä¸ªä»¥ä¸Šçš„ç´¢å¼•ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("unique_subquery")])]),e._v(" "),_("p",[_("code",[e._v("unique_subquery")]),e._v("ï¼šæ›¿æ¢ä¸‹é¢çš„ "),_("code",[e._v("IN")]),e._v("å­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢è¿”å›ä¸é‡å¤çš„é›†åˆã€‚")]),e._v(" "),_("ul",[_("li",[e._v("index_subquery")])]),e._v(" "),_("p",[_("code",[e._v("index_subquery")]),e._v("ï¼šåŒºåˆ«äº"),_("code",[e._v("unique_subquery")]),e._v("ï¼Œç”¨äºéå”¯ä¸€ç´¢å¼•ï¼Œå¯ä»¥è¿”å›é‡å¤å€¼ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("range")])]),e._v(" "),_("p",[_("code",[e._v("range")]),e._v("ï¼šä½¿ç”¨ç´¢å¼•é€‰æ‹©è¡Œï¼Œä»…æ£€ç´¢ç»™å®šèŒƒå›´å†…çš„è¡Œã€‚ç®€å•ç‚¹è¯´å°±æ˜¯é’ˆå¯¹ä¸€ä¸ªæœ‰ç´¢å¼•çš„å­—æ®µï¼Œç»™å®šèŒƒå›´æ£€ç´¢æ•°æ®ã€‚åœ¨"),_("code",[e._v("where")]),e._v("è¯­å¥ä¸­ä½¿ç”¨ "),_("code",[e._v("bettween...and")]),e._v("ã€"),_("code",[e._v("<")]),e._v("ã€"),_("code",[e._v(">")]),e._v("ã€"),_("code",[e._v("<=")]),e._v("ã€"),_("code",[e._v("in")]),e._v(" ç­‰æ¡ä»¶æŸ¥è¯¢ "),_("code",[e._v("type")]),e._v(" éƒ½æ˜¯ "),_("code",[e._v("range")]),e._v("ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("index")])]),e._v(" "),_("p",[_("code",[e._v("index")]),e._v("ï¼š"),_("code",[e._v("Index")]),e._v(" ä¸"),_("code",[e._v("ALL")]),e._v(" å…¶å®éƒ½æ˜¯è¯»å…¨è¡¨ï¼ŒåŒºåˆ«åœ¨äº"),_("code",[e._v("index")]),e._v("æ˜¯éå†ç´¢å¼•æ ‘è¯»å–ï¼Œè€Œ"),_("code",[e._v("ALL")]),e._v("æ˜¯ä»ç¡¬ç›˜ä¸­è¯»å–ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("ALL")])]),e._v(" "),_("p",[e._v("å°±ä¸ç”¨å¤šè¯´äº†ï¼Œå…¨è¡¨æ‰«æã€‚")]),e._v(" "),_("ol",{attrs:{start:"6"}},[_("li",[_("strong",[e._v("possible_keys")]),e._v(" åˆ—ï¼šæ˜¾ç¤ºæŸ¥è¯¢å¯èƒ½ä½¿ç”¨å“ªäº›ç´¢å¼•æ¥æŸ¥æ‰¾ï¼Œä½¿ç”¨ç´¢å¼•ä¼˜åŒ– sql çš„æ—¶å€™æ¯”è¾ƒé‡è¦ã€‚")]),e._v(" "),_("li",[_("strong",[e._v("key")]),e._v(" åˆ—ï¼šè¿™ä¸€åˆ—æ˜¾ç¤º mysql å®é™…é‡‡ç”¨å“ªä¸ªç´¢å¼•æ¥ä¼˜åŒ–å¯¹è¯¥è¡¨çš„è®¿é—®ï¼Œåˆ¤æ–­ç´¢å¼•æ˜¯å¦å¤±æ•ˆçš„æ—¶å€™å¸¸ç”¨ã€‚")]),e._v(" "),_("li",[_("strong",[e._v("key_len")]),e._v(" åˆ—ï¼šæ˜¾ç¤ºäº† MySQL ä½¿ç”¨")]),e._v(" "),_("li",[_("strong",[e._v("ref")]),e._v(" åˆ—ï¼šref åˆ—å±•ç¤ºçš„å°±æ˜¯ä¸ç´¢å¼•åˆ—ä½œç­‰å€¼åŒ¹é…çš„å€¼ï¼Œå¸¸è§çš„æœ‰ï¼šconstï¼ˆå¸¸é‡ï¼‰ï¼Œfuncï¼ŒNULLï¼Œå­—æ®µåã€‚")]),e._v(" "),_("li",[_("strong",[e._v("rows")]),e._v(" åˆ—ï¼šè¿™ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„å­—æ®µï¼ŒMySQL æŸ¥è¯¢ä¼˜åŒ–å™¨æ ¹æ®ç»Ÿè®¡ä¿¡æ¯ï¼Œä¼°ç®— SQL è¦æŸ¥åˆ°ç»“æœé›†éœ€è¦æ‰«æè¯»å–çš„æ•°æ®è¡Œæ•°ï¼Œè¿™ä¸ªå€¼éå¸¸ç›´è§‚æ˜¾ç¤º SQL çš„æ•ˆç‡å¥½åï¼ŒåŸåˆ™ä¸Š rows è¶Šå°‘è¶Šå¥½ã€‚")]),e._v(" "),_("li",[_("strong",[e._v("Extra")]),e._v(" åˆ—ï¼šæ˜¾ç¤ºä¸é€‚åˆåœ¨å…¶å®ƒåˆ—çš„é¢å¤–ä¿¡æ¯ï¼Œè™½ç„¶å«é¢å¤–ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›é‡è¦çš„ä¿¡æ¯ï¼š")])]),e._v(" "),_("ul",[_("li",[e._v("Using indexï¼šè¡¨ç¤º MySQL å°†ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼Œä»¥é¿å…å›è¡¨")]),e._v(" "),_("li",[e._v("Using whereï¼šè¡¨ç¤ºä¼šåœ¨å­˜å‚¨å¼•æ“æ£€ç´¢ä¹‹åå†è¿›è¡Œè¿‡æ»¤")]),e._v(" "),_("li",[e._v("Using temporary ï¼šè¡¨ç¤ºå¯¹æŸ¥è¯¢ç»“æœæ’åºæ—¶ä¼šä½¿ç”¨ä¸€ä¸ªä¸´æ—¶è¡¨ã€‚")])]),e._v(" "),_("h2",{attrs:{id:"ç´¢å¼•"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ç´¢å¼•"}},[e._v("#")]),e._v(" ç´¢å¼•")]),e._v(" "),_("p",[e._v("ç´¢å¼•å¯ä»¥è¯´æ˜¯ MySQL é¢è¯•ä¸­çš„é‡ä¸­ä¹‹é‡ï¼Œä¸€å®šè¦å½»åº•æ‹¿ä¸‹ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_27-èƒ½ç®€å•è¯´ä¸€ä¸‹ç´¢å¼•çš„åˆ†ç±»å—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_27-èƒ½ç®€å•è¯´ä¸€ä¸‹ç´¢å¼•çš„åˆ†ç±»å—"}},[e._v("#")]),e._v(" 27.èƒ½ç®€å•è¯´ä¸€ä¸‹ç´¢å¼•çš„åˆ†ç±»å—ï¼Ÿ")]),e._v(" "),_("p",[e._v("ä»ä¸‰ä¸ªä¸åŒç»´åº¦å¯¹ç´¢å¼•åˆ†ç±»ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-f650c0b8-9ebe-4e17-ac7e-b8eb121756a1.jpg",alt:"ç´¢å¼•åˆ†ç±»"}})]),e._v(" "),_("p",[e._v("ä¾‹å¦‚ä»åŸºæœ¬ä½¿ç”¨ä½¿ç”¨çš„è§’åº¦æ¥è®²ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("ä¸»é”®ç´¢å¼•: InnoDB ä¸»é”®æ˜¯é»˜è®¤çš„ç´¢å¼•ï¼Œæ•°æ®åˆ—ä¸å…è®¸é‡å¤ï¼Œä¸å…è®¸ä¸º NULLï¼Œä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ã€‚")]),e._v(" "),_("li",[e._v("å”¯ä¸€ç´¢å¼•: æ•°æ®åˆ—ä¸å…è®¸é‡å¤ï¼Œå…è®¸ä¸º NULL å€¼ï¼Œä¸€ä¸ªè¡¨å…è®¸å¤šä¸ªåˆ—åˆ›å»ºå”¯ä¸€ç´¢å¼•ã€‚")]),e._v(" "),_("li",[e._v("æ™®é€šç´¢å¼•: åŸºæœ¬çš„ç´¢å¼•ç±»å‹ï¼Œæ²¡æœ‰å”¯ä¸€æ€§çš„é™åˆ¶ï¼Œå…è®¸ä¸º NULL å€¼ã€‚")]),e._v(" "),_("li",[e._v("ç»„åˆç´¢å¼•ï¼šå¤šåˆ—å€¼ç»„æˆä¸€ä¸ªç´¢å¼•ï¼Œç”¨äºç»„åˆæœç´¢ï¼Œæ•ˆç‡å¤§äºç´¢å¼•åˆå¹¶")])]),e._v(" "),_("h3",{attrs:{id:"_28-ä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼•ä¼šåŠ å¿«æŸ¥è¯¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_28-ä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼•ä¼šåŠ å¿«æŸ¥è¯¢"}},[e._v("#")]),e._v(" 28.ä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼•ä¼šåŠ å¿«æŸ¥è¯¢ï¼Ÿ")]),e._v(" "),_("p",[e._v("ä¼ ç»Ÿçš„æŸ¥è¯¢æ–¹æ³•ï¼Œæ˜¯æŒ‰ç…§è¡¨çš„é¡ºåºéå†çš„ï¼Œä¸è®ºæŸ¥è¯¢å‡ æ¡æ•°æ®ï¼ŒMySQL éœ€è¦å°†è¡¨çš„æ•°æ®ä»å¤´åˆ°å°¾éå†ä¸€éã€‚")]),e._v(" "),_("p",[e._v("åœ¨æˆ‘ä»¬æ·»åŠ å®Œç´¢å¼•ä¹‹åï¼ŒMySQL ä¸€èˆ¬é€šè¿‡ BTREE ç®—æ³•ç”Ÿæˆä¸€ä¸ªç´¢å¼•æ–‡ä»¶ï¼Œåœ¨æŸ¥è¯¢æ•°æ®åº“æ—¶ï¼Œæ‰¾åˆ°ç´¢å¼•æ–‡ä»¶è¿›è¡Œéå†ï¼Œåœ¨æ¯”è¾ƒå°çš„ç´¢å¼•æ•°æ®é‡ŒæŸ¥æ‰¾ï¼Œç„¶åæ˜ å°„åˆ°å¯¹åº”çš„æ•°æ®ï¼Œèƒ½å¤§å¹…æå‡æŸ¥æ‰¾çš„æ•ˆç‡ã€‚")]),e._v(" "),_("p",[e._v("å’Œæˆ‘ä»¬é€šè¿‡ä¹¦çš„ç›®å½•ï¼Œå»æŸ¥æ‰¾å¯¹åº”çš„å†…å®¹ï¼Œä¸€æ ·çš„é“ç†ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-6b9c9901-9bf3-46ed-a5c4-c1b781965c1e.jpg",alt:"ç´¢å¼•åŠ å¿«æŸ¥è¯¢è¿œç¦»"}})]),e._v(" "),_("h3",{attrs:{id:"_29-åˆ›å»ºç´¢å¼•æœ‰å“ªäº›æ³¨æ„ç‚¹"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_29-åˆ›å»ºç´¢å¼•æœ‰å“ªäº›æ³¨æ„ç‚¹"}},[e._v("#")]),e._v(" 29.åˆ›å»ºç´¢å¼•æœ‰å“ªäº›æ³¨æ„ç‚¹ï¼Ÿ")]),e._v(" "),_("p",[e._v("ç´¢å¼•è™½ç„¶æ˜¯ sql æ€§èƒ½ä¼˜åŒ–çš„åˆ©å™¨ï¼Œä½†æ˜¯ç´¢å¼•çš„ç»´æŠ¤ä¹Ÿæ˜¯éœ€è¦æˆæœ¬çš„ï¼Œæ‰€ä»¥åˆ›å»ºç´¢å¼•ï¼Œä¹Ÿè¦æ³¨æ„ï¼š")]),e._v(" "),_("ol",[_("li",[e._v("ç´¢å¼•åº”è¯¥å»ºåœ¨æŸ¥è¯¢åº”ç”¨é¢‘ç¹çš„å­—æ®µ")])]),e._v(" "),_("p",[e._v("åœ¨ç”¨äº where åˆ¤æ–­ã€ order æ’åºå’Œ join çš„(on)å­—æ®µä¸Šåˆ›å»ºç´¢å¼•ã€‚")]),e._v(" "),_("ol",{attrs:{start:"2"}},[_("li",[e._v("ç´¢å¼•çš„ä¸ªæ•°åº”è¯¥é€‚é‡")])]),e._v(" "),_("p",[e._v("ç´¢å¼•éœ€è¦å ç”¨ç©ºé—´ï¼›æ›´æ–°æ—¶å€™ä¹Ÿéœ€è¦ç»´æŠ¤ã€‚")]),e._v(" "),_("ol",{attrs:{start:"3"}},[_("li",[e._v("åŒºåˆ†åº¦ä½çš„å­—æ®µï¼Œä¾‹å¦‚æ€§åˆ«ï¼Œä¸è¦å»ºç´¢å¼•ã€‚")])]),e._v(" "),_("p",[e._v("ç¦»æ•£åº¦å¤ªä½çš„å­—æ®µï¼Œæ‰«æçš„è¡Œæ•°é™ä½çš„æœ‰é™ã€‚")]),e._v(" "),_("ol",{attrs:{start:"4"}},[_("li",[e._v("é¢‘ç¹æ›´æ–°çš„å€¼ï¼Œä¸è¦ä½œä¸ºä¸»é”®æˆ–è€…ç´¢å¼•")])]),e._v(" "),_("p",[e._v("ç»´æŠ¤ç´¢å¼•æ–‡ä»¶éœ€è¦æˆæœ¬ï¼›è¿˜ä¼šå¯¼è‡´é¡µåˆ†è£‚ï¼ŒIO æ¬¡æ•°å¢å¤šã€‚")]),e._v(" "),_("ol",{attrs:{start:"5"}},[_("li",[e._v("ç»„åˆç´¢å¼•æŠŠæ•£åˆ—æ€§é«˜(åŒºåˆ†åº¦é«˜)çš„å€¼æ”¾åœ¨å‰é¢")])]),e._v(" "),_("p",[e._v("ä¸ºäº†æ»¡è¶³æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™")]),e._v(" "),_("ol",{attrs:{start:"6"}},[_("li",[e._v("åˆ›å»ºç»„åˆç´¢å¼•ï¼Œè€Œä¸æ˜¯ä¿®æ”¹å•åˆ—ç´¢å¼•ã€‚")])]),e._v(" "),_("p",[e._v("ç»„åˆç´¢å¼•ä»£æ›¿å¤šä¸ªå•åˆ—ç´¢å¼•ï¼ˆå¯¹äºå•åˆ—ç´¢å¼•ï¼ŒMySQL åŸºæœ¬åªèƒ½ä½¿ç”¨ä¸€ä¸ªç´¢å¼•ï¼Œæ‰€ä»¥ç»å¸¸ä½¿ç”¨å¤šä¸ªæ¡ä»¶æŸ¥è¯¢æ—¶æ›´é€‚åˆä½¿ç”¨ç»„åˆç´¢å¼•ï¼‰")]),e._v(" "),_("ol",{attrs:{start:"7"}},[_("li",[e._v("è¿‡é•¿çš„å­—æ®µï¼Œä½¿ç”¨å‰ç¼€ç´¢å¼•ã€‚å½“å­—æ®µå€¼æ¯”è¾ƒé•¿çš„æ—¶å€™ï¼Œå»ºç«‹ç´¢å¼•ä¼šæ¶ˆè€—å¾ˆå¤šçš„ç©ºé—´ï¼Œæœç´¢èµ·æ¥ä¹Ÿä¼šå¾ˆæ…¢ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æˆªå–å­—æ®µçš„å‰é¢ä¸€éƒ¨åˆ†å†…å®¹å»ºç«‹ç´¢å¼•ï¼Œè¿™ä¸ªå°±å«å‰ç¼€ç´¢å¼•ã€‚")]),e._v(" "),_("li",[e._v("ä¸å»ºè®®ç”¨æ— åºçš„å€¼(ä¾‹å¦‚èº«ä»½è¯ã€UUID )ä½œä¸ºç´¢å¼•")])]),e._v(" "),_("p",[e._v("å½“ä¸»é”®å…·æœ‰ä¸ç¡®å®šæ€§ï¼Œä¼šé€ æˆå¶å­èŠ‚ç‚¹é¢‘ç¹åˆ†è£‚ï¼Œå‡ºç°ç£ç›˜å­˜å‚¨çš„ç¢ç‰‡åŒ–")]),e._v(" "),_("h3",{attrs:{id:"_30-ç´¢å¼•å“ªäº›æƒ…å†µä¸‹ä¼šå¤±æ•ˆå‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_30-ç´¢å¼•å“ªäº›æƒ…å†µä¸‹ä¼šå¤±æ•ˆå‘¢"}},[e._v("#")]),e._v(" 30.ç´¢å¼•å“ªäº›æƒ…å†µä¸‹ä¼šå¤±æ•ˆå‘¢ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("æŸ¥è¯¢æ¡ä»¶åŒ…å« orï¼Œå¯èƒ½å¯¼è‡´ç´¢å¼•å¤±æ•ˆ")]),e._v(" "),_("li",[e._v("å¦‚æœå­—æ®µç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œwhere æ—¶ä¸€å®šç”¨å¼•å·æ‹¬èµ·æ¥ï¼Œå¦åˆ™ä¼šå› ä¸ºéšå¼ç±»å‹è½¬æ¢ï¼Œç´¢å¼•å¤±æ•ˆ")]),e._v(" "),_("li",[e._v("like é€šé…ç¬¦å¯èƒ½å¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚")]),e._v(" "),_("li",[e._v("è”åˆç´¢å¼•ï¼ŒæŸ¥è¯¢æ—¶çš„æ¡ä»¶åˆ—ä¸æ˜¯è”åˆç´¢å¼•ä¸­çš„ç¬¬ä¸€ä¸ªåˆ—ï¼Œç´¢å¼•å¤±æ•ˆã€‚")]),e._v(" "),_("li",[e._v("åœ¨ç´¢å¼•åˆ—ä¸Šä½¿ç”¨ mysql çš„å†…ç½®å‡½æ•°ï¼Œç´¢å¼•å¤±æ•ˆã€‚")]),e._v(" "),_("li",[e._v("å¯¹ç´¢å¼•åˆ—è¿ç®—ï¼ˆå¦‚ï¼Œ+ã€-ã€*ã€/ï¼‰ï¼Œç´¢å¼•å¤±æ•ˆã€‚")]),e._v(" "),_("li",[e._v("ç´¢å¼•å­—æ®µä¸Šä½¿ç”¨ï¼ˆï¼= æˆ–è€… < >ï¼Œnot inï¼‰æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚")]),e._v(" "),_("li",[e._v("ç´¢å¼•å­—æ®µä¸Šä½¿ç”¨ is nullï¼Œ is not nullï¼Œå¯èƒ½å¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚")]),e._v(" "),_("li",[e._v("å·¦è¿æ¥æŸ¥è¯¢æˆ–è€…å³è¿æ¥æŸ¥è¯¢æŸ¥è¯¢å…³è”çš„å­—æ®µç¼–ç æ ¼å¼ä¸ä¸€æ ·ï¼Œå¯èƒ½å¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚")]),e._v(" "),_("li",[e._v("MySQL ä¼˜åŒ–å™¨ä¼°è®¡ä½¿ç”¨å…¨è¡¨æ‰«æè¦æ¯”ä½¿ç”¨ç´¢å¼•å¿«,åˆ™ä¸ä½¿ç”¨ç´¢å¼•ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_31-ç´¢å¼•ä¸é€‚åˆå“ªäº›åœºæ™¯å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_31-ç´¢å¼•ä¸é€‚åˆå“ªäº›åœºæ™¯å‘¢"}},[e._v("#")]),e._v(" 31.ç´¢å¼•ä¸é€‚åˆå“ªäº›åœºæ™¯å‘¢ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("æ•°æ®é‡æ¯”è¾ƒå°‘çš„è¡¨ä¸é€‚åˆåŠ ç´¢å¼•")]),e._v(" "),_("li",[e._v("æ›´æ–°æ¯”è¾ƒé¢‘ç¹çš„å­—æ®µä¹Ÿä¸é€‚åˆåŠ ç´¢å¼•")]),e._v(" "),_("li",[e._v("ç¦»æ•£ä½çš„å­—æ®µä¸é€‚åˆåŠ ç´¢å¼•ï¼ˆå¦‚æ€§åˆ«ï¼‰")])]),e._v(" "),_("h3",{attrs:{id:"_32-ç´¢å¼•æ˜¯ä¸æ˜¯å»ºçš„è¶Šå¤šè¶Šå¥½å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_32-ç´¢å¼•æ˜¯ä¸æ˜¯å»ºçš„è¶Šå¤šè¶Šå¥½å‘¢"}},[e._v("#")]),e._v(" 32.ç´¢å¼•æ˜¯ä¸æ˜¯å»ºçš„è¶Šå¤šè¶Šå¥½å‘¢ï¼Ÿ")]),e._v(" "),_("p",[e._v("å½“ç„¶ä¸æ˜¯ã€‚")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("ç´¢å¼•ä¼šå æ®ç£ç›˜ç©ºé—´")])]),e._v(" "),_("li",[_("strong",[e._v("ç´¢å¼•è™½ç„¶ä¼šæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œä½†æ˜¯ä¼šé™ä½æ›´æ–°è¡¨çš„æ•ˆç‡")]),e._v("ã€‚æ¯”å¦‚æ¯æ¬¡å¯¹è¡¨è¿›è¡Œå¢åˆ æ”¹æ“ä½œï¼ŒMySQL ä¸ä»…è¦ä¿å­˜æ•°æ®ï¼Œè¿˜æœ‰ä¿å­˜æˆ–è€…æ›´æ–°å¯¹åº”çš„ç´¢å¼•æ–‡ä»¶ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_33-mysql-ç´¢å¼•ç”¨çš„ä»€ä¹ˆæ•°æ®ç»“æ„äº†è§£å—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_33-mysql-ç´¢å¼•ç”¨çš„ä»€ä¹ˆæ•°æ®ç»“æ„äº†è§£å—"}},[e._v("#")]),e._v(" 33.MySQL ç´¢å¼•ç”¨çš„ä»€ä¹ˆæ•°æ®ç»“æ„äº†è§£å—ï¼Ÿ")]),e._v(" "),_("p",[e._v("MySQL çš„é»˜è®¤å­˜å‚¨å¼•æ“æ˜¯ InnoDBï¼Œå®ƒé‡‡ç”¨çš„æ˜¯ B+æ ‘ç»“æ„çš„ç´¢å¼•ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("B+æ ‘ï¼šåªæœ‰å¶å­èŠ‚ç‚¹æ‰ä¼šå­˜å‚¨æ•°æ®ï¼Œéå¶å­èŠ‚ç‚¹åªå­˜å‚¨é”®å€¼ã€‚å¶å­èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨åŒå‘æŒ‡é’ˆè¿æ¥ï¼Œæœ€åº•å±‚çš„å¶å­èŠ‚ç‚¹å½¢æˆäº†ä¸€ä¸ªåŒå‘æœ‰åºé“¾è¡¨ã€‚")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-0a47bec7-1cf2-47d7-94e2-3cd82ce806c7.jpg",alt:"B+æ ‘ç´¢å¼•"}})]),e._v(" "),_("p",[e._v("åœ¨è¿™å¼ å›¾é‡Œï¼Œæœ‰ä¸¤ä¸ªé‡ç‚¹ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("æœ€å¤–é¢çš„æ–¹å—ï¼Œçš„å—æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸€ä¸ªç£ç›˜å—ï¼Œå¯ä»¥çœ‹åˆ°æ¯ä¸ªç£ç›˜å—åŒ…å«å‡ ä¸ªæ•°æ®é¡¹ï¼ˆç²‰è‰²æ‰€ç¤ºï¼‰å’ŒæŒ‡é’ˆï¼ˆé»„è‰²/ç°è‰²æ‰€ç¤ºï¼‰ï¼Œå¦‚æ ¹èŠ‚ç‚¹ç£ç›˜åŒ…å«æ•°æ®é¡¹ 17 å’Œ 35ï¼ŒåŒ…å«æŒ‡é’ˆ P1ã€P2ã€P3ï¼ŒP1 è¡¨ç¤ºå°äº 17 çš„ç£ç›˜å—ï¼ŒP2 è¡¨ç¤ºåœ¨ 17 å’Œ 35 ä¹‹é—´çš„ç£ç›˜å—ï¼ŒP3 è¡¨ç¤ºå¤§äº 35 çš„ç£ç›˜å—ã€‚çœŸå®çš„æ•°æ®å­˜åœ¨äºå¶å­èŠ‚ç‚¹å³ 3ã€4ã€5â€¦â€¦ã€65ã€‚éå¶å­èŠ‚ç‚¹åªä¸å­˜å‚¨çœŸå®çš„æ•°æ®ï¼Œåªå­˜å‚¨æŒ‡å¼•æœç´¢æ–¹å‘çš„æ•°æ®é¡¹ï¼Œå¦‚ 17ã€35 å¹¶ä¸çœŸå®å­˜åœ¨äºæ•°æ®è¡¨ä¸­ã€‚")]),e._v(" "),_("li",[e._v("å¶å­èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨åŒå‘æŒ‡é’ˆè¿æ¥ï¼Œæœ€åº•å±‚çš„å¶å­èŠ‚ç‚¹å½¢æˆäº†ä¸€ä¸ªåŒå‘æœ‰åºé“¾è¡¨ï¼Œå¯ä»¥è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_34-é‚£ä¸€æ£µ-b-æ ‘èƒ½å­˜å‚¨å¤šå°‘æ¡æ•°æ®å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_34-é‚£ä¸€æ£µ-b-æ ‘èƒ½å­˜å‚¨å¤šå°‘æ¡æ•°æ®å‘¢"}},[e._v("#")]),e._v(" 34.é‚£ä¸€æ£µ B+æ ‘èƒ½å­˜å‚¨å¤šå°‘æ¡æ•°æ®å‘¢ï¼Ÿ")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-16f3523d-20b0-4376-908d-ac40b329768f.jpg",alt:"B+æ ‘å­˜å‚¨æ•°æ®æ¡æ•°"}})]),e._v(" "),_("p",[e._v("å‡è®¾ç´¢å¼•å­—æ®µæ˜¯ bigint ç±»å‹ï¼Œé•¿åº¦ä¸º 8 å­—èŠ‚ã€‚æŒ‡é’ˆå¤§å°åœ¨ InnoDB æºç ä¸­è®¾ç½®ä¸º 6 å­—èŠ‚ï¼Œè¿™æ ·ä¸€å…± 14 å­—èŠ‚ã€‚éå¶å­èŠ‚ç‚¹(ä¸€é¡µ)å¯ä»¥å­˜å‚¨ 16384/14=1170 ä¸ªè¿™æ ·çš„ å•å…ƒ(é”®å€¼+æŒ‡é’ˆ)ï¼Œä»£è¡¨æœ‰ 1170 ä¸ªæŒ‡é’ˆã€‚")]),e._v(" "),_("p",[e._v("æ ‘æ·±åº¦ä¸º 2 çš„æ—¶å€™ï¼Œæœ‰ 1170^2 ä¸ªå¶å­èŠ‚ç‚¹ï¼Œå¯ä»¥å­˜å‚¨çš„æ•°æ®ä¸º 1170*1170*16="),_("strong",[e._v("21902400")]),e._v("ã€‚")]),e._v(" "),_("p",[e._v("åœ¨æŸ¥æ‰¾æ•°æ®æ—¶ä¸€æ¬¡é¡µçš„æŸ¥æ‰¾ä»£è¡¨ä¸€æ¬¡ IOï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€å¼  2000 ä¸‡å·¦å³çš„è¡¨ï¼ŒæŸ¥è¯¢æ•°æ®æœ€å¤šéœ€è¦è®¿é—® 3 æ¬¡ç£ç›˜ã€‚")]),e._v(" "),_("p",[e._v("æ‰€ä»¥åœ¨ InnoDB ä¸­ B+ æ ‘æ·±åº¦ä¸€èˆ¬ä¸º 1-3 å±‚ï¼Œå®ƒå°±èƒ½æ»¡è¶³åƒä¸‡çº§çš„æ•°æ®å­˜å‚¨ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_35-ä¸ºä»€ä¹ˆè¦ç”¨-b-æ ‘-è€Œä¸ç”¨æ™®é€šäºŒå‰æ ‘"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_35-ä¸ºä»€ä¹ˆè¦ç”¨-b-æ ‘-è€Œä¸ç”¨æ™®é€šäºŒå‰æ ‘"}},[e._v("#")]),e._v(" 35.ä¸ºä»€ä¹ˆè¦ç”¨ B+ æ ‘ï¼Œè€Œä¸ç”¨æ™®é€šäºŒå‰æ ‘ï¼Ÿ")]),e._v(" "),_("p",[e._v("å¯ä»¥ä»å‡ ä¸ªç»´åº¦å»çœ‹è¿™ä¸ªé—®é¢˜ï¼ŒæŸ¥è¯¢æ˜¯å¦å¤Ÿå¿«ï¼Œæ•ˆç‡æ˜¯å¦ç¨³å®šï¼Œå­˜å‚¨æ•°æ®å¤šå°‘ï¼Œä»¥åŠæŸ¥æ‰¾ç£ç›˜æ¬¡æ•°ã€‚")]),e._v(" "),_("blockquote",[_("p",[_("strong",[e._v("ä¸ºä»€ä¹ˆä¸ç”¨æ™®é€šäºŒå‰æ ‘ï¼Ÿ")])])]),e._v(" "),_("p",[e._v("æ™®é€šäºŒå‰æ ‘å­˜åœ¨é€€åŒ–çš„æƒ…å†µï¼Œå¦‚æœå®ƒé€€åŒ–æˆé“¾è¡¨ï¼Œç›¸å½“äºå…¨è¡¨æ‰«æã€‚å¹³è¡¡äºŒå‰æ ‘ç›¸æ¯”äºäºŒå‰æŸ¥æ‰¾æ ‘æ¥è¯´ï¼ŒæŸ¥æ‰¾æ•ˆç‡æ›´ç¨³å®šï¼Œæ€»ä½“çš„æŸ¥æ‰¾é€Ÿåº¦ä¹Ÿæ›´å¿«ã€‚")]),e._v(" "),_("blockquote",[_("p",[_("strong",[e._v("ä¸ºä»€ä¹ˆä¸ç”¨å¹³è¡¡äºŒå‰æ ‘å‘¢ï¼Ÿ")])])]),e._v(" "),_("p",[e._v("è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œæ˜¯ä»ç£ç›˜è¯»åˆ°å†…å­˜ã€‚å¦‚æœæ ‘è¿™ç§æ•°æ®ç»“æ„ä½œä¸ºç´¢å¼•ï¼Œé‚£æ¯æŸ¥æ‰¾ä¸€æ¬¡æ•°æ®å°±éœ€è¦ä»ç£ç›˜ä¸­è¯»å–ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç£ç›˜å—ï¼Œä½†æ˜¯å¹³è¡¡äºŒå‰æ ‘å¯æ˜¯æ¯ä¸ªèŠ‚ç‚¹åªå­˜å‚¨ä¸€ä¸ªé”®å€¼å’Œæ•°æ®çš„ï¼Œå¦‚æœæ˜¯ B+ æ ‘ï¼Œå¯ä»¥å­˜å‚¨æ›´å¤šçš„èŠ‚ç‚¹æ•°æ®ï¼Œæ ‘çš„é«˜åº¦ä¹Ÿä¼šé™ä½ï¼Œå› æ­¤è¯»å–ç£ç›˜çš„æ¬¡æ•°å°±é™ä¸‹æ¥å•¦ï¼ŒæŸ¥è¯¢æ•ˆç‡å°±å¿«ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_36-ä¸ºä»€ä¹ˆç”¨-b-æ ‘è€Œä¸ç”¨-b-æ ‘å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_36-ä¸ºä»€ä¹ˆç”¨-b-æ ‘è€Œä¸ç”¨-b-æ ‘å‘¢"}},[e._v("#")]),e._v(" 36.ä¸ºä»€ä¹ˆç”¨ B+ æ ‘è€Œä¸ç”¨ B æ ‘å‘¢ï¼Ÿ")]),e._v(" "),_("p",[e._v("B+ç›¸æ¯”è¾ƒ B æ ‘ï¼Œæœ‰è¿™äº›ä¼˜åŠ¿ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("å®ƒæ˜¯ B Tree çš„å˜ç§ï¼ŒB Tree èƒ½è§£å†³çš„é—®é¢˜ï¼Œå®ƒéƒ½èƒ½è§£å†³ã€‚")])]),e._v(" "),_("p",[e._v("B Tree è§£å†³çš„ä¸¤å¤§é—®é¢˜ï¼šæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨æ›´å¤šå…³é”®å­—ï¼›è·¯æ•°æ›´å¤š")]),e._v(" "),_("ul",[_("li",[e._v("æ‰«åº“ã€æ‰«è¡¨èƒ½åŠ›æ›´å¼º")])]),e._v(" "),_("p",[e._v("å¦‚æœæˆ‘ä»¬è¦å¯¹è¡¨è¿›è¡Œå…¨è¡¨æ‰«æï¼Œåªéœ€è¦éå†å¶å­èŠ‚ç‚¹å°±å¯ä»¥ äº†ï¼Œä¸éœ€è¦éå†æ•´æ£µ B+Tree æ‹¿åˆ°æ‰€æœ‰çš„æ•°æ®ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("B+Tree çš„ç£ç›˜è¯»å†™èƒ½åŠ›ç›¸å¯¹äº B Tree æ¥è¯´æ›´å¼ºï¼ŒIO æ¬¡æ•°æ›´å°‘")])]),e._v(" "),_("p",[e._v("æ ¹èŠ‚ç‚¹å’ŒæèŠ‚ç‚¹ä¸ä¿å­˜æ•°æ®åŒºï¼Œ æ‰€ä»¥ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥ä¿å­˜æ›´å¤šçš„å…³é”®å­—ï¼Œä¸€æ¬¡ç£ç›˜åŠ è½½çš„å…³é”®å­—æ›´å¤šï¼ŒIO æ¬¡æ•°æ›´å°‘ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("æ’åºèƒ½åŠ›æ›´å¼º")])]),e._v(" "),_("p",[e._v("å› ä¸ºå¶å­èŠ‚ç‚¹ä¸Šæœ‰ä¸‹ä¸€ä¸ªæ•°æ®åŒºçš„æŒ‡é’ˆï¼Œæ•°æ®å½¢æˆäº†é“¾è¡¨ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("æ•ˆç‡æ›´åŠ ç¨³å®š")])]),e._v(" "),_("p",[e._v("B+Tree æ°¸è¿œæ˜¯åœ¨å¶å­èŠ‚ç‚¹æ‹¿åˆ°æ•°æ®ï¼Œæ‰€ä»¥ IO æ¬¡æ•°æ˜¯ç¨³å®šçš„ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_37-hash-ç´¢å¼•å’Œ-b-æ ‘ç´¢å¼•åŒºåˆ«æ˜¯ä»€ä¹ˆ"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_37-hash-ç´¢å¼•å’Œ-b-æ ‘ç´¢å¼•åŒºåˆ«æ˜¯ä»€ä¹ˆ"}},[e._v("#")]),e._v(" 37.Hash ç´¢å¼•å’Œ B+ æ ‘ç´¢å¼•åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("B+ æ ‘å¯ä»¥è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ï¼ŒHash ç´¢å¼•ä¸èƒ½ã€‚")]),e._v(" "),_("li",[e._v("B+ æ ‘æ”¯æŒè”åˆç´¢å¼•çš„æœ€å·¦ä¾§åŸåˆ™ï¼ŒHash ç´¢å¼•ä¸æ”¯æŒã€‚")]),e._v(" "),_("li",[e._v("B+ æ ‘æ”¯æŒ order by æ’åºï¼ŒHash ç´¢å¼•ä¸æ”¯æŒã€‚")]),e._v(" "),_("li",[e._v("Hash ç´¢å¼•åœ¨ç­‰å€¼æŸ¥è¯¢ä¸Šæ¯” B+ æ ‘æ•ˆç‡æ›´é«˜ã€‚")]),e._v(" "),_("li",[e._v("B+ æ ‘ä½¿ç”¨ like è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢çš„æ—¶å€™ï¼Œlike åé¢ï¼ˆæ¯”å¦‚ % å¼€å¤´ï¼‰çš„è¯å¯ä»¥èµ·åˆ°ä¼˜åŒ–çš„ä½œç”¨ï¼ŒHash ç´¢å¼•æ ¹æœ¬æ— æ³•è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_38-èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•çš„åŒºåˆ«"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_38-èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•çš„åŒºåˆ«"}},[e._v("#")]),e._v(" 38.èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•çš„åŒºåˆ«ï¼Ÿ")]),e._v(" "),_("p",[e._v("é¦–å…ˆç†è§£èšç°‡ç´¢å¼•ä¸æ˜¯ä¸€ç§æ–°çš„ç´¢å¼•ï¼Œè€Œæ˜¯è€Œæ˜¯ä¸€ç§"),_("strong",[e._v("æ•°æ®å­˜å‚¨æ–¹å¼")]),e._v("ã€‚èšç°‡è¡¨ç¤ºæ•°æ®è¡Œå’Œç›¸é‚»çš„é”®å€¼ç´§å‡‘åœ°å­˜å‚¨åœ¨ä¸€èµ·ã€‚æˆ‘ä»¬ç†Ÿæ‚‰çš„ä¸¤ç§å­˜å‚¨å¼•æ“â€”â€”MyISAM é‡‡ç”¨çš„æ˜¯éèšç°‡ç´¢å¼•ï¼ŒInnoDB é‡‡ç”¨çš„æ˜¯èšç°‡ç´¢å¼•ã€‚")]),e._v(" "),_("p",[e._v("å¯ä»¥è¿™ä¹ˆè¯´ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("ç´¢å¼•çš„æ•°æ®ç»“æ„æ˜¯æ ‘ï¼Œèšç°‡ç´¢å¼•çš„ç´¢å¼•å’Œæ•°æ®å­˜å‚¨åœ¨ä¸€æ£µæ ‘ä¸Šï¼Œæ ‘çš„å¶å­èŠ‚ç‚¹å°±æ˜¯æ•°æ®ï¼Œéèšç°‡ç´¢å¼•ç´¢å¼•å’Œæ•°æ®ä¸åœ¨ä¸€æ£µæ ‘ä¸Šã€‚")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-692cced2-615a-4b70-a933-69771d53e809.jpg",alt:"èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•"}})]),e._v(" "),_("ul",[_("li",[e._v("ä¸€ä¸ªè¡¨ä¸­åªèƒ½æ‹¥æœ‰ä¸€ä¸ªèšç°‡ç´¢å¼•ï¼Œè€Œéèšç°‡ç´¢å¼•ä¸€ä¸ªè¡¨å¯ä»¥å­˜åœ¨å¤šä¸ªã€‚")]),e._v(" "),_("li",[e._v("èšç°‡ç´¢å¼•ï¼Œç´¢å¼•ä¸­é”®å€¼çš„é€»è¾‘é¡ºåºå†³å®šäº†è¡¨ä¸­ç›¸åº”è¡Œçš„ç‰©ç†é¡ºåºï¼›ç´¢å¼•ï¼Œç´¢å¼•ä¸­ç´¢å¼•çš„é€»è¾‘é¡ºåºä¸ç£ç›˜ä¸Šè¡Œçš„ç‰©ç†å­˜å‚¨é¡ºåºä¸åŒã€‚")]),e._v(" "),_("li",[e._v("èšç°‡ç´¢å¼•ï¼šç‰©ç†å­˜å‚¨æŒ‰ç…§ç´¢å¼•æ’åºï¼›éèšé›†ç´¢å¼•ï¼šç‰©ç†å­˜å‚¨ä¸æŒ‰ç…§ç´¢å¼•æ’åºï¼›")])]),e._v(" "),_("h3",{attrs:{id:"_39-å›è¡¨äº†è§£å—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_39-å›è¡¨äº†è§£å—"}},[e._v("#")]),e._v(" 39.å›è¡¨äº†è§£å—ï¼Ÿ")]),e._v(" "),_("p",[e._v("åœ¨ InnoDB å­˜å‚¨å¼•æ“é‡Œï¼Œåˆ©ç”¨è¾…åŠ©ç´¢å¼•æŸ¥è¯¢ï¼Œå…ˆé€šè¿‡è¾…åŠ©ç´¢å¼•æ‰¾åˆ°ä¸»é”®ç´¢å¼•çš„é”®å€¼ï¼Œå†é€šè¿‡ä¸»é”®å€¼æŸ¥å‡ºä¸»é”®ç´¢å¼•é‡Œé¢æ²¡æœ‰ç¬¦åˆè¦æ±‚çš„æ•°æ®ï¼Œå®ƒæ¯”åŸºäºä¸»é”®ç´¢å¼•çš„æŸ¥è¯¢å¤šæ‰«æäº†ä¸€æ£µç´¢å¼•æ ‘ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å«å›è¡¨ã€‚")]),e._v(" "),_("p",[e._v("ä¾‹å¦‚:"),_("code",[e._v("select \\* from user where name = â€˜å¼ ä¸‰â€™;")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-7d69e289-dc05-47e1-9308-20a8278ebf2e.jpg",alt:"InnoDB å›è¡¨"}})]),e._v(" "),_("h3",{attrs:{id:"_40-è¦†ç›–ç´¢å¼•äº†è§£å—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_40-è¦†ç›–ç´¢å¼•äº†è§£å—"}},[e._v("#")]),e._v(" 40.è¦†ç›–ç´¢å¼•äº†è§£å—ï¼Ÿ")]),e._v(" "),_("p",[e._v("åœ¨è¾…åŠ©ç´¢å¼•é‡Œé¢ï¼Œä¸ç®¡æ˜¯å•åˆ—ç´¢å¼•è¿˜æ˜¯è”åˆç´¢å¼•ï¼Œå¦‚æœ select çš„æ•°æ®åˆ—åªç”¨è¾…åŠ©ç´¢å¼•ä¸­å°±èƒ½å¤Ÿå–å¾—ï¼Œä¸ç”¨å»æŸ¥ä¸»é”®ç´¢å¼•ï¼Œè¿™æ—¶å€™ä½¿ç”¨çš„ç´¢å¼•å°±å«åšè¦†ç›–ç´¢å¼•ï¼Œé¿å…äº†å›è¡¨ã€‚")]),e._v(" "),_("p",[e._v("æ¯”å¦‚ï¼Œ"),_("code",[e._v("select name from user where name = â€˜å¼ ä¸‰â€™;")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-69e33c61-34bc-4f4b-912b-ca7beb9d5c7c.jpg",alt:"è¦†ç›–ç´¢å¼•"}})]),e._v(" "),_("h3",{attrs:{id:"_41-ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™-æœ€å·¦åŒ¹é…åŸåˆ™"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_41-ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™-æœ€å·¦åŒ¹é…åŸåˆ™"}},[e._v("#")]),e._v(" 41.ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™/æœ€å·¦åŒ¹é…åŸåˆ™ï¼Ÿ")]),e._v(" "),_("p",[e._v("æ³¨æ„ï¼šæœ€å·¦å‰ç¼€åŸåˆ™ã€æœ€å·¦åŒ¹é…åŸåˆ™ã€æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™è¿™ä¸‰ä¸ªéƒ½æ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚")]),e._v(" "),_("p",[_("strong",[e._v("æœ€å·¦åŒ¹é…åŸåˆ™")]),e._v("ï¼šåœ¨ InnoDB çš„è”åˆç´¢å¼•ä¸­ï¼ŒæŸ¥è¯¢çš„æ—¶å€™åªæœ‰åŒ¹é…äº†å‰ä¸€ä¸ª/å·¦è¾¹çš„å€¼ä¹‹åï¼Œæ‰èƒ½åŒ¹é…ä¸‹ä¸€ä¸ªã€‚")]),e._v(" "),_("p",[e._v("æ ¹æ®æœ€å·¦åŒ¹é…åŸåˆ™ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç»„åˆç´¢å¼•ï¼Œå¦‚ (a1,a2,a3)ï¼Œç›¸å½“äºåˆ›å»ºäº†ï¼ˆa1ï¼‰ã€(a1,a2)å’Œ (a1,a2,a3) ä¸‰ä¸ªç´¢å¼•ã€‚")]),e._v(" "),_("p",[e._v("ä¸ºä»€ä¹ˆä¸ä»æœ€å·¦å¼€å§‹æŸ¥ï¼Œå°±æ— æ³•åŒ¹é…å‘¢ï¼Ÿ")]),e._v(" "),_("p",[e._v("æ¯”å¦‚æœ‰ä¸€ä¸ª user è¡¨ï¼Œæˆ‘ä»¬ç»™ name å’Œ age å»ºç«‹äº†ä¸€ä¸ªç»„åˆç´¢å¼•ã€‚")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("ALTERÂ TABLEÂ userÂ addÂ INDEXÂ comidx_name_phoneÂ (name,age);\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br")])]),_("p",[e._v("ç»„åˆç´¢å¼•åœ¨ B+Tree ä¸­æ˜¯å¤åˆçš„æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ¥å»ºç«‹æœç´¢æ ‘çš„ (name åœ¨å·¦è¾¹ï¼Œage åœ¨å³è¾¹)ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-e348203c-f00a-42a4-a745-b219d98ea435.jpg",alt:"ç»„åˆç´¢å¼•"}})]),e._v(" "),_("p",[e._v("ä»è¿™å¼ å›¾å¯ä»¥çœ‹å‡ºæ¥ï¼Œname æ˜¯æœ‰åºçš„ï¼Œage æ˜¯æ— åºçš„ã€‚å½“ name ç›¸ç­‰çš„æ—¶å€™ï¼Œ age æ‰æ˜¯æœ‰åºçš„ã€‚")]),e._v(" "),_("p",[e._v("è¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä½¿ç”¨ "),_("code",[e._v("where name= â€˜å¼ ä¸‰â€˜ and age = â€˜20 â€˜")]),e._v("å»æŸ¥è¯¢æ•°æ®çš„æ—¶å€™ï¼Œ B+Tree ä¼šä¼˜å…ˆæ¯”è¾ƒ name æ¥ç¡®å®šä¸‹ä¸€æ­¥åº”è¯¥æœç´¢çš„æ–¹å‘ï¼Œå¾€å·¦è¿˜æ˜¯å¾€å³ã€‚å¦‚æœ name ç›¸åŒçš„æ—¶å€™å†æ¯”è¾ƒ ageã€‚ä½†æ˜¯å¦‚æœæŸ¥è¯¢æ¡ä»¶æ²¡æœ‰ nameï¼Œå°±ä¸çŸ¥é“ä¸‹ä¸€æ­¥åº”è¯¥æŸ¥å“ªä¸ª èŠ‚ç‚¹ï¼Œå› ä¸ºå»ºç«‹æœç´¢æ ‘çš„æ—¶å€™ name æ˜¯ç¬¬ä¸€ä¸ªæ¯”è¾ƒå› å­ï¼Œæ‰€ä»¥å°±æ²¡ç”¨ä¸Šç´¢å¼•ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_42-ä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_42-ä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–"}},[e._v("#")]),e._v(" 42.ä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–ï¼Ÿ")]),e._v(" "),_("p",[e._v("ç´¢å¼•æ¡ä»¶ä¸‹æ¨ä¼˜åŒ–"),_("code",[e._v("ï¼ˆIndex Condition Pushdown (ICP) ï¼‰")]),e._v("æ˜¯ MySQL5.6 æ·»åŠ çš„ï¼Œç”¨äºä¼˜åŒ–æ•°æ®æŸ¥è¯¢ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("ä¸ä½¿ç”¨ç´¢å¼•æ¡ä»¶ä¸‹æ¨ä¼˜åŒ–æ—¶å­˜å‚¨å¼•æ“é€šè¿‡ç´¢å¼•æ£€ç´¢åˆ°æ•°æ®ï¼Œç„¶åè¿”å›ç»™ MySQL Serverï¼ŒMySQL Server è¿›è¡Œè¿‡æ»¤æ¡ä»¶çš„åˆ¤æ–­ã€‚")]),e._v(" "),_("li",[e._v("å½“ä½¿ç”¨ç´¢å¼•æ¡ä»¶ä¸‹æ¨ä¼˜åŒ–æ—¶ï¼Œå¦‚æœå­˜åœ¨æŸäº›è¢«ç´¢å¼•çš„åˆ—çš„åˆ¤æ–­æ¡ä»¶æ—¶ï¼ŒMySQL Server å°†è¿™ä¸€éƒ¨åˆ†åˆ¤æ–­æ¡ä»¶"),_("strong",[e._v("ä¸‹æ¨")]),e._v("ç»™å­˜å‚¨å¼•æ“ï¼Œç„¶åç”±å­˜å‚¨å¼•æ“é€šè¿‡åˆ¤æ–­ç´¢å¼•æ˜¯å¦ç¬¦åˆ MySQL Server ä¼ é€’çš„æ¡ä»¶ï¼Œåªæœ‰å½“ç´¢å¼•ç¬¦åˆæ¡ä»¶æ—¶æ‰ä¼šå°†æ•°æ®æ£€ç´¢å‡ºæ¥è¿”å›ç»™ MySQL æœåŠ¡å™¨ã€‚")])]),e._v(" "),_("p",[e._v("ä¾‹å¦‚ä¸€å¼ è¡¨ï¼Œå»ºäº†ä¸€ä¸ªè”åˆç´¢å¼•ï¼ˆname, ageï¼‰ï¼ŒæŸ¥è¯¢è¯­å¥ï¼š"),_("code",[e._v("select * from t_user where name like 'å¼ %' and age=10;")]),e._v("ï¼Œç”±äº"),_("code",[e._v("name")]),e._v("ä½¿ç”¨äº†èŒƒå›´æŸ¥è¯¢ï¼Œæ ¹æ®æœ€å·¦åŒ¹é…åŸåˆ™ï¼š")]),e._v(" "),_("p",[e._v("ä¸ä½¿ç”¨ ICPï¼Œå¼•æ“å±‚æŸ¥æ‰¾åˆ°"),_("code",[e._v("name like 'å¼ %'")]),e._v("çš„æ•°æ®ï¼Œå†ç”± Server å±‚å»è¿‡æ»¤"),_("code",[e._v("age=10")]),e._v("è¿™ä¸ªæ¡ä»¶ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå°±å›è¡¨äº†ä¸¤æ¬¡ï¼Œæµªè´¹äº†è”åˆç´¢å¼•çš„å¦å¤–ä¸€ä¸ªå­—æ®µ"),_("code",[e._v("age")]),e._v("ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-c58f59e0-850b-4dfd-8129-2dfc51cf4768.jpg",alt:"æ²¡æœ‰ä½¿ç”¨ ICP"}})]),e._v(" "),_("p",[e._v("ä½†æ˜¯ï¼Œä½¿ç”¨äº†ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–ï¼ŒæŠŠ where çš„æ¡ä»¶æ”¾åˆ°äº†å¼•æ“å±‚æ‰§è¡Œï¼Œç›´æ¥æ ¹æ®"),_("code",[e._v("name like 'å¼ %' and age=10")]),e._v("çš„æ¡ä»¶è¿›è¡Œè¿‡æ»¤ï¼Œå‡å°‘äº†å›è¡¨çš„æ¬¡æ•°ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-a8525cf3-2d16-49a9-a7da-a19762ed16df.jpg",alt:"ä½¿ç”¨ ICP"}})]),e._v(" "),_("p",[e._v("ç´¢å¼•æ¡ä»¶ä¸‹æ¨ä¼˜åŒ–å¯ä»¥å‡å°‘å­˜å‚¨å¼•æ“æŸ¥è¯¢åŸºç¡€è¡¨çš„æ¬¡æ•°ï¼Œä¹Ÿå¯ä»¥å‡å°‘ MySQL æœåŠ¡å™¨ä»å­˜å‚¨å¼•æ“æ¥æ”¶æ•°æ®çš„æ¬¡æ•°ã€‚")]),e._v(" "),_("h2",{attrs:{id:"é”"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#é”"}},[e._v("#")]),e._v(" é”")]),e._v(" "),_("h3",{attrs:{id:"_43-mysql-ä¸­æœ‰å“ªå‡ ç§é”-åˆ—ä¸¾ä¸€ä¸‹"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_43-mysql-ä¸­æœ‰å“ªå‡ ç§é”-åˆ—ä¸¾ä¸€ä¸‹"}},[e._v("#")]),e._v(" 43.MySQL ä¸­æœ‰å“ªå‡ ç§é”ï¼Œåˆ—ä¸¾ä¸€ä¸‹ï¼Ÿ")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-a07e4525-ccc1-4287-aec5-ebf3f277857c.jpg",alt:"MySQL ä¸­çš„é”"}})]),e._v(" "),_("p",[e._v("å¦‚æœæŒ‰é”ç²’åº¦åˆ’åˆ†ï¼Œæœ‰ä»¥ä¸‹ 3 ç§ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("è¡¨é”ï¼šå¼€é”€å°ï¼ŒåŠ é”å¿«ï¼›é”å®šåŠ›åº¦å¤§ï¼Œå‘ç”Ÿé”å†²çªæ¦‚ç‡é«˜ï¼Œå¹¶å‘åº¦æœ€ä½;ä¸ä¼šå‡ºç°æ­»é”ã€‚")]),e._v(" "),_("li",[e._v("è¡Œé”ï¼šå¼€é”€å¤§ï¼ŒåŠ é”æ…¢ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦å°ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡ä½ï¼Œå¹¶å‘åº¦é«˜ã€‚")]),e._v(" "),_("li",[e._v("é¡µé”ï¼šå¼€é”€å’ŒåŠ é”é€Ÿåº¦ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼Œå¹¶å‘åº¦ä¸€èˆ¬")])]),e._v(" "),_("p",[e._v("å¦‚æœæŒ‰ç…§å…¼å®¹æ€§ï¼Œæœ‰ä¸¤ç§ï¼Œ")]),e._v(" "),_("ul",[_("li",[e._v("å…±äº«é”ï¼ˆS Lockï¼‰,ä¹Ÿå«è¯»é”ï¼ˆread lockï¼‰ï¼Œç›¸äº’ä¸é˜»å¡ã€‚")]),e._v(" "),_("li",[e._v("æ’ä»–é”ï¼ˆX Lockï¼‰ï¼Œä¹Ÿå«å†™é”ï¼ˆwrite lockï¼‰ï¼Œæ’å®ƒé”æ˜¯é˜»å¡çš„ï¼Œåœ¨ä¸€å®šæ—¶é—´å†…ï¼Œåªæœ‰ä¸€ä¸ªè¯·æ±‚èƒ½æ‰§è¡Œå†™å…¥ï¼Œå¹¶é˜»æ­¢å…¶å®ƒé”è¯»å–æ­£åœ¨å†™å…¥çš„æ•°æ®ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_44-è¯´è¯´-innodb-é‡Œçš„è¡Œé”å®ç°"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_44-è¯´è¯´-innodb-é‡Œçš„è¡Œé”å®ç°"}},[e._v("#")]),e._v(" 44.è¯´è¯´ InnoDB é‡Œçš„è¡Œé”å®ç°?")]),e._v(" "),_("p",[e._v("æˆ‘ä»¬æ‹¿è¿™ä¹ˆä¸€ä¸ªç”¨æˆ·è¡¨æ¥è¡¨ç¤ºè¡Œçº§é”ï¼Œå…¶ä¸­æ’å…¥äº† 4 è¡Œæ•°æ®ï¼Œä¸»é”®å€¼åˆ†åˆ«æ˜¯ 1,6,8,12ï¼Œç°åœ¨ç®€åŒ–å®ƒçš„èšç°‡ç´¢å¼•ç»“æ„ï¼Œåªä¿ç•™æ•°æ®è®°å½•ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-013afdbe-889b-4ed0-ae68-c8c9882570d9.jpg",alt:"ç®€åŒ–çš„ä¸»é”®ç´¢å¼•"}})]),e._v(" "),_("p",[e._v("InnoDB çš„è¡Œé”çš„ä¸»è¦å®ç°å¦‚ä¸‹ï¼š")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("Record Lock è®°å½•é”")])])]),e._v(" "),_("p",[e._v("è®°å½•é”å°±æ˜¯ç›´æ¥é”å®šæŸè¡Œè®°å½•ã€‚å½“æˆ‘ä»¬ä½¿ç”¨å”¯ä¸€æ€§çš„ç´¢å¼•(åŒ…æ‹¬å”¯ä¸€ç´¢å¼•å’Œèšç°‡ç´¢å¼•)è¿›è¡Œç­‰å€¼æŸ¥è¯¢ä¸”ç²¾å‡†åŒ¹é…åˆ°ä¸€æ¡è®°å½•æ—¶ï¼Œæ­¤æ—¶å°±ä¼šç›´æ¥å°†è¿™æ¡è®°å½•é”å®šã€‚ä¾‹å¦‚"),_("code",[e._v("select * from t where id =6 for update;")]),e._v("å°±ä¼šå°†"),_("code",[e._v("id=6")]),e._v("çš„è®°å½•é”å®šã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-8989ac27-e442-4c14-81ad-6bc133d78bfd.jpg",alt:"è®°å½•é”"}})]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("Gap Lock é—´éš™é”")])])]),e._v(" "),_("p",[e._v("é—´éš™é”(Gap Locks) çš„é—´éš™æŒ‡çš„æ˜¯ä¸¤ä¸ªè®°å½•ä¹‹é—´é€»è¾‘ä¸Šå°šæœªå¡«å…¥æ•°æ®çš„éƒ¨åˆ†,æ˜¯ä¸€ä¸ª"),_("strong",[e._v("å·¦å¼€å³å¼€ç©ºé—´")]),e._v("ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-d60f3a42-4b0f-4612-b7ad-65191fecb852.jpg",alt:"é—´éš™é”"}})]),e._v(" "),_("p",[e._v("é—´éš™é”å°±æ˜¯é”å®šæŸäº›é—´éš™åŒºé—´çš„ã€‚å½“æˆ‘ä»¬ä½¿ç”¨ç”¨ç­‰å€¼æŸ¥è¯¢æˆ–è€…èŒƒå›´æŸ¥è¯¢ï¼Œå¹¶ä¸”æ²¡æœ‰å‘½ä¸­ä»»ä½•ä¸€ä¸ª"),_("code",[e._v("record")]),e._v("ï¼Œæ­¤æ—¶å°±ä¼šå°†å¯¹åº”çš„é—´éš™åŒºé—´é”å®šã€‚ä¾‹å¦‚"),_("code",[e._v("select * from t where id =3 for update;")]),e._v("æˆ–è€…"),_("code",[e._v("select * from t where id > 1 and id < 6 for update;")]),e._v("å°±ä¼šå°†(1,6)åŒºé—´é”å®šã€‚")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("Next-key Lock ä¸´é”®é”")])])]),e._v(" "),_("p",[e._v("ä¸´é”®æŒ‡çš„æ˜¯é—´éš™åŠ ä¸Šå®ƒå³è¾¹çš„è®°å½•ç»„æˆçš„"),_("strong",[e._v("å·¦å¼€å³é—­åŒºé—´")]),e._v("ã€‚æ¯”å¦‚ä¸Šè¿°çš„(1,6]ã€(6,8]ç­‰ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-ae8a21cc-8b52-467d-9173-4e01b24e04b9.jpg",alt:"ä¸´é”®é”"}})]),e._v(" "),_("p",[e._v("ä¸´é”®é”å°±æ˜¯è®°å½•é”(Record Locks)å’Œé—´éš™é”(Gap Locks)çš„ç»“åˆï¼Œå³é™¤äº†é”ä½è®°å½•æœ¬èº«ï¼Œè¿˜è¦å†é”ä½ç´¢å¼•ä¹‹é—´çš„é—´éš™ã€‚å½“æˆ‘ä»¬ä½¿ç”¨èŒƒå›´æŸ¥è¯¢ï¼Œå¹¶ä¸”å‘½ä¸­äº†éƒ¨åˆ†"),_("code",[e._v("record")]),e._v("è®°å½•ï¼Œæ­¤æ—¶é”ä½çš„å°±æ˜¯ä¸´é”®åŒºé—´ã€‚æ³¨æ„ï¼Œä¸´é”®é”é”ä½çš„åŒºé—´ä¼šåŒ…å«æœ€åä¸€ä¸ª record çš„å³è¾¹çš„ä¸´é”®åŒºé—´ã€‚ä¾‹å¦‚"),_("code",[e._v("select * from t where id > 5 and id <= 7 for update;")]),e._v("ä¼šé”ä½(4,7]ã€(7,+âˆ)ã€‚mysql é»˜è®¤è¡Œé”ç±»å‹å°±æ˜¯"),_("code",[e._v("ä¸´é”®é”(Next-Key Locks)")]),e._v("ã€‚å½“ä½¿ç”¨å”¯ä¸€æ€§ç´¢å¼•ï¼Œç­‰å€¼æŸ¥è¯¢åŒ¹é…åˆ°ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œä¸´é”®é”(Next-Key Locks)ä¼šé€€åŒ–æˆè®°å½•é”ï¼›æ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•è®°å½•çš„æ—¶å€™ï¼Œé€€åŒ–æˆé—´éš™é”ã€‚")]),e._v(" "),_("blockquote",[_("p",[_("code",[e._v("é—´éš™é”(Gap Locks)")]),e._v("å’Œ"),_("code",[e._v("ä¸´é”®é”(Next-Key Locks)")]),e._v("éƒ½æ˜¯ç”¨æ¥è§£å†³å¹»è¯»é—®é¢˜çš„ï¼Œåœ¨"),_("code",[e._v("å·²æäº¤è¯»ï¼ˆREAD COMMITTEDï¼‰")]),e._v("éš”ç¦»çº§åˆ«ä¸‹ï¼Œ"),_("code",[e._v("é—´éš™é”(Gap Locks)")]),e._v("å’Œ"),_("code",[e._v("ä¸´é”®é”(Next-Key Locks)")]),e._v("éƒ½ä¼šå¤±æ•ˆï¼")])]),e._v(" "),_("p",[e._v("ä¸Šé¢æ˜¯è¡Œé”çš„ä¸‰ç§å®ç°ç®—æ³•ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œåœ¨è¡Œä¸Šè¿˜å­˜åœ¨æ’å…¥æ„å‘é”ã€‚")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("Insert Intention Lock æ’å…¥æ„å‘é”")])])]),e._v(" "),_("p",[e._v("ä¸€ä¸ªäº‹åŠ¡åœ¨æ’å…¥ä¸€æ¡è®°å½•æ—¶éœ€è¦åˆ¤æ–­ä¸€ä¸‹æ’å…¥ä½ç½®æ˜¯ä¸æ˜¯è¢«åˆ«çš„äº‹åŠ¡åŠ äº†æ„å‘é” ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œæ’å…¥æ“ä½œéœ€è¦ç­‰å¾…ï¼Œç›´åˆ°æ‹¥æœ‰ gap é” çš„é‚£ä¸ªäº‹åŠ¡æäº¤ã€‚ä½†æ˜¯äº‹åŠ¡åœ¨ç­‰å¾…çš„æ—¶å€™ä¹Ÿéœ€è¦åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ª é”ç»“æ„ ï¼Œè¡¨æ˜æœ‰äº‹åŠ¡æƒ³åœ¨æŸä¸ª é—´éš™ ä¸­æ’å…¥æ–°è®°å½•ï¼Œä½†æ˜¯ç°åœ¨åœ¨ç­‰å¾…ã€‚è¿™ç§ç±»å‹çš„é”å‘½åä¸º Insert Intention Locks ï¼Œä¹Ÿå°±æ˜¯æ’å…¥æ„å‘é” ã€‚")]),e._v(" "),_("p",[e._v("å‡å¦‚æˆ‘ä»¬æœ‰ä¸ª T1 äº‹åŠ¡ï¼Œç»™(1,6)åŒºé—´åŠ ä¸Šäº†æ„å‘é”ï¼Œç°åœ¨æœ‰ä¸ª T2 äº‹åŠ¡ï¼Œè¦æ’å…¥ä¸€ä¸ªæ•°æ®ï¼Œid ä¸º 4ï¼Œå®ƒä¼šè·å–ä¸€ä¸ªï¼ˆ1,6ï¼‰åŒºé—´çš„æ’å…¥æ„å‘é”ï¼Œåˆæœ‰æœ‰ä¸ª T3 äº‹åŠ¡ï¼Œæƒ³è¦æ’å…¥ä¸€ä¸ªæ•°æ®ï¼Œid ä¸º 3ï¼Œå®ƒä¹Ÿä¼šè·å–ä¸€ä¸ªï¼ˆ1,6ï¼‰åŒºé—´çš„æ’å…¥æ„å‘é”ï¼Œä½†æ˜¯ï¼Œè¿™ä¸¤ä¸ªæ’å…¥æ„å‘é”é”ä¸ä¼šäº’æ–¥ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-751425cb-daba-4da1-bab6-f843254cad3d.jpg",alt:"æ’å…¥æ„å‘é”"}})]),e._v(" "),_("h3",{attrs:{id:"_45-æ„å‘é”æ˜¯ä»€ä¹ˆçŸ¥é“å—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_45-æ„å‘é”æ˜¯ä»€ä¹ˆçŸ¥é“å—"}},[e._v("#")]),e._v(" 45.æ„å‘é”æ˜¯ä»€ä¹ˆçŸ¥é“å—ï¼Ÿ")]),e._v(" "),_("p",[e._v("æ„å‘é”æ˜¯ä¸€ä¸ªè¡¨çº§é”ï¼Œä¸è¦å’Œæ’å…¥æ„å‘é”ææ··ã€‚")]),e._v(" "),_("p",[e._v("æ„å‘é”çš„å‡ºç°æ˜¯ä¸ºäº†æ”¯æŒ InnoDB çš„å¤šç²’åº¦é”ï¼Œå®ƒè§£å†³çš„æ˜¯è¡¨é”å’Œè¡Œé”å…±å­˜çš„é—®é¢˜ã€‚")]),e._v(" "),_("p",[e._v("å½“æˆ‘ä»¬éœ€è¦ç»™ä¸€ä¸ªè¡¨åŠ è¡¨é”çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å»åˆ¤æ–­è¡¨ä¸­æœ‰æ²¡æœ‰æ•°æ®è¡Œè¢«é”å®šï¼Œä»¥ç¡®å®šæ˜¯å¦èƒ½åŠ æˆåŠŸã€‚")]),e._v(" "),_("p",[e._v("å‡å¦‚æ²¡æœ‰æ„å‘é”ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¾—éå†è¡¨ä¸­æ‰€æœ‰æ•°æ®è¡Œæ¥åˆ¤æ–­æœ‰æ²¡æœ‰è¡Œé”ï¼›")]),e._v(" "),_("p",[e._v("æœ‰äº†æ„å‘é”è¿™ä¸ªè¡¨çº§é”ä¹‹åï¼Œåˆ™æˆ‘ä»¬ç›´æ¥åˆ¤æ–­ä¸€æ¬¡å°±çŸ¥é“è¡¨ä¸­æ˜¯å¦æœ‰æ•°æ®è¡Œè¢«é”å®šäº†ã€‚")]),e._v(" "),_("p",[e._v("æœ‰äº†æ„å‘é”ä¹‹åï¼Œè¦æ‰§è¡Œçš„äº‹åŠ¡ A åœ¨ç”³è¯·è¡Œé”ï¼ˆå†™é”ï¼‰ä¹‹å‰ï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨å…ˆç»™äº‹åŠ¡ A ç”³è¯·è¡¨çš„æ„å‘æ’ä»–é”ã€‚å½“äº‹åŠ¡ B å»ç”³è¯·è¡¨çš„äº’æ–¥é”æ—¶å°±ä¼šå¤±è´¥ï¼Œå› ä¸ºè¡¨ä¸Šæœ‰æ„å‘æ’ä»–é”ä¹‹åäº‹åŠ¡ B ç”³è¯·è¡¨çš„äº’æ–¥é”æ—¶ä¼šè¢«é˜»å¡ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-31f7f49c-1e5a-4d42-b8b3-e022b3ba82ae.jpg",alt:"æ„å‘é”"}})]),e._v(" "),_("h3",{attrs:{id:"_46-mysql-çš„ä¹è§‚é”å’Œæ‚²è§‚é”äº†è§£å—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_46-mysql-çš„ä¹è§‚é”å’Œæ‚²è§‚é”äº†è§£å—"}},[e._v("#")]),e._v(" 46.MySQL çš„ä¹è§‚é”å’Œæ‚²è§‚é”äº†è§£å—ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("æ‚²è§‚é”")]),e._v("ï¼ˆPessimistic Concurrency Controlï¼‰ï¼š")])]),e._v(" "),_("p",[e._v("æ‚²è§‚é”è®¤ä¸ºè¢«å®ƒä¿æŠ¤çš„æ•°æ®æ˜¯æå…¶ä¸å®‰å…¨çš„ï¼Œæ¯æ—¶æ¯åˆ»éƒ½æœ‰å¯èƒ½è¢«æ”¹åŠ¨ï¼Œä¸€ä¸ªäº‹åŠ¡æ‹¿åˆ°æ‚²è§‚é”åï¼Œå…¶ä»–ä»»ä½•äº‹åŠ¡éƒ½ä¸èƒ½å¯¹è¯¥æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œåªèƒ½ç­‰å¾…é”è¢«é‡Šæ”¾æ‰å¯ä»¥æ‰§è¡Œã€‚")]),e._v(" "),_("p",[e._v("æ•°æ®åº“ä¸­çš„è¡Œé”ï¼Œè¡¨é”ï¼Œè¯»é”ï¼Œå†™é”å‡ä¸ºæ‚²è§‚é”ã€‚")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("ä¹è§‚é”ï¼ˆOptimistic Concurrency Controlï¼‰")])])]),e._v(" "),_("p",[e._v("ä¹è§‚é”è®¤ä¸ºæ•°æ®çš„å˜åŠ¨ä¸ä¼šå¤ªé¢‘ç¹ã€‚")]),e._v(" "),_("p",[e._v("ä¹è§‚é”é€šå¸¸æ˜¯é€šè¿‡åœ¨è¡¨ä¸­å¢åŠ ä¸€ä¸ªç‰ˆæœ¬(version)æˆ–æ—¶é—´æˆ³(timestamp)æ¥å®ç°ï¼Œå…¶ä¸­ï¼Œç‰ˆæœ¬æœ€ä¸ºå¸¸ç”¨ã€‚")]),e._v(" "),_("p",[e._v("äº‹åŠ¡åœ¨ä»æ•°æ®åº“ä¸­å–æ•°æ®æ—¶ï¼Œä¼šå°†è¯¥æ•°æ®çš„ç‰ˆæœ¬ä¹Ÿå–å‡ºæ¥(v1)ï¼Œå½“äº‹åŠ¡å¯¹æ•°æ®å˜åŠ¨å®Œæ¯•æƒ³è¦å°†å…¶æ›´æ–°åˆ°è¡¨ä¸­æ—¶ï¼Œä¼šå°†ä¹‹å‰å–å‡ºçš„ç‰ˆæœ¬ v1 ä¸æ•°æ®ä¸­æœ€æ–°çš„ç‰ˆæœ¬ v2 ç›¸å¯¹æ¯”ï¼Œå¦‚æœ v1=v2ï¼Œé‚£ä¹ˆè¯´æ˜åœ¨æ•°æ®å˜åŠ¨æœŸé—´ï¼Œæ²¡æœ‰å…¶ä»–äº‹åŠ¡å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œæ­¤æ—¶ï¼Œå°±å…è®¸äº‹åŠ¡å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œå¹¶ä¸”ä¿®æ”¹æ—¶ version ä¼šåŠ  1ï¼Œä»¥æ­¤æ¥è¡¨æ˜æ•°æ®å·²è¢«å˜åŠ¨ã€‚")]),e._v(" "),_("p",[e._v("å¦‚æœï¼Œv1 ä¸ç­‰äº v2ï¼Œé‚£ä¹ˆè¯´æ˜æ•°æ®å˜åŠ¨æœŸé—´ï¼Œæ•°æ®è¢«å…¶ä»–äº‹åŠ¡æ”¹åŠ¨äº†ï¼Œæ­¤æ—¶ä¸å…è®¸æ•°æ®æ›´æ–°åˆ°è¡¨ä¸­ï¼Œä¸€èˆ¬çš„å¤„ç†åŠæ³•æ˜¯é€šçŸ¥ç”¨æˆ·è®©å…¶é‡æ–°æ“ä½œã€‚ä¸åŒäºæ‚²è§‚é”ï¼Œä¹è§‚é”é€šå¸¸æ˜¯ç”±å¼€å‘è€…å®ç°çš„ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_47-mysql-é‡åˆ°è¿‡æ­»é”é—®é¢˜å—-ä½ æ˜¯å¦‚ä½•è§£å†³çš„"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_47-mysql-é‡åˆ°è¿‡æ­»é”é—®é¢˜å—-ä½ æ˜¯å¦‚ä½•è§£å†³çš„"}},[e._v("#")]),e._v(" 47.MySQL é‡åˆ°è¿‡æ­»é”é—®é¢˜å—ï¼Œä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ")]),e._v(" "),_("p",[e._v("æ’æŸ¥æ­»é”çš„ä¸€èˆ¬æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š")]),e._v(" "),_("p",[e._v("ï¼ˆ1ï¼‰æŸ¥çœ‹æ­»é”æ—¥å¿— show engine innodb status;")]),e._v(" "),_("p",[e._v("ï¼ˆ2ï¼‰æ‰¾å‡ºæ­»é” sql")]),e._v(" "),_("p",[e._v("ï¼ˆ3ï¼‰åˆ†æ sql åŠ é”æƒ…å†µ")]),e._v(" "),_("p",[e._v("ï¼ˆ4ï¼‰æ¨¡æ‹Ÿæ­»é”æ¡ˆå‘")]),e._v(" "),_("p",[e._v("ï¼ˆ5ï¼‰åˆ†ææ­»é”æ—¥å¿—")]),e._v(" "),_("p",[e._v("ï¼ˆ6ï¼‰åˆ†ææ­»é”ç»“æœ")]),e._v(" "),_("p",[e._v("å½“ç„¶ï¼Œè¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„æµç¨‹è¯´æ˜ï¼Œå®é™…ä¸Šç”Ÿäº§ä¸­çš„æ­»é”åƒå¥‡ç™¾æ€ªï¼Œæ’æŸ¥å’Œè§£å†³èµ·æ¥æ²¡é‚£ä¹ˆç®€å•ã€‚")]),e._v(" "),_("h2",{attrs:{id:"äº‹åŠ¡"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#äº‹åŠ¡"}},[e._v("#")]),e._v(" äº‹åŠ¡")]),e._v(" "),_("h3",{attrs:{id:"_48-mysql-äº‹åŠ¡çš„å››å¤§ç‰¹æ€§è¯´ä¸€ä¸‹"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_48-mysql-äº‹åŠ¡çš„å››å¤§ç‰¹æ€§è¯´ä¸€ä¸‹"}},[e._v("#")]),e._v(" 48.MySQL äº‹åŠ¡çš„å››å¤§ç‰¹æ€§è¯´ä¸€ä¸‹ï¼Ÿ")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-eaafb8b8-fbe6-42c0-9cc2-f2e04631b56c.jpg",alt:"äº‹åŠ¡å››å¤§ç‰¹æ€§"}})]),e._v(" "),_("ul",[_("li",[e._v("åŸå­æ€§ï¼šäº‹åŠ¡ä½œä¸ºä¸€ä¸ªæ•´ä½“è¢«æ‰§è¡Œï¼ŒåŒ…å«åœ¨å…¶ä¸­çš„å¯¹æ•°æ®åº“çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨è¢«æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚")]),e._v(" "),_("li",[e._v("ä¸€è‡´æ€§ï¼šæŒ‡åœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œäº‹åŠ¡ç»“æŸä»¥åï¼Œæ•°æ®ä¸ä¼šè¢«ç ´åï¼Œå‡å¦‚ A è´¦æˆ·ç»™ B è´¦æˆ·è½¬ 10 å—é’±ï¼Œä¸ç®¡æˆåŠŸä¸å¦ï¼ŒA å’Œ B çš„æ€»é‡‘é¢æ˜¯ä¸å˜çš„ã€‚")]),e._v(" "),_("li",[e._v("éš”ç¦»æ€§ï¼šå¤šä¸ªäº‹åŠ¡å¹¶å‘è®¿é—®æ—¶ï¼Œäº‹åŠ¡ä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œå³ä¸€ä¸ªäº‹åŠ¡ä¸å½±å“å…¶å®ƒäº‹åŠ¡è¿è¡Œæ•ˆæœã€‚ç®€è¨€ä¹‹ï¼Œå°±æ˜¯äº‹åŠ¡ä¹‹é—´æ˜¯è¿›æ°´ä¸çŠ¯æ²³æ°´çš„ã€‚")]),e._v(" "),_("li",[e._v("æŒä¹…æ€§ï¼šè¡¨ç¤ºäº‹åŠ¡å®Œæˆä»¥åï¼Œè¯¥äº‹åŠ¡å¯¹æ•°æ®åº“æ‰€ä½œçš„æ“ä½œæ›´æ”¹ï¼Œå°†æŒä¹…åœ°ä¿å­˜åœ¨æ•°æ®åº“ä¹‹ä¸­ã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_49-é‚£-acid-é ä»€ä¹ˆä¿è¯çš„å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_49-é‚£-acid-é ä»€ä¹ˆä¿è¯çš„å‘¢"}},[e._v("#")]),e._v(" 49.é‚£ ACID é ä»€ä¹ˆä¿è¯çš„å‘¢ï¼Ÿ")]),e._v(" "),_("p",[e._v("MySQL é€šè¿‡äº‹åŠ¡ç®¡ç†å’ŒæŒä¹…æ€§å­˜å‚¨æœºåˆ¶æ¥ç¡®ä¿ ACIDï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ï¼‰ã€‚")]),e._v(" "),_("p",[e._v("01ã€åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼Œå¦‚æœäº‹åŠ¡çš„æ‰€æœ‰æ“ä½œéƒ½æˆåŠŸæ‰§è¡Œï¼Œåˆ™äº‹åŠ¡è¢«æäº¤ï¼›å¦‚æœäº‹åŠ¡ä¸­çš„ä»»ä½•æ“ä½œå¤±è´¥ï¼Œæ‰€æœ‰äº‹åŠ¡ä¸­çš„æ“ä½œéƒ½ä¼šè¢«å›æ»šï¼Œä½¿æ•°æ®åº“è¿”å›åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ã€‚")]),e._v(" "),_("p",[e._v("undo log æ˜¯ InnoDB å­˜å‚¨å¼•æ“æ¥ç¡®ä¿äº‹åŠ¡åŸå­æ€§çš„å…³é”®æœºåˆ¶ï¼Œundo log è®°å½•äº†äº‹åŠ¡å‘ç”Ÿä¹‹å‰çš„æ•°æ®ï¼Œå¦‚æœäº‹åŠ¡å¤±è´¥ï¼ŒInnoDB ä¼šæ ¹æ® undo log å›æ»šæ•°æ®ã€‚")]),e._v(" "),_("p",[e._v("å½“äº‹åŠ¡å¼€å§‹ä¿®æ”¹æ•°æ®æ—¶ï¼ŒInnoDB é¦–å…ˆä¼šåœ¨"),_("code",[e._v("undo log")]),e._v("ä¸­è®°å½•æ—§å€¼ï¼ˆå³ä¿®æ”¹å‰çš„å€¼ï¼‰ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("å¦‚æœäº‹åŠ¡é¡ºåˆ©è¿›è¡Œå¹¶æœ€ç»ˆæäº¤ï¼Œ"),_("code",[e._v("undo log")]),e._v("ä¼šåœ¨æŸä¸ªæ—¶é—´ç‚¹è¢«æ¸…é™¤ã€‚")]),e._v(" "),_("li",[e._v("å¦‚æœäº‹åŠ¡ä¸­çš„æŸä¸ªæ“ä½œå¤±è´¥æˆ–è€…äº‹åŠ¡è¢«æ˜ç¡®åœ°å›æ»šï¼ŒInnoDB ä¼šä½¿ç”¨"),_("code",[e._v("undo log")]),e._v("ä¸­çš„ä¿¡æ¯æ¥æ’¤é”€æ‰€æœ‰æ›´æ”¹ï¼Œç¡®ä¿æ•°æ®çš„åŸå­æ€§ã€‚")])]),e._v(" "),_("p",[e._v("ç®€è€Œè¨€ä¹‹ï¼Œ"),_("code",[e._v("undo log")]),e._v("æœºåˆ¶ä¸º InnoDB æä¾›äº†ä¸€ç§åœ¨äº‹åŠ¡å¤±è´¥æˆ–è¢«ä¸­æ–­æ—¶æ¢å¤æ•°æ®çš„æ‰‹æ®µï¼Œä»è€Œä¿è¯äº†äº‹åŠ¡çš„åŸå­æ€§ã€‚")]),e._v(" "),_("p",[e._v("02ã€ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼Œä¿è¯åœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œäº‹åŠ¡æˆåŠŸå®Œæˆä¹‹åï¼Œæ•°æ®åº“å¤„äºä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€ã€‚ä¸­é—´çš„ä»»ä½•é˜¶æ®µï¼Œå³ä½¿äº‹åŠ¡å¤±è´¥ï¼Œä¹Ÿä¸åº”è¯¥ä½¿æ•°æ®åº“å¤„äºä¸ä¸€è‡´çš„çŠ¶æ€ã€‚")]),e._v(" "),_("p",[e._v("ä¸€è‡´æ€§æ˜¯ ACID çš„ç›®çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦ä¿è¯åŸå­æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ï¼Œè‡ªç„¶ä¹Ÿå°±ä¿è¯äº†æ•°æ®çš„ä¸€è‡´æ€§ã€‚")]),e._v(" "),_("p",[e._v("03ã€éš”ç¦»æ€§ (Isolation)ï¼ŒMySQL ä½¿ç”¨å¤šç§éš”ç¦»çº§åˆ«æ¥æ§åˆ¶äº‹åŠ¡å¦‚ä½•ä¸å…¶ä»–å¹¶å‘äº‹åŠ¡éš”ç¦»ã€‚InnoDB å­˜å‚¨å¼•æ“ä½¿ç”¨ MVCC (å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶) æœºåˆ¶æ¥å¤„ç†å¹¶å‘äº‹åŠ¡ï¼Œç¡®ä¿æ¯ä¸ªäº‹åŠ¡éƒ½æœ‰è‡ªå·±çš„æ•°æ®ç‰ˆæœ¬ã€‚")]),e._v(" "),_("p",[e._v("æ¢å¥è¯è¯´ï¼Œäº‹åŠ¡æŸ¥çœ‹æ•°æ®æ—¶ï¼Œæ•°æ®æ‰€å¤„çš„çŠ¶æ€è¦ä¹ˆæ˜¯å¦ä¸€äº‹åŠ¡ä¿®æ”¹å®ƒä¹‹å‰çš„çŠ¶æ€ï¼Œè¦ä¹ˆæ˜¯å¦ä¸€äº‹åŠ¡ä¿®æ”¹å®ƒä¹‹åçš„çŠ¶æ€ï¼Œäº‹åŠ¡ä¸ä¼šæŸ¥çœ‹åˆ°ä¸­é—´çŠ¶æ€çš„æ•°æ®ã€‚")]),e._v(" "),_("p",[e._v("åœ¨ MVCC ä¸­ï¼Œæ¯æ¬¡æ›´æ–°è®°å½•æ—¶ï¼Œéƒ½ä¼šç”Ÿæˆè®°å½•çš„ä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯è¦†ç›–è€ç‰ˆæœ¬ã€‚æ¯ä¸ªç‰ˆæœ¬éƒ½ä¼šæœ‰ä¸¤ä¸ªé¢å¤–çš„å±æ€§ï¼šä¸€ä¸ªè¡¨ç¤ºç‰ˆæœ¬çš„åˆ›å»ºæ—¶é—´ï¼ˆæˆ–äº‹åŠ¡IDï¼‰ï¼Œå¦ä¸€ä¸ªè¡¨ç¤ºç‰ˆæœ¬çš„è¿‡æœŸæ—¶é—´ï¼ˆæˆ–ä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„äº‹åŠ¡IDï¼‰ã€‚")]),e._v(" "),_("p",[e._v("å½“äº‹åŠ¡å°è¯•è¯»å–è®°å½•æ—¶ï¼Œå®ƒä¼šçœ‹åˆ°è¯¥äº‹åŠ¡å¼€å§‹æ—¶æœ‰æ•ˆçš„é‚£ä¸ªç‰ˆæœ¬ã€‚")]),e._v(" "),_("p",[e._v("MVCC é€šè¿‡æä¾›æ•°æ®ç‰ˆæœ¬æ¥æ”¯æŒäº‹åŠ¡çš„éš”ç¦»æ€§ã€‚ä¸åŒçš„äº‹åŠ¡ä¼šçœ‹åˆ°ä¸åŒç‰ˆæœ¬çš„æ•°æ®è¡Œï¼Œè¿™å–å†³äºäº‹åŠ¡çš„å¼€å§‹æ—¶é—´å’Œå®ƒçš„éš”ç¦»çº§åˆ«ã€‚")]),e._v(" "),_("p",[e._v('å¯¹äºå¦‚ "è¯»æœªæäº¤"ï¼ˆREAD UNCOMMITTEDï¼‰è¿™æ ·çš„è¾ƒä½éš”ç¦»çº§åˆ«ï¼Œäº‹åŠ¡å¯èƒ½ä¼šçœ‹åˆ°å…¶ä»–æœªæäº¤äº‹åŠ¡æ‰€åšçš„æ›´æ”¹ã€‚ä½†åœ¨æ›´é«˜çš„éš”ç¦»çº§åˆ«ï¼Œå¦‚ "å¯é‡å¤è¯»"ï¼ˆREPEATABLE READï¼‰æˆ– "ä¸²è¡ŒåŒ–"ï¼ˆSERIALIZABLEï¼‰ï¼Œäº‹åŠ¡ä¸ä¼šçœ‹åˆ°å…¶ä»–äº‹åŠ¡æ‰€åšçš„æ›´æ”¹ï¼Œç›´åˆ°å®ƒä»¬è¢«æäº¤ã€‚')]),e._v(" "),_("p",[e._v("04ã€æŒä¹…æ€§ (Durability)ï¼Œç”± MySQL çš„å­˜å‚¨å¼•æ“ï¼ˆå¦‚InnoDBï¼‰é€šè¿‡å†™å…¥ç£ç›˜æ¥ç¡®ä¿ã€‚å³ä½¿åœ¨ç³»ç»Ÿå´©æºƒä¹‹åï¼Œå·²æäº¤äº‹åŠ¡çš„æ›´æ”¹ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚")]),e._v(" "),_("p",[e._v("InnoDB ä½¿ç”¨â€œredo logâ€æ¥è®°å½•æ•°æ®çš„æ›´æ”¹ï¼Œåœ¨ç³»ç»Ÿå´©æºƒåï¼Œredo log å¯ç”¨äºæ¢å¤æ•°æ®ã€‚")]),e._v(" "),_("p",[e._v("redo log æ˜¯ä¸€ç§ç‰©ç†æ—¥å¿—ï¼Œè®°å½•äº†å¯¹æ•°æ®é¡µçš„ç‰©ç†æ›´æ”¹ã€‚å½“äº‹åŠ¡è¿›è¡Œå†™æ“ä½œæ—¶ï¼ŒInnoDB é¦–å…ˆä¼šå†™å…¥ redo logï¼Œå¹¶ä¸ä¼šç«‹å³ä¿®æ”¹æ•°æ®æ–‡ä»¶ã€‚è¿™ç§å†™å…¥æ–¹å¼è¢«ç§°ä¸ºâ€œwrite-ahead loggingâ€ï¼ˆå…ˆå†™æ—¥å¿—ï¼‰ã€‚")]),e._v(" "),_("p",[e._v("å½“ redo log å¡«æ»¡æˆ–åœ¨æŸäº›å…¶ä»–æƒ…å†µä¸‹ï¼ŒInnoDB ä¼šå¼‚æ­¥å°†è¿™äº›æ›´æ”¹åˆ·æ–°åˆ°æ•°æ®æ–‡ä»¶ä¸­ã€‚")]),e._v(" "),_("p",[e._v("ç³»ç»Ÿå´©æºƒæ—¶ï¼Œç”±äºæ•°æ®å¯èƒ½è¿˜æ²¡æœ‰è¢«çœŸæ­£å†™å…¥æ•°æ®æ–‡ä»¶ï¼Œä½†å·²ç»åœ¨ redo log ä¸­ï¼Œå› æ­¤ç³»ç»Ÿå¯ä»¥åœ¨å¯åŠ¨æ—¶ä½¿ç”¨è¿™äº›æ—¥å¿—æ¥é‡æ–°æ‰§è¡Œæˆ–â€œé‡åšâ€è¿™äº›æ›´æ”¹ï¼Œç¡®ä¿æ•°æ®çš„æŒä¹…æ€§ã€‚")]),e._v(" "),_("p",[e._v("å³ä½¿æ•°æ®åº“åœ¨äº‹åŠ¡æäº¤åç«‹å³å´©æºƒï¼Œç”±äºäº‹åŠ¡çš„æ›´æ”¹å·²ç»è®°å½•åœ¨ redo log ä¸­ï¼Œè¿™äº›æ›´æ”¹åœ¨æ•°æ®åº“æ¢å¤æ—¶ä»ç„¶æ˜¯å®‰å…¨çš„ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/stutymore/mysql-20230919103025.png",alt:""}})]),e._v(" "),_("h3",{attrs:{id:"_50-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›-mysql-çš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯ä»€ä¹ˆ"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_50-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›-mysql-çš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯ä»€ä¹ˆ"}},[e._v("#")]),e._v(" 50.äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼ŸMySQL çš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-99942529-4a91-420b-9ce2-4149e747f64d.jpg",alt:""}})]),e._v(" "),_("p",[e._v("äº‹åŠ¡çš„å››ä¸ªéš”ç¦»çº§åˆ«")]),e._v(" "),_("ul",[_("li",[e._v("è¯»æœªæäº¤ï¼ˆRead Uncommittedï¼‰")]),e._v(" "),_("li",[e._v("è¯»å·²æäº¤ï¼ˆRead Committedï¼‰")]),e._v(" "),_("li",[e._v("å¯é‡å¤è¯»ï¼ˆRepeatable Readï¼‰")]),e._v(" "),_("li",[e._v("ä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰")])]),e._v(" "),_("p",[e._v("MySQL é»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯å¯é‡å¤è¯» (Repeatable Read)ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_51-ä»€ä¹ˆæ˜¯å¹»è¯»-è„è¯»-ä¸å¯é‡å¤è¯»å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_51-ä»€ä¹ˆæ˜¯å¹»è¯»-è„è¯»-ä¸å¯é‡å¤è¯»å‘¢"}},[e._v("#")]),e._v(" 51.ä»€ä¹ˆæ˜¯å¹»è¯»ï¼Œè„è¯»ï¼Œä¸å¯é‡å¤è¯»å‘¢ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("äº‹åŠ¡ Aã€B äº¤æ›¿æ‰§è¡Œï¼Œäº‹åŠ¡ A è¯»å–åˆ°äº‹åŠ¡ B æœªæäº¤çš„æ•°æ®ï¼Œè¿™å°±æ˜¯"),_("strong",[e._v("è„è¯»")]),e._v("ã€‚")]),e._v(" "),_("li",[e._v("åœ¨ä¸€ä¸ªäº‹åŠ¡èŒƒå›´å†…ï¼Œä¸¤ä¸ªç›¸åŒçš„æŸ¥è¯¢ï¼Œè¯»å–åŒä¸€æ¡è®°å½•ï¼Œå´è¿”å›äº†ä¸åŒçš„æ•°æ®ï¼Œè¿™å°±æ˜¯"),_("strong",[e._v("ä¸å¯é‡å¤è¯»")]),e._v("ã€‚")]),e._v(" "),_("li",[e._v("äº‹åŠ¡ A æŸ¥è¯¢ä¸€ä¸ªèŒƒå›´çš„ç»“æœé›†ï¼Œå¦ä¸€ä¸ªå¹¶å‘äº‹åŠ¡ B å¾€è¿™ä¸ªèŒƒå›´ä¸­æ’å…¥ / åˆ é™¤äº†æ•°æ®ï¼Œå¹¶é™æ‚„æ‚„åœ°æäº¤ï¼Œç„¶åäº‹åŠ¡ A å†æ¬¡æŸ¥è¯¢ç›¸åŒçš„èŒƒå›´ï¼Œä¸¤æ¬¡è¯»å–å¾—åˆ°çš„ç»“æœé›†ä¸ä¸€æ ·äº†ï¼Œè¿™å°±æ˜¯"),_("strong",[e._v("å¹»è¯»")]),e._v("ã€‚")])]),e._v(" "),_("p",[e._v("ä¸åŒçš„éš”ç¦»çº§åˆ«ï¼Œåœ¨å¹¶å‘äº‹åŠ¡ä¸‹å¯èƒ½ä¼šå‘ç”Ÿçš„é—®é¢˜ï¼š")]),e._v(" "),_("table",[_("thead",[_("tr",[_("th",[e._v("éš”ç¦»çº§åˆ«")]),e._v(" "),_("th",[e._v("è„è¯»")]),e._v(" "),_("th",[e._v("ä¸å¯é‡å¤è¯»")]),e._v(" "),_("th",[e._v("å¹»è¯»")])])]),e._v(" "),_("tbody",[_("tr",[_("td",[e._v("Read Uncommited è¯»å–æœªæäº¤")]),e._v(" "),_("td",[e._v("æ˜¯")]),e._v(" "),_("td",[e._v("æ˜¯")]),e._v(" "),_("td",[e._v("æ˜¯")])]),e._v(" "),_("tr",[_("td",[e._v("Read Commited è¯»å–å·²æäº¤")]),e._v(" "),_("td",[e._v("å¦")]),e._v(" "),_("td",[e._v("æ˜¯")]),e._v(" "),_("td",[e._v("æ˜¯")])]),e._v(" "),_("tr",[_("td",[e._v("Repeatable Read å¯é‡å¤è¯»")]),e._v(" "),_("td",[e._v("å¦")]),e._v(" "),_("td",[e._v("å¦")]),e._v(" "),_("td",[e._v("æ˜¯")])]),e._v(" "),_("tr",[_("td",[e._v("Serialzable å¯ä¸²è¡ŒåŒ–")]),e._v(" "),_("td",[e._v("å¦")]),e._v(" "),_("td",[e._v("å¦")]),e._v(" "),_("td",[e._v("å¦")])])])]),e._v(" "),_("h3",{attrs:{id:"_52-äº‹åŠ¡çš„å„ä¸ªéš”ç¦»çº§åˆ«éƒ½æ˜¯å¦‚ä½•å®ç°çš„"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_52-äº‹åŠ¡çš„å„ä¸ªéš”ç¦»çº§åˆ«éƒ½æ˜¯å¦‚ä½•å®ç°çš„"}},[e._v("#")]),e._v(" 52.äº‹åŠ¡çš„å„ä¸ªéš”ç¦»çº§åˆ«éƒ½æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ")]),e._v(" "),_("p",[_("strong",[e._v("è¯»æœªæäº¤")])]),e._v(" "),_("p",[e._v("è¯»æœªæäº¤ï¼Œå°±ä¸ç”¨å¤šè¯´äº†ï¼Œé‡‡å–çš„æ˜¯è¯»ä¸åŠ é”åŸç†ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("äº‹åŠ¡è¯»ä¸åŠ é”ï¼Œä¸é˜»å¡å…¶ä»–äº‹åŠ¡çš„è¯»å’Œå†™")]),e._v(" "),_("li",[e._v("äº‹åŠ¡å†™é˜»å¡å…¶ä»–äº‹åŠ¡å†™ï¼Œä½†ä¸é˜»å¡å…¶ä»–äº‹åŠ¡è¯»ï¼›")])]),e._v(" "),_("p",[_("strong",[e._v("è¯»å–å·²æäº¤&å¯é‡å¤è¯»")])]),e._v(" "),_("p",[e._v("è¯»å–å·²æäº¤å’Œå¯é‡å¤è¯»çº§åˆ«åˆ©ç”¨äº†"),_("code",[e._v("ReadView")]),e._v("å’Œ"),_("code",[e._v("MVCC")]),e._v("ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªäº‹åŠ¡åªèƒ½è¯»å–å®ƒèƒ½çœ‹åˆ°çš„ç‰ˆæœ¬ï¼ˆReadViewï¼‰ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("READ COMMITTEDï¼šæ¯æ¬¡è¯»å–æ•°æ®å‰éƒ½ç”Ÿæˆä¸€ä¸ª ReadView")]),e._v(" "),_("li",[e._v("REPEATABLE READ ï¼šåœ¨ç¬¬ä¸€æ¬¡è¯»å–æ•°æ®æ—¶ç”Ÿæˆä¸€ä¸ª ReadView")])]),e._v(" "),_("p",[_("strong",[e._v("ä¸²è¡ŒåŒ–")])]),e._v(" "),_("p",[e._v("ä¸²è¡ŒåŒ–çš„å®ç°é‡‡ç”¨çš„æ˜¯è¯»å†™éƒ½åŠ é”çš„åŸç†ã€‚")]),e._v(" "),_("p",[e._v("ä¸²è¡ŒåŒ–çš„æƒ…å†µä¸‹ï¼Œå¯¹äºåŒä¸€è¡Œäº‹åŠ¡ï¼Œ"),_("code",[e._v("å†™")]),e._v("ä¼šåŠ "),_("code",[e._v("å†™é”")]),e._v("ï¼Œ"),_("code",[e._v("è¯»")]),e._v("ä¼šåŠ "),_("code",[e._v("è¯»é”")]),e._v("ã€‚å½“å‡ºç°è¯»å†™é”å†²çªçš„æ—¶å€™ï¼Œåè®¿é—®çš„äº‹åŠ¡å¿…é¡»ç­‰å‰ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œå®Œæˆï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚")]),e._v(" "),_("h3",{attrs:{id:"_53-mvcc-äº†è§£å—-æ€ä¹ˆå®ç°çš„"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_53-mvcc-äº†è§£å—-æ€ä¹ˆå®ç°çš„"}},[e._v("#")]),e._v(" 53.MVCC äº†è§£å—ï¼Ÿæ€ä¹ˆå®ç°çš„ï¼Ÿ")]),e._v(" "),_("p",[e._v("MVCC(Multi Version Concurrency Control)ï¼Œä¸­æ–‡åæ˜¯å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼Œç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡ç»´æŠ¤æ•°æ®å†å²ç‰ˆæœ¬ï¼Œä»è€Œè§£å†³å¹¶å‘è®¿é—®æƒ…å†µä¸‹çš„è¯»ä¸€è‡´æ€§é—®é¢˜ã€‚å…³äºå®ƒçš„å®ç°ï¼Œè¦æŠ“ä½å‡ ä¸ªå…³é”®ç‚¹ï¼Œ"),_("strong",[e._v("éšå¼å­—æ®µã€undo æ—¥å¿—ã€ç‰ˆæœ¬é“¾ã€å¿«ç…§è¯»&å½“å‰è¯»ã€Read View")]),e._v("ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("ç‰ˆæœ¬é“¾")])]),e._v(" "),_("p",[e._v("å¯¹äº InnoDB å­˜å‚¨å¼•æ“ï¼Œæ¯ä¸€è¡Œè®°å½•éƒ½æœ‰ä¸¤ä¸ªéšè—åˆ—"),_("strong",[e._v("DB_TRX_IDã€DB_ROLL_PTR")])]),e._v(" "),_("ul",[_("li",[_("code",[e._v("DB_TRX_ID")]),e._v("ï¼Œäº‹åŠ¡ IDï¼Œæ¯æ¬¡ä¿®æ”¹æ—¶ï¼Œéƒ½ä¼šæŠŠè¯¥äº‹åŠ¡ ID å¤åˆ¶ç»™"),_("code",[e._v("DB_TRX_ID")]),e._v("ï¼›")]),e._v(" "),_("li",[_("code",[e._v("DB_ROLL_PTR")]),e._v("ï¼Œå›æ»šæŒ‡é’ˆï¼ŒæŒ‡å‘å›æ»šæ®µçš„ undo æ—¥å¿—ã€‚")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-81b091fb-77d9-440e-940e-253b905c0be3.jpg",alt:"è¡¨éšè—åˆ—"}})]),e._v(" "),_("p",[e._v("å‡å¦‚æœ‰ä¸€å¼ "),_("code",[e._v("user")]),e._v("è¡¨ï¼Œè¡¨ä¸­åªæœ‰ä¸€è¡Œè®°å½•ï¼Œå½“æ—¶æ’å…¥çš„äº‹åŠ¡ id ä¸º 80ã€‚æ­¤æ—¶ï¼Œè¯¥æ¡è®°å½•çš„ç¤ºä¾‹å›¾å¦‚ä¸‹ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-80ebc2b3-ae63-417d-9307-f6a7811f7965.jpg",alt:""}})]),e._v(" "),_("p",[e._v("æ¥ä¸‹æ¥æœ‰ä¸¤ä¸ª"),_("code",[e._v("DB_TRX_ID")]),e._v("åˆ†åˆ«ä¸º"),_("code",[e._v("100")]),e._v("ã€"),_("code",[e._v("200")]),e._v("çš„äº‹åŠ¡å¯¹è¿™æ¡è®°å½•è¿›è¡Œ"),_("code",[e._v("update")]),e._v("æ“ä½œï¼Œæ•´ä¸ªè¿‡ç¨‹å¦‚ä¸‹ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-bf4ff00d-01bd-4170-a17b-6919f7873ea4.jpg",alt:"update æ“ä½œ"}})]),e._v(" "),_("p",[e._v("ç”±äºæ¯æ¬¡å˜åŠ¨éƒ½ä¼šå…ˆæŠŠ"),_("code",[e._v("undo")]),e._v("æ—¥å¿—è®°å½•ä¸‹æ¥ï¼Œå¹¶ç”¨"),_("code",[e._v("DB_ROLL_PTR")]),e._v("æŒ‡å‘"),_("code",[e._v("undo")]),e._v("æ—¥å¿—åœ°å€ã€‚å› æ­¤å¯ä»¥è®¤ä¸ºï¼Œ"),_("strong",[e._v("å¯¹è¯¥æ¡è®°å½•çš„ä¿®æ”¹æ—¥å¿—ä¸²è”èµ·æ¥å°±å½¢æˆäº†ä¸€ä¸ª"),_("code",[e._v("ç‰ˆæœ¬é“¾")]),e._v("ï¼Œç‰ˆæœ¬é“¾çš„å¤´èŠ‚ç‚¹å°±æ˜¯å½“å‰è®°å½•æœ€æ–°çš„å€¼")]),e._v("ã€‚å¦‚ä¸‹ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-765b3d83-14eb-4b56-8940-9d60bfaf1737.jpg",alt:"MVCC"}})]),e._v(" "),_("p",[_("strong",[e._v("ReadView")])]),e._v(" "),_("blockquote",[_("p",[e._v("å¯¹äº"),_("code",[e._v("Read Committed")]),e._v("å’Œ"),_("code",[e._v("Repeatable Read")]),e._v("éš”ç¦»çº§åˆ«æ¥è¯´ï¼Œéƒ½éœ€è¦è¯»å–å·²ç»æäº¤çš„äº‹åŠ¡æ‰€ä¿®æ”¹çš„è®°å½•ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœç‰ˆæœ¬é“¾ä¸­æŸä¸ªç‰ˆæœ¬çš„ä¿®æ”¹æ²¡æœ‰æäº¤ï¼Œé‚£ä¹ˆè¯¥ç‰ˆæœ¬çš„è®°å½•æ—¶ä¸èƒ½è¢«è¯»å–çš„ã€‚æ‰€ä»¥éœ€è¦ç¡®å®šåœ¨"),_("code",[e._v("Read Committed")]),e._v("å’Œ"),_("code",[e._v("Repeatable Read")]),e._v("éš”ç¦»çº§åˆ«ä¸‹ï¼Œç‰ˆæœ¬é“¾ä¸­å“ªä¸ªç‰ˆæœ¬æ˜¯èƒ½è¢«å½“å‰äº‹åŠ¡è¯»å–çš„ã€‚äºæ˜¯å°±å¼•å…¥äº†"),_("code",[e._v("ReadView")]),e._v("è¿™ä¸ªæ¦‚å¿µæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚")])]),e._v(" "),_("p",[e._v("Read View å°±æ˜¯äº‹åŠ¡æ‰§è¡Œ"),_("strong",[e._v("å¿«ç…§è¯»")]),e._v("æ—¶ï¼Œäº§ç”Ÿçš„è¯»è§†å›¾ï¼Œç›¸å½“äºæŸæ—¶åˆ»è¡¨è®°å½•çš„ä¸€ä¸ªå¿«ç…§ï¼Œé€šè¿‡è¿™ä¸ªå¿«ç…§ï¼Œæˆ‘ä»¬å¯ä»¥è·å–ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-4451a8c6-8e90-4941-a6be-c09533fa6c03.jpg",alt:"äº‹åŠ¡å’Œ ReadView"}})]),e._v(" "),_("ul",[_("li",[e._v("m_ids ï¼šè¡¨ç¤ºåœ¨ç”Ÿæˆ ReadView æ—¶å½“å‰ç³»ç»Ÿä¸­æ´»è·ƒçš„è¯»å†™äº‹åŠ¡çš„äº‹åŠ¡ id åˆ—è¡¨ã€‚")]),e._v(" "),_("li",[e._v("min_trx_id ï¼šè¡¨ç¤ºåœ¨ç”Ÿæˆ ReadView æ—¶å½“å‰ç³»ç»Ÿä¸­æ´»è·ƒçš„è¯»å†™äº‹åŠ¡ä¸­æœ€å°çš„ äº‹åŠ¡ id ï¼Œä¹Ÿå°±æ˜¯ m_ids ä¸­çš„æœ€å°å€¼ã€‚")]),e._v(" "),_("li",[e._v("max_trx_id ï¼šè¡¨ç¤ºç”Ÿæˆ ReadView æ—¶ç³»ç»Ÿä¸­åº”è¯¥åˆ†é…ç»™ä¸‹ä¸€ä¸ªäº‹åŠ¡çš„ id å€¼ã€‚")]),e._v(" "),_("li",[e._v("creator_trx_id ï¼šè¡¨ç¤ºç”Ÿæˆè¯¥ ReadView çš„äº‹åŠ¡çš„ äº‹åŠ¡ id")])]),e._v(" "),_("p",[e._v("æœ‰äº†è¿™ä¸ª ReadView ï¼Œè¿™æ ·åœ¨è®¿é—®æŸæ¡è®°å½•æ—¶ï¼Œåªéœ€è¦æŒ‰ç…§ä¸‹è¾¹çš„æ­¥éª¤åˆ¤æ–­è®°å½•çš„æŸä¸ªç‰ˆæœ¬æ˜¯å¦å¯è§ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("å¦‚æœè¢«è®¿é—®ç‰ˆæœ¬çš„ DB_TRX_ID å±æ€§å€¼ä¸ ReadView ä¸­çš„ creator_trx_id å€¼ç›¸åŒï¼Œæ„å‘³ç€å½“å‰äº‹åŠ¡åœ¨è®¿é—®å®ƒè‡ªå·±ä¿®æ”¹è¿‡çš„è®°å½•ï¼Œæ‰€ä»¥è¯¥ç‰ˆæœ¬å¯ä»¥è¢«å½“å‰äº‹åŠ¡è®¿é—®ã€‚")]),e._v(" "),_("li",[e._v("å¦‚æœè¢«è®¿é—®ç‰ˆæœ¬çš„ DB_TRX_ID å±æ€§å€¼å°äº ReadView ä¸­çš„ min_trx_id å€¼ï¼Œè¡¨æ˜ç”Ÿæˆè¯¥ç‰ˆæœ¬çš„äº‹åŠ¡åœ¨å½“å‰äº‹åŠ¡ç”Ÿæˆ ReadView å‰å·²ç»æäº¤ï¼Œæ‰€ä»¥è¯¥ç‰ˆæœ¬å¯ä»¥è¢«å½“å‰äº‹åŠ¡è®¿é—®ã€‚")]),e._v(" "),_("li",[e._v("å¦‚æœè¢«è®¿é—®ç‰ˆæœ¬çš„ DB_TRX_ID å±æ€§å€¼å¤§äº ReadView ä¸­çš„ max_trx_id å€¼ï¼Œè¡¨æ˜ç”Ÿæˆè¯¥ç‰ˆæœ¬çš„äº‹åŠ¡åœ¨å½“å‰äº‹åŠ¡ç”Ÿæˆ ReadView åæ‰å¼€å¯ï¼Œæ‰€ä»¥è¯¥ç‰ˆæœ¬ä¸å¯ä»¥è¢«å½“å‰äº‹åŠ¡è®¿é—®ã€‚")]),e._v(" "),_("li",[e._v("å¦‚æœè¢«è®¿é—®ç‰ˆæœ¬çš„ DB_TRX_ID å±æ€§å€¼åœ¨ ReadView çš„ min_trx_id å’Œ max_trx_id ä¹‹é—´ï¼Œé‚£å°±éœ€è¦åˆ¤æ–­ä¸€ä¸‹ trx_id å±æ€§å€¼æ˜¯ä¸æ˜¯åœ¨ m_ids åˆ—è¡¨ä¸­ï¼Œå¦‚æœåœ¨ï¼Œè¯´æ˜åˆ›å»º ReadView æ—¶ç”Ÿæˆè¯¥ç‰ˆæœ¬çš„äº‹åŠ¡è¿˜æ˜¯æ´»è·ƒçš„ï¼Œè¯¥ç‰ˆæœ¬ä¸å¯ä»¥è¢«è®¿é—®ï¼›å¦‚æœä¸åœ¨ï¼Œè¯´æ˜åˆ›å»º ReadView æ—¶ç”Ÿæˆè¯¥ç‰ˆæœ¬çš„äº‹åŠ¡å·²ç»è¢«æäº¤ï¼Œè¯¥ç‰ˆæœ¬å¯ä»¥è¢«è®¿é—®ã€‚")])]),e._v(" "),_("p",[e._v("å¦‚æœæŸä¸ªç‰ˆæœ¬çš„æ•°æ®å¯¹å½“å‰äº‹åŠ¡ä¸å¯è§çš„è¯ï¼Œé‚£å°±é¡ºç€ç‰ˆæœ¬é“¾æ‰¾åˆ°ä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„æ•°æ®ï¼Œç»§ç»­æŒ‰ç…§ä¸Šè¾¹çš„æ­¥éª¤åˆ¤æ–­å¯è§æ€§ï¼Œä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°ç‰ˆæœ¬é“¾ä¸­çš„æœ€åä¸€ä¸ªç‰ˆæœ¬ã€‚å¦‚æœæœ€åä¸€ä¸ªç‰ˆæœ¬ä¹Ÿä¸å¯è§çš„è¯ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€è¯¥æ¡è®°å½•å¯¹è¯¥äº‹åŠ¡å®Œå…¨ä¸å¯è§ï¼ŒæŸ¥è¯¢ç»“æœå°±ä¸åŒ…å«è¯¥è®°å½•ã€‚")]),e._v(" "),_("p",[e._v("åœ¨ MySQL ä¸­ï¼Œ READ COMMITTED å’Œ REPEATABLE READ éš”ç¦»çº§åˆ«çš„çš„ä¸€ä¸ªéå¸¸å¤§çš„åŒºåˆ«å°±æ˜¯å®ƒä»¬ç”Ÿæˆ ReadView çš„æ—¶æœºä¸åŒã€‚")]),e._v(" "),_("p",[e._v("READ COMMITTED æ˜¯"),_("strong",[e._v("æ¯æ¬¡è¯»å–æ•°æ®å‰éƒ½ç”Ÿæˆä¸€ä¸ª ReadView")]),e._v("ï¼Œè¿™æ ·å°±èƒ½ä¿è¯è‡ªå·±æ¯æ¬¡éƒ½èƒ½è¯»åˆ°å…¶å®ƒäº‹åŠ¡æäº¤çš„æ•°æ®ï¼›REPEATABLE READ æ˜¯åœ¨"),_("strong",[e._v("ç¬¬ä¸€æ¬¡è¯»å–æ•°æ®æ—¶ç”Ÿæˆä¸€ä¸ª ReadView")]),e._v("ï¼Œè¿™æ ·å°±èƒ½ä¿è¯åç»­è¯»å–çš„ç»“æœå®Œå…¨ä¸€è‡´ã€‚")]),e._v(" "),_("h2",{attrs:{id:"é«˜å¯ç”¨-æ€§èƒ½"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#é«˜å¯ç”¨-æ€§èƒ½"}},[e._v("#")]),e._v(" é«˜å¯ç”¨/æ€§èƒ½")]),e._v(" "),_("h3",{attrs:{id:"_54-æ•°æ®åº“è¯»å†™åˆ†ç¦»äº†è§£å—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_54-æ•°æ®åº“è¯»å†™åˆ†ç¦»äº†è§£å—"}},[e._v("#")]),e._v(" 54.æ•°æ®åº“è¯»å†™åˆ†ç¦»äº†è§£å—ï¼Ÿ")]),e._v(" "),_("p",[e._v("è¯»å†™åˆ†ç¦»çš„åŸºæœ¬åŸç†æ˜¯å°†æ•°æ®åº“è¯»å†™æ“ä½œåˆ†æ•£åˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸Šï¼Œä¸‹é¢æ˜¯åŸºæœ¬æ¶æ„å›¾ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-31df767c-db05-4de4-a05b-a45bcf76c1bf.jpg",alt:"è¯»å†™åˆ†ç¦»"}})]),e._v(" "),_("p",[e._v("è¯»å†™åˆ†ç¦»çš„åŸºæœ¬å®ç°æ˜¯:")]),e._v(" "),_("ul",[_("li",[e._v("æ•°æ®åº“æœåŠ¡å™¨æ­å»ºä¸»ä»é›†ç¾¤ï¼Œä¸€ä¸»ä¸€ä»ã€ä¸€ä¸»å¤šä»éƒ½å¯ä»¥ã€‚")]),e._v(" "),_("li",[e._v("æ•°æ®åº“ä¸»æœºè´Ÿè´£è¯»å†™æ“ä½œï¼Œä»æœºåªè´Ÿè´£è¯»æ“ä½œã€‚")]),e._v(" "),_("li",[e._v("æ•°æ®åº“ä¸»æœºé€šè¿‡å¤åˆ¶å°†æ•°æ®åŒæ­¥åˆ°ä»æœºï¼Œæ¯å°æ•°æ®åº“æœåŠ¡å™¨éƒ½å­˜å‚¨äº†æ‰€æœ‰çš„ä¸šåŠ¡æ•°æ®ã€‚")]),e._v(" "),_("li",[e._v("ä¸šåŠ¡æœåŠ¡å™¨å°†å†™æ“ä½œå‘ç»™æ•°æ®åº“ä¸»æœºï¼Œå°†è¯»æ“ä½œå‘ç»™æ•°æ®åº“ä»æœºã€‚")])]),e._v(" "),_("h3",{attrs:{id:"_55-é‚£è¯»å†™åˆ†ç¦»çš„åˆ†é…æ€ä¹ˆå®ç°å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_55-é‚£è¯»å†™åˆ†ç¦»çš„åˆ†é…æ€ä¹ˆå®ç°å‘¢"}},[e._v("#")]),e._v(" 55.é‚£è¯»å†™åˆ†ç¦»çš„åˆ†é…æ€ä¹ˆå®ç°å‘¢ï¼Ÿ")]),e._v(" "),_("p",[e._v("å°†è¯»å†™æ“ä½œåŒºåˆ†å¼€æ¥ï¼Œç„¶åè®¿é—®ä¸åŒçš„æ•°æ®åº“æœåŠ¡å™¨ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼šç¨‹åºä»£ç å°è£…å’Œä¸­é—´ä»¶å°è£…ã€‚")]),e._v(" "),_("ol",[_("li",[e._v("ç¨‹åºä»£ç å°è£…")])]),e._v(" "),_("p",[e._v('ç¨‹åºä»£ç å°è£…æŒ‡åœ¨ä»£ç ä¸­æŠ½è±¡ä¸€ä¸ªæ•°æ®è®¿é—®å±‚ï¼ˆæ‰€ä»¥æœ‰çš„æ–‡ç« ä¹Ÿç§°è¿™ç§æ–¹å¼ä¸º "ä¸­é—´å±‚å°è£…" ï¼‰ ï¼Œå®ç°è¯»å†™æ“ä½œåˆ†ç¦»å’Œæ•°æ®åº“æœåŠ¡å™¨è¿æ¥çš„ç®¡ç†ã€‚ä¾‹å¦‚ï¼ŒåŸºäº Hibernate è¿›è¡Œç®€å•å°è£…ï¼Œå°±å¯ä»¥å®ç°è¯»å†™åˆ†ç¦»ï¼š')]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-771eb01f-3f1a-4437-8e1b-affe4de36ec3.jpg",alt:"ä¸šåŠ¡ä»£ç å°è£…"}})]),e._v(" "),_("p",[e._v("ç›®å‰å¼€æºçš„å®ç°æ–¹æ¡ˆä¸­ï¼Œæ·˜å®çš„ TDDL (Taobao Distributed Data Layer, å¤–å·ï¼šå¤´éƒ½å¤§äº†ï¼‰æ˜¯æ¯”è¾ƒæœ‰åçš„ã€‚")]),e._v(" "),_("ol",{attrs:{start:"2"}},[_("li",[e._v("ä¸­é—´ä»¶å°è£…")])]),e._v(" "),_("p",[e._v("ä¸­é—´ä»¶å°è£…æŒ‡çš„æ˜¯ç‹¬ç«‹ä¸€å¥—ç³»ç»Ÿå‡ºæ¥ï¼Œå®ç°è¯»å†™æ“ä½œåˆ†ç¦»å’Œæ•°æ®åº“æœåŠ¡å™¨è¿æ¥çš„ç®¡ç†ã€‚ä¸­é—´ä»¶å¯¹ä¸šåŠ¡æœåŠ¡å™¨æä¾› SQL å…¼å®¹çš„åè®®ï¼Œä¸šåŠ¡æœåŠ¡å™¨æ— é¡»è‡ªå·±è¿›è¡Œè¯»å†™åˆ†ç¦»ã€‚")]),e._v(" "),_("p",[e._v("å¯¹äºä¸šåŠ¡æœåŠ¡å™¨æ¥è¯´ï¼Œè®¿é—®ä¸­é—´ä»¶å’Œè®¿é—®æ•°æ®åº“æ²¡æœ‰åŒºåˆ«ï¼Œäº‹å®ä¸Šåœ¨ä¸šåŠ¡æœåŠ¡å™¨çœ‹æ¥ï¼Œä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨ã€‚")]),e._v(" "),_("p",[e._v("å…¶åŸºæœ¬æ¶æ„æ˜¯ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-f2313613-25bd-4065-8f63-969a4b5757a7.jpg",alt:"æ•°æ®åº“ä¸­é—´ä»¶"}})]),e._v(" "),_("h3",{attrs:{id:"_56-ä¸»ä»å¤åˆ¶åŸç†äº†è§£å—"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_56-ä¸»ä»å¤åˆ¶åŸç†äº†è§£å—"}},[e._v("#")]),e._v(" 56.ä¸»ä»å¤åˆ¶åŸç†äº†è§£å—ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("master æ•°æ®å†™å…¥ï¼Œæ›´æ–° binlog")]),e._v(" "),_("li",[e._v("master åˆ›å»ºä¸€ä¸ª dump çº¿ç¨‹å‘ slave æ¨é€ binlog")]),e._v(" "),_("li",[e._v("slave è¿æ¥åˆ° master çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ª IO çº¿ç¨‹æ¥æ”¶ binlogï¼Œå¹¶è®°å½•åˆ° relay log ä¸­ç»§æ—¥å¿—ä¸­")]),e._v(" "),_("li",[e._v("slave å†å¼€å¯ä¸€ä¸ª sql çº¿ç¨‹è¯»å– relay log äº‹ä»¶å¹¶åœ¨ slave æ‰§è¡Œï¼Œå®ŒæˆåŒæ­¥")]),e._v(" "),_("li",[e._v("slave è®°å½•è‡ªå·±çš„ binglog")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-1bfbfcb5-2392-4f98-be1b-a66204da09e5.jpg",alt:"ä¸»ä»å¤åˆ¶"}})]),e._v(" "),_("h3",{attrs:{id:"_57-ä¸»ä»åŒæ­¥å»¶è¿Ÿæ€ä¹ˆå¤„ç†"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_57-ä¸»ä»åŒæ­¥å»¶è¿Ÿæ€ä¹ˆå¤„ç†"}},[e._v("#")]),e._v(" 57.ä¸»ä»åŒæ­¥å»¶è¿Ÿæ€ä¹ˆå¤„ç†ï¼Ÿ")]),e._v(" "),_("p",[_("strong",[e._v("ä¸»ä»åŒæ­¥å»¶è¿Ÿçš„åŸå› ")])]),e._v(" "),_("p",[e._v("ä¸€ä¸ªæœåŠ¡å™¨å¼€æ”¾ï¼®ä¸ªé“¾æ¥ç»™å®¢æˆ·ç«¯æ¥è¿æ¥çš„ï¼Œè¿™æ ·æœ‰ä¼šæœ‰å¤§å¹¶å‘çš„æ›´æ–°æ“ä½œ, ä½†æ˜¯ä»æœåŠ¡å™¨çš„é‡Œé¢è¯»å– binlog çš„çº¿ç¨‹ä»…æœ‰ä¸€ä¸ªï¼Œå½“æŸä¸ª SQL åœ¨ä»æœåŠ¡å™¨ä¸Šæ‰§è¡Œçš„æ—¶é—´ç¨é•¿ æˆ–è€…ç”±äºæŸä¸ª SQL è¦è¿›è¡Œé”è¡¨å°±ä¼šå¯¼è‡´ï¼Œä¸»æœåŠ¡å™¨çš„ SQL å¤§é‡ç§¯å‹ï¼Œæœªè¢«åŒæ­¥åˆ°ä»æœåŠ¡å™¨é‡Œã€‚è¿™å°±å¯¼è‡´äº†ä¸»ä»ä¸ä¸€è‡´ï¼Œ ä¹Ÿå°±æ˜¯ä¸»ä»å»¶è¿Ÿã€‚")]),e._v(" "),_("p",[_("strong",[e._v("ä¸»ä»åŒæ­¥å»¶è¿Ÿçš„è§£å†³åŠæ³•")])]),e._v(" "),_("p",[e._v("è§£å†³ä¸»ä»å¤åˆ¶å»¶è¿Ÿæœ‰å‡ ç§å¸¸è§çš„æ–¹æ³•:")]),e._v(" "),_("ol",[_("li",[e._v("å†™æ“ä½œåçš„è¯»æ“ä½œæŒ‡å®šå‘ç»™æ•°æ®åº“ä¸»æœåŠ¡å™¨")])]),e._v(" "),_("p",[e._v("ä¾‹å¦‚ï¼Œæ³¨å†Œè´¦å·å®Œæˆåï¼Œç™»å½•æ—¶è¯»å–è´¦å·çš„è¯»æ“ä½œä¹Ÿå‘ç»™æ•°æ®åº“ä¸»æœåŠ¡å™¨ã€‚è¿™ç§æ–¹å¼å’Œä¸šåŠ¡å¼ºç»‘å®šï¼Œå¯¹ä¸šåŠ¡çš„ä¾µå…¥å’Œå½±å“è¾ƒå¤§ï¼Œå¦‚æœå“ªä¸ªæ–°æ¥çš„ç¨‹åºå‘˜ä¸çŸ¥é“è¿™æ ·å†™ä»£ç ï¼Œå°±ä¼šå¯¼è‡´ä¸€ä¸ª bugã€‚")]),e._v(" "),_("ol",{attrs:{start:"2"}},[_("li",[e._v("è¯»ä»æœºå¤±è´¥åå†è¯»ä¸€æ¬¡ä¸»æœº")])]),e._v(" "),_("p",[e._v('è¿™å°±æ˜¯é€šå¸¸æ‰€è¯´çš„ "äºŒæ¬¡è¯»å–" ï¼ŒäºŒæ¬¡è¯»å–å’Œä¸šåŠ¡æ— ç»‘å®šï¼Œåªéœ€è¦å¯¹åº•å±‚æ•°æ®åº“è®¿é—®çš„ API è¿›è¡Œå°è£…å³å¯ï¼Œå®ç°ä»£ä»·è¾ƒå°ï¼Œä¸è¶³ä¹‹å¤„åœ¨äºå¦‚æœæœ‰å¾ˆå¤šäºŒæ¬¡è¯»å–ï¼Œå°†å¤§å¤§å¢åŠ ä¸»æœºçš„è¯»æ“ä½œå‹åŠ›ã€‚ä¾‹å¦‚ï¼Œé»‘å®¢æš´åŠ›ç ´è§£è´¦å·ï¼Œä¼šå¯¼è‡´å¤§é‡çš„äºŒæ¬¡è¯»å–æ“ä½œï¼Œä¸»æœºå¯èƒ½é¡¶ä¸ä½è¯»æ“ä½œçš„å‹åŠ›ä»è€Œå´©æºƒã€‚')]),e._v(" "),_("ol",{attrs:{start:"3"}},[_("li",[e._v("å…³é”®ä¸šåŠ¡è¯»å†™æ“ä½œå…¨éƒ¨æŒ‡å‘ä¸»æœºï¼Œéå…³é”®ä¸šåŠ¡é‡‡ç”¨è¯»å†™åˆ†ç¦»")])]),e._v(" "),_("p",[e._v("ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªç”¨æˆ·ç®¡ç†ç³»ç»Ÿæ¥è¯´ï¼Œæ³¨å†Œ + ç™»å½•çš„ä¸šåŠ¡è¯»å†™æ“ä½œå…¨éƒ¨è®¿é—®ä¸»æœºï¼Œç”¨æˆ·çš„ä»‹ç»ã€çˆ°å¥½ã€ç­‰çº§ç­‰ä¸šåŠ¡ï¼Œå¯ä»¥é‡‡ç”¨è¯»å†™åˆ†ç¦»ï¼Œå› ä¸ºå³ä½¿ç”¨æˆ·æ”¹äº†è‡ªå·±çš„è‡ªæˆ‘ä»‹ç»ï¼Œåœ¨æŸ¥è¯¢æ—¶å´çœ‹åˆ°äº†è‡ªæˆ‘ä»‹ç»è¿˜æ˜¯æ—§çš„ï¼Œä¸šåŠ¡å½±å“ä¸ä¸èƒ½ç™»å½•ç›¸æ¯”å°±å°å¾ˆå¤šï¼Œè¿˜å¯ä»¥å¿å—ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_58-ä½ ä»¬ä¸€èˆ¬æ˜¯æ€ä¹ˆåˆ†åº“çš„å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_58-ä½ ä»¬ä¸€èˆ¬æ˜¯æ€ä¹ˆåˆ†åº“çš„å‘¢"}},[e._v("#")]),e._v(" 58.ä½ ä»¬ä¸€èˆ¬æ˜¯æ€ä¹ˆåˆ†åº“çš„å‘¢ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("å‚ç›´åˆ†åº“ï¼šä»¥è¡¨ä¸ºä¾æ®ï¼ŒæŒ‰ç…§ä¸šåŠ¡å½’å±ä¸åŒï¼Œå°†ä¸åŒçš„è¡¨æ‹†åˆ†åˆ°ä¸åŒçš„åº“ä¸­ã€‚")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-2a43af18-617b-4502-b66a-894c2ff4c6c3.jpg",alt:"å‚ç›´åˆ†åº“"}})]),e._v(" "),_("ul",[_("li",[e._v("æ°´å¹³åˆ†åº“ï¼šä»¥å­—æ®µä¸ºä¾æ®ï¼ŒæŒ‰ç…§ä¸€å®šç­–ç•¥ï¼ˆhashã€range ç­‰ï¼‰ï¼Œå°†ä¸€ä¸ªåº“ä¸­çš„æ•°æ®æ‹†åˆ†åˆ°å¤šä¸ªåº“ä¸­ã€‚")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-debe0fb1-d7f7-4ef2-8c99-13c9377138b6.jpg",alt:"æ°´å¹³åˆ†åº“"}})]),e._v(" "),_("h3",{attrs:{id:"_59-é‚£ä½ ä»¬æ˜¯æ€ä¹ˆåˆ†è¡¨çš„"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_59-é‚£ä½ ä»¬æ˜¯æ€ä¹ˆåˆ†è¡¨çš„"}},[e._v("#")]),e._v(" 59.é‚£ä½ ä»¬æ˜¯æ€ä¹ˆåˆ†è¡¨çš„ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("æ°´å¹³åˆ†è¡¨ï¼šä»¥å­—æ®µä¸ºä¾æ®ï¼ŒæŒ‰ç…§ä¸€å®šç­–ç•¥ï¼ˆhashã€range ç­‰ï¼‰ï¼Œå°†ä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®æ‹†åˆ†åˆ°å¤šä¸ªè¡¨ä¸­ã€‚")]),e._v(" "),_("li",[e._v("å‚ç›´åˆ†è¡¨ï¼šä»¥å­—æ®µä¸ºä¾æ®ï¼ŒæŒ‰ç…§å­—æ®µçš„æ´»è·ƒæ€§ï¼Œå°†è¡¨ä¸­å­—æ®µæ‹†åˆ°ä¸åŒçš„è¡¨ï¼ˆä¸»è¡¨å’Œæ‰©å±•è¡¨ï¼‰ä¸­ã€‚")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-7cba6ce0-c8bb-4f51-9c3b-e5a44e724c79.jpg",alt:"è¡¨æ‹†åˆ†"}})]),e._v(" "),_("h3",{attrs:{id:"_60-æ°´å¹³åˆ†è¡¨æœ‰å“ªå‡ ç§è·¯ç”±æ–¹å¼"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_60-æ°´å¹³åˆ†è¡¨æœ‰å“ªå‡ ç§è·¯ç”±æ–¹å¼"}},[e._v("#")]),e._v(" 60.æ°´å¹³åˆ†è¡¨æœ‰å“ªå‡ ç§è·¯ç”±æ–¹å¼ï¼Ÿ")]),e._v(" "),_("p",[e._v("ä»€ä¹ˆæ˜¯è·¯ç”±å‘¢ï¼Ÿå°±æ˜¯æ•°æ®åº”è¯¥åˆ†åˆ°å“ªä¸€å¼ è¡¨ã€‚")]),e._v(" "),_("p",[e._v("æ°´å¹³åˆ†è¡¨ä¸»è¦æœ‰ä¸‰ç§è·¯ç”±æ–¹å¼ï¼š")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("èŒƒå›´è·¯ç”±")]),e._v("ï¼šé€‰å–æœ‰åºçš„æ•°æ®åˆ— ï¼ˆä¾‹å¦‚ï¼Œæ•´å½¢ã€æ—¶é—´æˆ³ç­‰ï¼‰ ä½œä¸ºè·¯ç”±çš„æ¡ä»¶ï¼Œä¸åŒåˆ†æ®µåˆ†æ•£åˆ°ä¸åŒçš„æ•°æ®åº“è¡¨ä¸­ã€‚")])]),e._v(" "),_("p",[e._v("æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿä¸€äº›æ”¯ä»˜ç³»ç»Ÿï¼Œå‘ç°åªèƒ½æŸ¥ä¸€å¹´èŒƒå›´å†…çš„æ”¯ä»˜è®°å½•ï¼Œè¿™ä¸ªå¯èƒ½å°±æ˜¯æ”¯ä»˜å…¬å¸æŒ‰ç…§æ—¶é—´è¿›è¡Œäº†åˆ†è¡¨ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-b3882ca3-1d04-44e2-9015-7e6c867255a0.jpg",alt:"èŒƒå›´è·¯ç”±"}})]),e._v(" "),_("p",[e._v("èŒƒå›´è·¯ç”±è®¾è®¡çš„å¤æ‚ç‚¹ä¸»è¦ä½“ç°åœ¨åˆ†æ®µå¤§å°çš„é€‰å–ä¸Šï¼Œåˆ†æ®µå¤ªå°ä¼šå¯¼è‡´åˆ‡åˆ†åå­è¡¨æ•°é‡è¿‡å¤šï¼Œå¢åŠ ç»´æŠ¤å¤æ‚åº¦ï¼›åˆ†æ®µå¤ªå¤§å¯èƒ½ä¼šå¯¼è‡´å•è¡¨ä¾ç„¶å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œä¸€èˆ¬å»ºè®®åˆ†æ®µå¤§å°åœ¨ 100 ä¸‡è‡³ 2000 ä¸‡ä¹‹é—´ï¼Œå…·ä½“éœ€è¦æ ¹æ®ä¸šåŠ¡é€‰å–åˆé€‚çš„åˆ†æ®µå¤§å°ã€‚")]),e._v(" "),_("p",[e._v("èŒƒå›´è·¯ç”±çš„ä¼˜ç‚¹æ˜¯å¯ä»¥éšç€æ•°æ®çš„å¢åŠ å¹³æ»‘åœ°æ‰©å……æ–°çš„è¡¨ã€‚ä¾‹å¦‚ï¼Œç°åœ¨çš„ç”¨æˆ·æ˜¯ 100 ä¸‡ï¼Œå¦‚æœå¢åŠ åˆ° 1000 ä¸‡ï¼Œåªéœ€è¦å¢åŠ æ–°çš„è¡¨å°±å¯ä»¥äº†ï¼ŒåŸæœ‰çš„æ•°æ®ä¸éœ€è¦åŠ¨ã€‚èŒƒå›´è·¯ç”±çš„ä¸€ä¸ªæ¯”è¾ƒéšå«çš„ç¼ºç‚¹æ˜¯åˆ†å¸ƒä¸å‡åŒ€ï¼Œå‡å¦‚æŒ‰ç…§ 1000 ä¸‡æ¥è¿›è¡Œåˆ†è¡¨ï¼Œæœ‰å¯èƒ½æŸä¸ªåˆ†æ®µå®é™…å­˜å‚¨çš„æ•°æ®é‡åªæœ‰ 1000 æ¡ï¼Œè€Œå¦å¤–ä¸€ä¸ªåˆ†æ®µå®é™…å­˜å‚¨çš„æ•°æ®é‡æœ‰ 900 ä¸‡æ¡ã€‚")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("Hash è·¯ç”±")]),e._v("ï¼šé€‰å–æŸä¸ªåˆ— ï¼ˆæˆ–è€…æŸå‡ ä¸ªåˆ—ç»„åˆä¹Ÿå¯ä»¥ï¼‰ çš„å€¼è¿›è¡Œ Hash è¿ç®—ï¼Œç„¶åæ ¹æ® Hash ç»“æœåˆ†æ•£åˆ°ä¸åŒçš„æ•°æ®åº“è¡¨ä¸­ã€‚")])]),e._v(" "),_("p",[e._v("åŒæ ·ä»¥è®¢å• id ä¸ºä¾‹ï¼Œå‡å¦‚æˆ‘ä»¬ä¸€å¼€å§‹å°±è§„åˆ’äº† 4 ä¸ªæ•°æ®åº“è¡¨ï¼Œè·¯ç”±ç®—æ³•å¯ä»¥ç®€å•åœ°ç”¨ id % 4 çš„å€¼æ¥è¡¨ç¤ºæ•°æ®æ‰€å±çš„æ•°æ®åº“è¡¨ç¼–å·ï¼Œid ä¸º 12 çš„è®¢å•æ”¾åˆ°ç¼–å·ä¸º 50 çš„å­è¡¨ä¸­ï¼Œid ä¸º 13 çš„è®¢å•æ”¾åˆ°ç¼–å·ä¸º 61 çš„å­—è¡¨ä¸­ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-e01e7757-c337-48c8-95db-2f7cfd2bc036.jpg",alt:"Hash è·¯ç”±"}})]),e._v(" "),_("p",[e._v("Hash è·¯ç”±è®¾è®¡çš„å¤æ‚ç‚¹ä¸»è¦ä½“ç°åœ¨åˆå§‹è¡¨æ•°é‡çš„é€‰å–ä¸Šï¼Œè¡¨æ•°é‡å¤ªå¤šç»´æŠ¤æ¯”è¾ƒéº»çƒ¦ï¼Œè¡¨æ•°é‡å¤ªå°‘åˆå¯èƒ½å¯¼è‡´å•è¡¨æ€§èƒ½å­˜åœ¨é—®é¢˜ã€‚è€Œç”¨äº† Hash è·¯ç”±åï¼Œå¢åŠ å­è¡¨æ•°é‡æ˜¯éå¸¸éº»çƒ¦çš„ï¼Œæ‰€æœ‰æ•°æ®éƒ½è¦é‡åˆ†å¸ƒã€‚Hash è·¯ç”±çš„ä¼˜ç¼ºç‚¹å’ŒèŒƒå›´è·¯ç”±åŸºæœ¬ç›¸åï¼ŒHash è·¯ç”±çš„ä¼˜ç‚¹æ˜¯è¡¨åˆ†å¸ƒæ¯”è¾ƒå‡åŒ€ï¼Œç¼ºç‚¹æ˜¯æ‰©å……æ–°çš„è¡¨å¾ˆéº»çƒ¦ï¼Œæ‰€æœ‰æ•°æ®éƒ½è¦é‡åˆ†å¸ƒã€‚")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("é…ç½®è·¯ç”±")]),e._v("ï¼šé…ç½®è·¯ç”±å°±æ˜¯è·¯ç”±è¡¨ï¼Œç”¨ä¸€å¼ ç‹¬ç«‹çš„è¡¨æ¥è®°å½•è·¯ç”±ä¿¡æ¯ã€‚åŒæ ·ä»¥è®¢å• id ä¸ºä¾‹ï¼Œæˆ‘ä»¬æ–°å¢ä¸€å¼  order_router è¡¨ï¼Œè¿™ä¸ªè¡¨åŒ…å« orderjd å’Œ tablejd ä¸¤åˆ— , æ ¹æ® orderjd å°±å¯ä»¥æŸ¥è¯¢å¯¹åº”çš„ table_idã€‚")])]),e._v(" "),_("p",[e._v("é…ç½®è·¯ç”±è®¾è®¡ç®€å•ï¼Œä½¿ç”¨èµ·æ¥éå¸¸çµæ´»ï¼Œå°¤å…¶æ˜¯åœ¨æ‰©å……è¡¨çš„æ—¶å€™ï¼Œåªéœ€è¦è¿ç§»æŒ‡å®šçš„æ•°æ®ï¼Œç„¶åä¿®æ”¹è·¯ç”±è¡¨å°±å¯ä»¥äº†ã€‚")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-fcd34332-d38d-455a-875d-d4afd37cac72.jpg",alt:"é…ç½®è·¯ç”±"}})]),e._v(" "),_("p",[e._v("é…ç½®è·¯ç”±çš„ç¼ºç‚¹å°±æ˜¯å¿…é¡»å¤šæŸ¥è¯¢ä¸€æ¬¡ï¼Œä¼šå½±å“æ•´ä½“æ€§èƒ½ï¼›è€Œä¸”è·¯ç”±è¡¨æœ¬èº«å¦‚æœå¤ªå¤§ï¼ˆä¾‹å¦‚ï¼Œå‡ äº¿æ¡æ•°æ®ï¼‰ ï¼Œæ€§èƒ½åŒæ ·å¯èƒ½æˆä¸ºç“¶é¢ˆï¼Œå¦‚æœæˆ‘ä»¬å†æ¬¡å°†è·¯ç”±è¡¨åˆ†åº“åˆ†è¡¨ï¼Œåˆ™åˆé¢ä¸´ä¸€ä¸ªæ­»å¾ªç¯å¼çš„è·¯ç”±ç®—æ³•é€‰æ‹©é—®é¢˜ã€‚")]),e._v(" "),_("h3",{attrs:{id:"_61-ä¸åœæœºæ‰©å®¹æ€ä¹ˆå®ç°"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_61-ä¸åœæœºæ‰©å®¹æ€ä¹ˆå®ç°"}},[e._v("#")]),e._v(" 61.ä¸åœæœºæ‰©å®¹æ€ä¹ˆå®ç°ï¼Ÿ")]),e._v(" "),_("p",[e._v("å®é™…ä¸Šï¼Œä¸åœæœºæ‰©å®¹ï¼Œå®æ“èµ·æ¥æ˜¯ä¸ªéå¸¸éº»çƒ¦è€Œä¸”å¾ˆæœ‰é£é™©çš„æ“ä½œï¼Œå½“ç„¶ï¼Œé¢è¯•å›ç­”èµ·æ¥å°±ç®€å•å¾ˆå¤šã€‚")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("ç¬¬ä¸€é˜¶æ®µï¼šåœ¨çº¿åŒå†™ï¼ŒæŸ¥è¯¢èµ°è€åº“")])])]),e._v(" "),_("ol",[_("li",[e._v("å»ºç«‹å¥½æ–°çš„åº“è¡¨ç»“æ„ï¼Œæ•°æ®å†™å…¥ä¹…åº“çš„åŒæ—¶ï¼Œä¹Ÿå†™å…¥æ‹†åˆ†çš„æ–°åº“")]),e._v(" "),_("li",[e._v("æ•°æ®è¿ç§»ï¼Œä½¿ç”¨æ•°æ®è¿ç§»ç¨‹åºï¼Œå°†æ—§åº“ä¸­çš„å†å²æ•°æ®è¿ç§»åˆ°æ–°åº“")]),e._v(" "),_("li",[e._v("ä½¿ç”¨å®šæ—¶ä»»åŠ¡ï¼Œæ–°æ—§åº“çš„æ•°æ®å¯¹æ¯”ï¼ŒæŠŠå·®å¼‚è¡¥é½")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-2d4d94c9-e816-47fc-93dd-a835b1318099.jpg",alt:""}})]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("ç¬¬äºŒé˜¶æ®µï¼šåœ¨çº¿åŒå†™ï¼ŒæŸ¥è¯¢èµ°æ–°åº“")])])]),e._v(" "),_("ol",[_("li",[e._v("å®Œæˆäº†å†å²æ•°æ®çš„åŒæ­¥å’Œæ ¡éªŒ")]),e._v(" "),_("li",[e._v("æŠŠå¯¹æ•°æ®çš„è¯»åˆ‡æ¢åˆ°æ–°åº“")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-5cf01486-72c1-4eab-9f6e-a19c31569f46.jpg",alt:""}})]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("ç¬¬ä¸‰é˜¶æ®µï¼šæ—§åº“ä¸‹çº¿")])])]),e._v(" "),_("ol",[_("li",[e._v("æ—§åº“ä¸å†å†™å…¥æ–°çš„æ•°æ®")]),e._v(" "),_("li",[e._v("ç»è¿‡ä¸€æ®µæ—¶é—´ï¼Œç¡®å®šæ—§åº“æ²¡æœ‰è¯·æ±‚ä¹‹åï¼Œå°±å¯ä»¥ä¸‹çº¿è€åº“")])]),e._v(" "),_("p",[_("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-a122d6d5-fff2-4ccd-8ddb-a9282eb2e2da.jpg",alt:""}})]),e._v(" "),_("h3",{attrs:{id:"_62-å¸¸ç”¨çš„åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶æœ‰å“ªäº›"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_62-å¸¸ç”¨çš„åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶æœ‰å“ªäº›"}},[e._v("#")]),e._v(" 62.å¸¸ç”¨çš„åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶æœ‰å“ªäº›ï¼Ÿ")]),e._v(" "),_("ul",[_("li",[e._v("sharding-jdbc")]),e._v(" "),_("li",[e._v("Mycat")])]),e._v(" "),_("h3",{attrs:{id:"_63-é‚£ä½ è§‰å¾—åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_63-é‚£ä½ è§‰å¾—åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢"}},[e._v("#")]),e._v(" 63.é‚£ä½ è§‰å¾—åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ")]),e._v(" "),_("p",[e._v("ä»åˆ†åº“çš„è§’åº¦æ¥è®²ï¼š")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("äº‹åŠ¡çš„é—®é¢˜")])])]),e._v(" "),_("p",[e._v("ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ï¼Œæœ‰å¾ˆå¤§ä¸€ç‚¹åœ¨äºå®ƒä¿è¯äº‹åŠ¡å®Œæ•´æ€§ã€‚")]),e._v(" "),_("p",[e._v("è€Œåˆ†åº“ä¹‹åå•æœºäº‹åŠ¡å°±ç”¨ä¸ä¸Šäº†ï¼Œå¿…é¡»ä½¿ç”¨åˆ†å¸ƒå¼äº‹åŠ¡æ¥è§£å†³ã€‚")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("è·¨åº“ JOIN é—®é¢˜")])])]),e._v(" "),_("p",[e._v("åœ¨ä¸€ä¸ªåº“ä¸­çš„æ—¶å€™æˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨ JOIN æ¥è¿è¡¨æŸ¥è¯¢ï¼Œè€Œè·¨åº“äº†ä¹‹åå°±æ— æ³•ä½¿ç”¨ JOIN äº†ã€‚")]),e._v(" "),_("p",[e._v("æ­¤æ—¶çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯"),_("strong",[e._v("åœ¨ä¸šåŠ¡ä»£ç ä¸­è¿›è¡Œå…³è”")]),e._v("ï¼Œä¹Ÿå°±æ˜¯å…ˆæŠŠä¸€ä¸ªè¡¨çš„æ•°æ®æŸ¥å‡ºæ¥ï¼Œç„¶åé€šè¿‡å¾—åˆ°çš„ç»“æœå†å»æŸ¥å¦ä¸€å¼ è¡¨ï¼Œç„¶ååˆ©ç”¨ä»£ç æ¥å…³è”å¾—åˆ°æœ€ç»ˆçš„ç»“æœã€‚")]),e._v(" "),_("p",[e._v("è¿™ç§æ–¹å¼å®ç°èµ·æ¥ç¨å¾®æ¯”è¾ƒå¤æ‚ï¼Œä¸è¿‡ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ã€‚")]),e._v(" "),_("p",[e._v("è¿˜æœ‰å¯ä»¥"),_("strong",[e._v("é€‚å½“çš„å†—ä½™ä¸€äº›å­—æ®µ")]),e._v("ã€‚æ¯”å¦‚ä»¥å‰çš„è¡¨å°±å­˜å‚¨ä¸€ä¸ªå…³è” IDï¼Œä½†æ˜¯ä¸šåŠ¡æ—¶å¸¸è¦æ±‚è¿”å›å¯¹åº”çš„ Name æˆ–è€…å…¶ä»–å­—æ®µã€‚è¿™æ—¶å€™å°±å¯ä»¥æŠŠè¿™äº›å­—æ®µå†—ä½™åˆ°å½“å‰è¡¨ä¸­ï¼Œæ¥å»é™¤éœ€è¦å…³è”çš„æ“ä½œã€‚")]),e._v(" "),_("p",[e._v("è¿˜æœ‰ä¸€ç§æ–¹å¼å°±æ˜¯"),_("strong",[e._v("æ•°æ®å¼‚æ„")]),e._v("ï¼Œé€šè¿‡ binlog åŒæ­¥ç­‰æ–¹å¼ï¼ŒæŠŠéœ€è¦è·¨åº“ join çš„æ•°æ®å¼‚æ„åˆ° ES ç­‰å­˜å‚¨ç»“æ„ä¸­ï¼Œé€šè¿‡ ES è¿›è¡ŒæŸ¥è¯¢ã€‚")]),e._v(" "),_("p",[e._v("ä»åˆ†è¡¨çš„è§’åº¦æ¥çœ‹ï¼š")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("è·¨èŠ‚ç‚¹çš„ count,order by,group by ä»¥åŠèšåˆå‡½æ•°é—®é¢˜")])])]),e._v(" "),_("p",[e._v("åªèƒ½ç”±ä¸šåŠ¡ä»£ç æ¥å®ç°æˆ–è€…ç”¨ä¸­é—´ä»¶å°†å„è¡¨ä¸­çš„æ•°æ®æ±‡æ€»ã€æ’åºã€åˆ†é¡µç„¶åè¿”å›ã€‚")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("æ•°æ®è¿ç§»ï¼Œå®¹é‡è§„åˆ’ï¼Œæ‰©å®¹ç­‰é—®é¢˜")])])]),e._v(" "),_("p",[e._v("æ•°æ®çš„è¿ç§»ï¼Œå®¹é‡å¦‚ä½•è§„åˆ’ï¼Œæœªæ¥æ˜¯å¦å¯èƒ½å†æ¬¡éœ€è¦æ‰©å®¹ï¼Œç­‰ç­‰ï¼Œéƒ½æ˜¯éœ€è¦è€ƒè™‘çš„é—®é¢˜ã€‚")]),e._v(" "),_("ul",[_("li",[_("strong",[e._v("ID é—®é¢˜")])])]),e._v(" "),_("p",[e._v("æ•°æ®åº“è¡¨è¢«åˆ‡åˆ†åï¼Œä¸èƒ½å†ä¾èµ–æ•°æ®åº“è‡ªèº«çš„ä¸»é”®ç”Ÿæˆæœºåˆ¶ï¼Œæ‰€ä»¥éœ€è¦ä¸€äº›æ‰‹æ®µæ¥ä¿è¯å…¨å±€ä¸»é”®å”¯ä¸€ã€‚")]),e._v(" "),_("ol",[_("li",[e._v("è¿˜æ˜¯è‡ªå¢ï¼Œåªä¸è¿‡è‡ªå¢æ­¥é•¿è®¾ç½®ä¸€ä¸‹ã€‚æ¯”å¦‚ç°åœ¨æœ‰ä¸‰å¼ è¡¨ï¼Œæ­¥é•¿è®¾ç½®ä¸º 3ï¼Œä¸‰å¼ è¡¨ ID åˆå§‹å€¼åˆ†åˆ«æ˜¯ 1ã€2ã€3ã€‚è¿™æ ·ç¬¬ä¸€å¼ è¡¨çš„ ID å¢é•¿æ˜¯ 1ã€4ã€7ã€‚ç¬¬äºŒå¼ è¡¨æ˜¯ 2ã€5ã€8ã€‚ç¬¬ä¸‰å¼ è¡¨æ˜¯ 3ã€6ã€9ï¼Œè¿™æ ·å°±ä¸ä¼šé‡å¤äº†ã€‚")]),e._v(" "),_("li",[e._v("UUIDï¼Œè¿™ç§æœ€ç®€å•ï¼Œä½†æ˜¯ä¸è¿ç»­çš„ä¸»é”®æ’å…¥ä¼šå¯¼è‡´ä¸¥é‡çš„é¡µåˆ†è£‚ï¼Œæ€§èƒ½æ¯”è¾ƒå·®ã€‚")]),e._v(" "),_("li",[e._v("åˆ†å¸ƒå¼ IDï¼Œæ¯”è¾ƒå‡ºåçš„å°±æ˜¯ Twitter å¼€æºçš„ sonwflake é›ªèŠ±ç®—æ³•")])]),e._v(" "),_("h2",{attrs:{id:"è¿ç»´"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#è¿ç»´"}},[e._v("#")]),e._v(" è¿ç»´")]),e._v(" "),_("h3",{attrs:{id:"_64-ç™¾ä¸‡çº§åˆ«ä»¥ä¸Šçš„æ•°æ®å¦‚ä½•åˆ é™¤"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_64-ç™¾ä¸‡çº§åˆ«ä»¥ä¸Šçš„æ•°æ®å¦‚ä½•åˆ é™¤"}},[e._v("#")]),e._v(" 64.ç™¾ä¸‡çº§åˆ«ä»¥ä¸Šçš„æ•°æ®å¦‚ä½•åˆ é™¤ï¼Ÿ")]),e._v(" "),_("p",[e._v("å…³äºç´¢å¼•ï¼šç”±äºç´¢å¼•éœ€è¦é¢å¤–çš„ç»´æŠ¤æˆæœ¬ï¼Œå› ä¸ºç´¢å¼•æ–‡ä»¶æ˜¯å•ç‹¬å­˜åœ¨çš„æ–‡ä»¶,æ‰€ä»¥å½“æˆ‘ä»¬å¯¹æ•°æ®çš„å¢åŠ ,ä¿®æ”¹,åˆ é™¤,éƒ½ä¼šäº§ç”Ÿé¢å¤–çš„å¯¹ç´¢å¼•æ–‡ä»¶çš„æ“ä½œ,è¿™äº›æ“ä½œéœ€è¦æ¶ˆè€—é¢å¤–çš„ IO,ä¼šé™ä½å¢/æ”¹/åˆ çš„æ‰§è¡Œæ•ˆç‡ã€‚")]),e._v(" "),_("p",[e._v("æ‰€ä»¥ï¼Œåœ¨æˆ‘ä»¬åˆ é™¤æ•°æ®åº“ç™¾ä¸‡çº§åˆ«æ•°æ®çš„æ—¶å€™ï¼ŒæŸ¥è¯¢ MySQL å®˜æ–¹æ‰‹å†Œå¾—çŸ¥åˆ é™¤æ•°æ®çš„é€Ÿåº¦å’Œåˆ›å»ºçš„ç´¢å¼•æ•°é‡æ˜¯æˆæ­£æ¯”çš„ã€‚")]),e._v(" "),_("ol",[_("li",[e._v("æ‰€ä»¥æˆ‘ä»¬æƒ³è¦åˆ é™¤ç™¾ä¸‡æ•°æ®çš„æ—¶å€™å¯ä»¥å…ˆåˆ é™¤ç´¢å¼•")]),e._v(" "),_("li",[e._v("ç„¶ååˆ é™¤å…¶ä¸­æ— ç”¨æ•°æ®")]),e._v(" "),_("li",[e._v("åˆ é™¤å®Œæˆåé‡æ–°åˆ›å»ºç´¢å¼•åˆ›å»ºç´¢å¼•ä¹Ÿéå¸¸å¿«")])]),e._v(" "),_("h3",{attrs:{id:"_65-ç™¾ä¸‡åƒä¸‡çº§å¤§è¡¨å¦‚ä½•æ·»åŠ å­—æ®µ"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_65-ç™¾ä¸‡åƒä¸‡çº§å¤§è¡¨å¦‚ä½•æ·»åŠ å­—æ®µ"}},[e._v("#")]),e._v(" 65.ç™¾ä¸‡åƒä¸‡çº§å¤§è¡¨å¦‚ä½•æ·»åŠ å­—æ®µï¼Ÿ")]),e._v(" "),_("p",[e._v("å½“çº¿ä¸Šçš„æ•°æ®åº“æ•°æ®é‡åˆ°è¾¾å‡ ç™¾ä¸‡ã€ä¸Šåƒä¸‡çš„æ—¶å€™ï¼ŒåŠ ä¸€ä¸ªå­—æ®µå°±æ²¡é‚£ä¹ˆç®€å•ï¼Œå› ä¸ºå¯èƒ½ä¼šé•¿æ—¶é—´é”è¡¨ã€‚")]),e._v(" "),_("p",[e._v("å¤§è¡¨æ·»åŠ å­—æ®µï¼Œé€šå¸¸æœ‰è¿™äº›åšæ³•ï¼š")]),e._v(" "),_("ul",[_("li",[e._v("é€šè¿‡ä¸­é—´è¡¨è½¬æ¢è¿‡å»")])]),e._v(" "),_("p",[e._v("åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„æ–°è¡¨ï¼ŒæŠŠæ—§è¡¨çš„ç»“æ„å®Œå…¨å¤åˆ¶è¿‡å»ï¼Œæ·»åŠ å­—æ®µï¼Œå†æŠŠæ—§è¡¨æ•°æ®å¤åˆ¶è¿‡å»ï¼Œåˆ é™¤æ—§è¡¨ï¼Œæ–°è¡¨å‘½åä¸ºæ—§è¡¨çš„åç§°ï¼Œè¿™ç§æ–¹å¼å¯èƒ½å›ä¸¢æ‰ä¸€äº›æ•°æ®ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("ç”¨ pt-online-schema-change")])]),e._v(" "),_("p",[_("code",[e._v("pt-online-schema-change")]),e._v("æ˜¯ percona å…¬å¸å¼€å‘çš„ä¸€ä¸ªå·¥å…·ï¼Œå®ƒå¯ä»¥åœ¨çº¿ä¿®æ”¹è¡¨ç»“æ„ï¼Œå®ƒçš„åŸç†ä¹Ÿæ˜¯é€šè¿‡ä¸­é—´è¡¨ã€‚")]),e._v(" "),_("ul",[_("li",[e._v("å…ˆåœ¨ä»åº“æ·»åŠ  å†è¿›è¡Œä¸»ä»åˆ‡æ¢")])]),e._v(" "),_("p",[e._v("å¦‚æœä¸€å¼ è¡¨æ•°æ®é‡å¤§ä¸”æ˜¯çƒ­è¡¨ï¼ˆè¯»å†™ç‰¹åˆ«é¢‘ç¹ï¼‰ï¼Œåˆ™å¯ä»¥è€ƒè™‘å…ˆåœ¨ä»åº“æ·»åŠ ï¼Œå†è¿›è¡Œä¸»ä»åˆ‡æ¢ï¼Œåˆ‡æ¢åå†å°†å…¶ä»–å‡ ä¸ªèŠ‚ç‚¹ä¸Šæ·»åŠ å­—æ®µã€‚")]),e._v(" "),_("h3",{attrs:{id:"_66-mysql-æ•°æ®åº“-cpu-é£™å‡çš„è¯-è¦æ€ä¹ˆå¤„ç†å‘¢"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_66-mysql-æ•°æ®åº“-cpu-é£™å‡çš„è¯-è¦æ€ä¹ˆå¤„ç†å‘¢"}},[e._v("#")]),e._v(" 66.MySQL æ•°æ®åº“ cpu é£™å‡çš„è¯ï¼Œè¦æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ")]),e._v(" "),_("p",[e._v("æ’æŸ¥è¿‡ç¨‹ï¼š")]),e._v(" "),_("p",[e._v("ï¼ˆ1ï¼‰ä½¿ç”¨ top å‘½ä»¤è§‚å¯Ÿï¼Œç¡®å®šæ˜¯ mysqld å¯¼è‡´è¿˜æ˜¯å…¶ä»–åŸå› ã€‚")]),e._v(" "),_("p",[e._v("ï¼ˆ2ï¼‰å¦‚æœæ˜¯ mysqld å¯¼è‡´çš„ï¼Œshow processlistï¼ŒæŸ¥çœ‹ session æƒ…å†µï¼Œç¡®å®šæ˜¯ä¸æ˜¯æœ‰æ¶ˆè€—èµ„æºçš„ sql åœ¨è¿è¡Œã€‚")]),e._v(" "),_("p",[e._v("ï¼ˆ3ï¼‰æ‰¾å‡ºæ¶ˆè€—é«˜çš„ sqlï¼Œçœ‹çœ‹æ‰§è¡Œè®¡åˆ’æ˜¯å¦å‡†ç¡®ï¼Œ ç´¢å¼•æ˜¯å¦ç¼ºå¤±ï¼Œæ•°æ®é‡æ˜¯å¦å¤ªå¤§ã€‚")]),e._v(" "),_("p",[e._v("å¤„ç†ï¼š")]),e._v(" "),_("p",[e._v("ï¼ˆ1ï¼‰kill æ‰è¿™äº›çº¿ç¨‹ (åŒæ—¶è§‚å¯Ÿ cpu ä½¿ç”¨ç‡æ˜¯å¦ä¸‹é™)ï¼Œ")]),e._v(" "),_("p",[e._v("ï¼ˆ2ï¼‰è¿›è¡Œç›¸åº”çš„è°ƒæ•´ (æ¯”å¦‚è¯´åŠ ç´¢å¼•ã€æ”¹ sqlã€æ”¹å†…å­˜å‚æ•°)")]),e._v(" "),_("p",[e._v("ï¼ˆ3ï¼‰é‡æ–°è·‘è¿™äº› SQLã€‚")]),e._v(" "),_("p",[e._v("å…¶ä»–æƒ…å†µï¼š")]),e._v(" "),_("p",[e._v("ä¹Ÿæœ‰å¯èƒ½æ˜¯æ¯ä¸ª sql æ¶ˆè€—èµ„æºå¹¶ä¸å¤šï¼Œä½†æ˜¯çªç„¶ä¹‹é—´ï¼Œæœ‰å¤§é‡çš„ session è¿è¿›æ¥å¯¼è‡´ cpu é£™å‡ï¼Œè¿™ç§æƒ…å†µå°±éœ€è¦è·Ÿåº”ç”¨ä¸€èµ·æ¥åˆ†æä¸ºä½•è¿æ¥æ•°ä¼šæ¿€å¢ï¼Œå†åšå‡ºç›¸åº”çš„è°ƒæ•´ï¼Œæ¯”å¦‚è¯´é™åˆ¶è¿æ¥æ•°ç­‰")]),e._v(" "),_("hr"),e._v(" "),_("p",[_("em",[e._v("æ²¡æœ‰ä»€ä¹ˆä½¿æˆ‘åœç•™â€”â€”é™¤äº†ç›®çš„ï¼Œçºµç„¶å²¸æ—æœ‰ç«ç‘°ã€æœ‰ç»¿è«ã€æœ‰å®é™çš„æ¸¯æ¹¾ï¼Œæˆ‘æ˜¯ä¸ç³»ä¹‹èˆŸ")]),e._v("ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("ç³»åˆ—å†…å®¹")]),e._v("ï¼š")]),e._v(" "),_("hr"),e._v(" "),_("p",[_("em",[e._v("æ²¡æœ‰ä»€ä¹ˆä½¿æˆ‘åœç•™â€”â€”é™¤äº†ç›®çš„ï¼Œçºµç„¶å²¸æ—æœ‰ç«ç‘°ã€æœ‰ç»¿è«ã€æœ‰å®é™çš„æ¸¯æ¹¾ï¼Œæˆ‘æ˜¯ä¸ç³»ä¹‹èˆŸ")]),e._v("ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("ç³»åˆ—å†…å®¹")]),e._v("ï¼š")]),e._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/javase.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­ Java SE ç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/javathread.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­ Java é›†åˆæ¡†æ¶ç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/collection.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­ Java å¹¶å‘ç¼–ç¨‹ç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/jvm.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­ JVM ç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/spring.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­ Spring ç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/redis.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­ Redis ç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/mybatis.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­ MyBatis ç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/mysql.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­ MySQL ç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/os.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­æ“ä½œç³»ç»Ÿç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/network.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­è®¡ç®—æœºç½‘ç»œç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/rocketmq.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­RocketMQç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/fenbushi.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­åˆ†å¸ƒå¼ç¯‡ğŸ‘"),_("OutboundLink")],1)]),e._v(" "),_("li",[_("a",{attrs:{href:"https://javabetter.cn/sidebar/sanfene/weifuwu.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("é¢æ¸£é€†è¢­å¾®æœåŠ¡ç¯‡ğŸ‘"),_("OutboundLink")],1)])]),e._v(" "),_("hr")])}),[],!1,null,null,null);_.default=a.exports}}]);