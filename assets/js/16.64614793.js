(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{671:function(A,t,s){A.exports=s.p+"assets/img/13.从机配置.6f639cf7.jpg"},672:function(A,t,s){A.exports=s.p+"assets/img/14.主从顺序启动.03b545eb.jpg"},673:function(A,t,s){A.exports=s.p+"assets/img/15主从客户端连接.f5e19ded.jpg"},674:function(A,t,s){A.exports=s.p+"assets/img/16.主机日志.fbe23dee.jpg"},675:function(A,t,s){A.exports=s.p+"assets/img/17.从机日志.a824179d.jpg"},676:function(A,t,s){A.exports=s.p+"assets/img/18.命令查看主从关系.262412b7.jpg"},677:function(A,t){A.exports="data:image/png;base64,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"},678:function(A,t,s){A.exports=s.p+"assets/img/20.主机挂掉从机不上位.939fc2f4.png"},679:function(A,t,s){A.exports=s.p+"assets/img/21.主机重启.e61e06a2.png"},680:function(A,t,s){A.exports=s.p+"assets/img/22.去掉从机配置.8e77b8c5.png"},681:function(A,t,s){A.exports=s.p+"assets/img/23.3台master.b42c3760.png"},682:function(A,t,s){A.exports=s.p+"assets/img/24.slaveof效果.6efd4140.png"},853:function(A,t,s){"use strict";s.r(t);var r=s(2),v=Object(r.a)({},(function(){var A=this,t=A._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":A.$parent.slotKey}},[t("h3",{attrs:{id:"案例演示-配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#案例演示-配置文件"}},[A._v("#")]),A._v(" 案例演示-配置文件")]),A._v(" "),t("h3",{attrs:{id:"一主二仆"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一主二仆"}},[A._v("#")]),A._v(" 一主二仆")]),A._v(" "),t("h4",{attrs:{id:"方案1-配置文件固定写死主从关系"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案1-配置文件固定写死主从关系"}},[A._v("#")]),A._v(" 方案1：配置文件固定写死主从关系")]),A._v(" "),t("ul",[t("li",[t("p",[A._v("配置文件执行：replicaof 主库IP 主库端口")])]),A._v(" "),t("li",[t("p",[A._v("配从(库)不配(主)库：配置从机")]),A._v(" "),t("p",[t("img",{attrs:{src:s(671),alt:""}})])]),A._v(" "),t("li",[t("p",[A._v("先master后两台slave依次启动")]),A._v(" "),t("p",[t("img",{attrs:{src:s(672),alt:""}})]),A._v(" "),t("p",[t("img",{attrs:{src:s(673),alt:""}})])]),A._v(" "),t("li",[t("p",[A._v("主从关系查看")]),A._v(" "),t("p",[A._v("主机日志")])])]),A._v(" "),t("p",[t("img",{attrs:{src:s(674),alt:""}})]),A._v(" "),t("p",[A._v("​\t从机日志")]),A._v(" "),t("p",[t("img",{attrs:{src:s(675),alt:""}})]),A._v(" "),t("p",[A._v("​\t命令：info replication命令查看")]),A._v(" "),t("p",[t("img",{attrs:{src:s(676),alt:""}})]),A._v(" "),t("h4",{attrs:{id:"textcolor-red-主从问题演示"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#textcolor-red-主从问题演示"}},[A._v("#")]),A._v(" $\\textcolor{red}{主从问题演示}$")]),A._v(" "),t("ol",[t("li",[t("p",[A._v("Q：从机可以执行写命令吗？")]),A._v(" "),t("p",[A._v("A："),t("strong",[A._v("不可以，从机只能读")])]),A._v(" "),t("p",[t("img",{attrs:{src:s(677),alt:""}})])]),A._v(" "),t("li",[t("p",[A._v("Q：从机切入点问题？")]),A._v(" "),t("p",[A._v("Q：$\\textcolor{blue}{slave是从头开始复制还是从切入点开始复制?}$\nA：master启动，写到k3\nslave1跟着master同时启动，跟着写到k3\nslave2写到k3后才启动，那之前的是否也可以复制?\n$\\textcolor{blue}{Y，首次一锅端，后续跟随，master写，slave跟}$")])]),A._v(" "),t("li",[t("p",[A._v("Q：主机shutdown后，从机会上位吗？")]),A._v(" "),t("p",[A._v("A："),t("strong",[A._v("从机不动，原地待命，从机数据可以正常使用，等待主机重启归来")])]),A._v(" "),t("p",[t("img",{attrs:{src:s(678),alt:""}})])]),A._v(" "),t("li",[t("p",[A._v("Q：主机shutdown后，重启后主从关系还在吗？从机还能否顺利复制？")]),A._v(" "),t("p",[A._v("A：主从关系依然存在，从机依旧是从机，可以顺利复制")]),A._v(" "),t("p",[t("img",{attrs:{src:s(679),alt:""}})])]),A._v(" "),t("li",[t("p",[A._v("Q：某台从机down后，master继续，从机重启后它能跟上大部队吗？")]),A._v(" "),t("p",[A._v("A：可以，类似于从机切入点问题")])])]),A._v(" "),t("h4",{attrs:{id:"方案2-命令操作手动主从关系指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案2-命令操作手动主从关系指令"}},[A._v("#")]),A._v(" 方案2：命令操作手动主从关系指令")]),A._v(" "),t("ol",[t("li",[t("p",[A._v("从机停机去掉配置文件中的配置项，3台目前都是主机状态，各不从属")]),A._v(" "),t("p",[t("img",{attrs:{src:s(680),alt:""}})])]),A._v(" "),t("li",[t("p",[A._v("3台master")]),A._v(" "),t("p",[t("img",{attrs:{src:s(681),alt:""}})])]),A._v(" "),t("li",[t("p",[A._v("预设的从机上执行命令")]),A._v(" "),t("p",[A._v("salveof 主库IP 主库端口")]),A._v(" "),t("p",[t("img",{attrs:{src:s(682),alt:""}})])]),A._v(" "),t("li",[t("p",[A._v("Q：用命令使用的话，2台从机重启后，关系还在吗？")]),A._v(" "),t("p",[A._v("A：不会存在了")])])]),A._v(" "),t("h4",{attrs:{id:"配置-vs-命令的区别-配置-持久稳定永久生效-命令-当成生效"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-vs-命令的区别-配置-持久稳定永久生效-命令-当成生效"}},[A._v("#")]),A._v(" 配置 VS 命令的区别，配置，持久稳定永久生效；命令，当成生效")]),A._v(" "),t("h3",{attrs:{id:"薪火相传"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#薪火相传"}},[A._v("#")]),A._v(" 薪火相传")]),A._v(" "),t("ul",[t("li",[A._v("上一个slave可以是下一个slave的master，slave同样可以接收其他slaves的连接和同步请求，那么该slave作为了链条中下一个的master,可以有效减轻主master的写压力")]),A._v(" "),t("li",[A._v("中途变更转向:会清除之前的数据，重新建立主从关系并拷贝最新的")]),A._v(" "),t("li",[A._v("slaveof 新主库IP 新主库端口")])]),A._v(" "),t("h3",{attrs:{id:"反客为主"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#反客为主"}},[A._v("#")]),A._v(" 反客为主")]),A._v(" "),t("p",[A._v("slaveof no one  使当前数据库停止与其他数据库的同步关系")])])}),[],!1,null,null,null);t.default=v.exports}}]);